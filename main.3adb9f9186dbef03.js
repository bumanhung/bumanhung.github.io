"use strict";(self.webpackChunkaibit=self.webpackChunkaibit||[]).push([[792],{76:(ki,gr,ct)=>{ct.d(gr,{Am:()=>Rn,Bd:()=>ge,FA:()=>Ee,Fy:()=>Mr,I9:()=>Nr,Im:()=>Ce,Ku:()=>os,Ll:()=>Kt,T9:()=>sn,Uj:()=>bt,XA:()=>Et,ZQ:()=>Je,bD:()=>En,c1:()=>Zt,cY:()=>zt,eX:()=>oe,g:()=>te,gR:()=>ee,hp:()=>Fi,jZ:()=>Bn,lT:()=>Vo,lV:()=>vi,mS:()=>Ft,nr:()=>yo,p7:()=>yn,sr:()=>Hr,tD:()=>Mn,u:()=>fe,zW:()=>G,zw:()=>$e});const se=function(R){const M=[];let V=0;for(let q=0;q<R.length;q++){let Z=R.charCodeAt(q);Z<128?M[V++]=Z:Z<2048?(M[V++]=Z>>6|192,M[V++]=63&Z|128):55296==(64512&Z)&&q+1<R.length&&56320==(64512&R.charCodeAt(q+1))?(Z=65536+((1023&Z)<<10)+(1023&R.charCodeAt(++q)),M[V++]=Z>>18|240,M[V++]=Z>>12&63|128,M[V++]=Z>>6&63|128,M[V++]=63&Z|128):(M[V++]=Z>>12|224,M[V++]=Z>>6&63|128,M[V++]=63&Z|128)}return M},An={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(R,M){if(!Array.isArray(R))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=M?this.byteToCharMapWebSafe_:this.byteToCharMap_,q=[];for(let Z=0;Z<R.length;Z+=3){const Ue=R[Z],Ve=Z+1<R.length,fn=Ve?R[Z+1]:0,cr=Z+2<R.length,et=cr?R[Z+2]:0;let Or=(15&fn)<<2|et>>6,ss=63&et;cr||(ss=64,Ve||(Or=64)),q.push(V[Ue>>2],V[(3&Ue)<<4|fn>>4],V[Or],V[ss])}return q.join("")},encodeString(R,M){return this.HAS_NATIVE_SUPPORT&&!M?btoa(R):this.encodeByteArray(se(R),M)},decodeString(R,M){return this.HAS_NATIVE_SUPPORT&&!M?atob(R):function(R){const M=[];let V=0,q=0;for(;V<R.length;){const Z=R[V++];if(Z<128)M[q++]=String.fromCharCode(Z);else if(Z>191&&Z<224){const Ue=R[V++];M[q++]=String.fromCharCode((31&Z)<<6|63&Ue)}else if(Z>239&&Z<365){const cr=((7&Z)<<18|(63&R[V++])<<12|(63&R[V++])<<6|63&R[V++])-65536;M[q++]=String.fromCharCode(55296+(cr>>10)),M[q++]=String.fromCharCode(56320+(1023&cr))}else{const Ue=R[V++],Ve=R[V++];M[q++]=String.fromCharCode((15&Z)<<12|(63&Ue)<<6|63&Ve)}}return M.join("")}(this.decodeStringToByteArray(R,M))},decodeStringToByteArray(R,M){this.init_();const V=M?this.charToByteMapWebSafe_:this.charToByteMap_,q=[];for(let Z=0;Z<R.length;){const Ue=V[R.charAt(Z++)],fn=Z<R.length?V[R.charAt(Z)]:0;++Z;const et=Z<R.length?V[R.charAt(Z)]:64;++Z;const tt=Z<R.length?V[R.charAt(Z)]:64;if(++Z,null==Ue||null==fn||null==et||null==tt)throw new In;q.push(Ue<<2|fn>>4),64!==et&&(q.push(fn<<4&240|et>>2),64!==tt&&q.push(et<<6&192|tt))}return q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let R=0;R<this.ENCODED_VALS.length;R++)this.byteToCharMap_[R]=this.ENCODED_VALS.charAt(R),this.charToByteMap_[this.byteToCharMap_[R]]=R,this.byteToCharMapWebSafe_[R]=this.ENCODED_VALS_WEBSAFE.charAt(R),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[R]]=R,R>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(R)]=R,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(R)]=R)}}};class In extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bt=function(R){return function(R){const M=se(R);return An.encodeByteArray(M,!0)}(R).replace(/\./g,"")},fe=function(R){try{return An.decodeString(R,!0)}catch(M){console.error("base64Decode failed: ",M)}return null};function $e(R,M){if(!(M instanceof Object))return M;switch(M.constructor){case Date:return new Date(M.getTime());case Object:void 0===R&&(R={});break;case Array:R=[];break;default:return M}for(const V in M)!M.hasOwnProperty(V)||!It(V)||(R[V]=$e(R[V],M[V]));return R}function It(R){return"__proto__"!==R}function Ft(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const gt=()=>{try{return Ft().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const R=process.env.__FIREBASE_DEFAULTS__;return R?JSON.parse(R):void 0})()||(()=>{if(typeof document>"u")return;let R;try{R=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const M=R&&fe(R[1]);return M&&JSON.parse(M)})()}catch(R){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${R}`)}},sn=()=>{var R;return null===(R=gt())||void 0===R?void 0:R.config},Et=R=>{var M;return null===(M=gt())||void 0===M?void 0:M[`_${R}`]};class zt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((M,V)=>{this.resolve=M,this.reject=V})}wrapCallback(M){return(V,q)=>{V?this.reject(V):this.resolve(q),"function"==typeof M&&(this.promise.catch(()=>{}),1===M.length?M(V):M(V,q))}}}function Mr(R,M){if(R.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const q=M||"demo-project",Z=R.iat||0,Ue=R.sub||R.user_id;if(!Ue)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ve=Object.assign({iss:`https://securetoken.google.com/${q}`,aud:q,iat:Z,exp:Z+3600,auth_time:Z,sub:Ue,user_id:Ue,firebase:{sign_in_provider:"custom",identities:{}}},R);return[bt(JSON.stringify({alg:"none",type:"JWT"})),bt(JSON.stringify(Ve)),""].join(".")}function Je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Bn(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function Kt(){var R;const M=null===(R=gt())||void 0===R?void 0:R.forceEnvironment;if("node"===M)return!0;if("browser"===M)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ge(){return typeof window<"u"||yn()}function yn(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Zt(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Hr(){const R="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof R&&void 0!==R.id}function vi(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Vo(){const R=Je();return R.indexOf("MSIE ")>=0||R.indexOf("Trident/")>=0}function yo(){return!Kt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G(){try{return"object"==typeof indexedDB}catch{return!1}}function oe(){return new Promise((R,M)=>{try{let V=!0;const q="validate-browser-context-for-indexeddb-analytics-module",Z=self.indexedDB.open(q);Z.onsuccess=()=>{Z.result.close(),V||self.indexedDB.deleteDatabase(q),R(!0)},Z.onupgradeneeded=()=>{V=!1},Z.onerror=()=>{var Ue;M((null===(Ue=Z.error)||void 0===Ue?void 0:Ue.message)||"")}}catch(V){M(V)}})}class te extends Error{constructor(M,V,q){super(V),this.code=M,this.customData=q,this.name="FirebaseError",Object.setPrototypeOf(this,te.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ee.prototype.create)}}class Ee{constructor(M,V,q){this.service=M,this.serviceName=V,this.errors=q}create(M,...V){const q=V[0]||{},Z=`${this.service}/${M}`,Ue=this.errors[M],Ve=Ue?function ye(R,M){return R.replace(vt,(V,q)=>{const Z=M[q];return null!=Z?String(Z):`<${q}?>`})}(Ue,q):"Error";return new te(Z,`${this.serviceName}: ${Ve} (${Z}).`,q)}}const vt=/\{\$([^}]+)}/g;function ee(R,M){return Object.prototype.hasOwnProperty.call(R,M)}function Ce(R){for(const M in R)if(Object.prototype.hasOwnProperty.call(R,M))return!1;return!0}function En(R,M){if(R===M)return!0;const V=Object.keys(R),q=Object.keys(M);for(const Z of V){if(!q.includes(Z))return!1;const Ue=R[Z],Ve=M[Z];if(Vt(Ue)&&Vt(Ve)){if(!En(Ue,Ve))return!1}else if(Ue!==Ve)return!1}for(const Z of q)if(!V.includes(Z))return!1;return!0}function Vt(R){return null!==R&&"object"==typeof R}function Rn(R){const M=[];for(const[V,q]of Object.entries(R))Array.isArray(q)?q.forEach(Z=>{M.push(encodeURIComponent(V)+"="+encodeURIComponent(Z))}):M.push(encodeURIComponent(V)+"="+encodeURIComponent(q));return M.length?"&"+M.join("&"):""}function Nr(R){const M={};return R.replace(/^\?/,"").split("&").forEach(q=>{if(q){const[Z,Ue]=q.split("=");M[decodeURIComponent(Z)]=decodeURIComponent(Ue)}}),M}function Fi(R){const M=R.indexOf("?");if(!M)return"";const V=R.indexOf("#",M);return R.substring(M,V>0?V:void 0)}function Mn(R,M){const V=new vn(R,M);return V.subscribe.bind(V)}class vn{constructor(M,V){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=V,this.task.then(()=>{M(this)}).catch(q=>{this.error(q)})}next(M){this.forEachObserver(V=>{V.next(M)})}error(M){this.forEachObserver(V=>{V.error(M)}),this.close(M)}complete(){this.forEachObserver(M=>{M.complete()}),this.close()}subscribe(M,V,q){let Z;if(void 0===M&&void 0===V&&void 0===q)throw new Error("Missing Observer.");Z=function Xt(R,M){if("object"!=typeof R||null===R)return!1;for(const V of M)if(V in R&&"function"==typeof R[V])return!0;return!1}(M,["next","error","complete"])?M:{next:M,error:V,complete:q},void 0===Z.next&&(Z.next=en),void 0===Z.error&&(Z.error=en),void 0===Z.complete&&(Z.complete=en);const Ue=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Z.error(this.finalError):Z.complete()}catch{}}),this.observers.push(Z),Ue}unsubscribeOne(M){void 0===this.observers||void 0===this.observers[M]||(delete this.observers[M],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(M){if(!this.finalized)for(let V=0;V<this.observers.length;V++)this.sendOne(V,M)}sendOne(M,V){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[M])try{V(this.observers[M])}catch(q){typeof console<"u"&&console.error&&console.error(q)}})}close(M){this.finalized||(this.finalized=!0,void 0!==M&&(this.finalError=M),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function en(){}function os(R){return R&&R._delegate?R._delegate:R}},727:(ki,gr,ct)=>{function C(n){return"function"==typeof n}function Ye(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Be=Ye(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function se(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class St{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(C(r))try{r()}catch(o){e=o instanceof Be?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{mr(o)}catch(s){e=e??[],s instanceof Be?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Be(e)}}add(e){var t;if(e&&e!==this)if(this.closed)mr(e);else{if(e instanceof St){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&se(t,e)}remove(e){const{_finalizers:t}=this;t&&se(t,e),e instanceof St&&e._removeParent(this)}}St.EMPTY=(()=>{const n=new St;return n.closed=!0,n})();const An=St.EMPTY;function In(n){return n instanceof St||n&&"closed"in n&&C(n.remove)&&C(n.add)&&C(n.unsubscribe)}function mr(n){C(n)?n():n.unsubscribe()}const bt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},fe={setTimeout(n,e,...t){const{delegate:r}=fe;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=fe;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Te(n){fe.setTimeout(()=>{const{onUnhandledError:e}=bt;if(!e)throw n;e(n)})}function $e(){}const It=Lt("C",void 0,void 0);function Lt(n,e,t){return{kind:n,value:e,error:t}}let nt=null;function gt(n){if(bt.useDeprecatedSynchronousErrorHandling){const e=!nt;if(e&&(nt={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=nt;if(nt=null,t)throw r}}else n()}class ar extends St{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,In(e)&&e.add(this)):this.destination=ge}static create(e,t,r){return new Mr(e,t,r)}next(e){this.isStopped?Kt(function Ln(n){return Lt("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Kt(function Ft(n){return Lt("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Kt(It,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const sn=Function.prototype.bind;function Et(n,e){return sn.call(n,e)}class zt{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Je(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Je(r)}else Je(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Je(t)}}}class Mr extends ar{constructor(e,t,r){let i;if(super(),C(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&bt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Et(e.next,o),error:e.error&&Et(e.error,o),complete:e.complete&&Et(e.complete,o)}):i=e}this.destination=new zt(i)}}function Je(n){bt.useDeprecatedSynchronousErrorHandling?function sr(n){bt.useDeprecatedSynchronousErrorHandling&&nt&&(nt.errorThrown=!0,nt.error=n)}(n):Te(n)}function Kt(n,e){const{onStoppedNotification:t}=bt;t&&fe.setTimeout(()=>t(n,e))}const ge={closed:!0,next:$e,error:function Bn(n){throw n},complete:$e},yn="function"==typeof Symbol&&Symbol.observable||"@@observable";function Zt(n){return n}function vi(n){return 0===n.length?Zt:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let lt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function Xi(n){return n&&n instanceof ar||function ns(n){return n&&C(n.next)&&C(n.error)&&C(n.complete)}(n)&&In(n)}(t)?t:new Mr(t,r,i);return gt(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Vo(r))((i,o)=>{const s=new Mr({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[yn](){return this}pipe(...t){return vi(t)(this)}toPromise(t){return new(t=Vo(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Vo(n){var e;return null!==(e=n??bt.Promise)&&void 0!==e?e:Promise}const yo=Ye(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let G=(()=>{class n extends lt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new oe(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new yo}next(t){gt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){gt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){gt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?An:(this.currentObservers=null,o.push(t),new St(()=>{this.currentObservers=null,se(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new lt;return t.source=this,t}}return n.create=(e,t)=>new oe(e,t),n})();class oe extends G{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:An}}function ce(n){return C(n?.lift)}function z(n){return e=>{if(ce(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function te(n,e,t,r,i){return new Ee(n,e,t,r,i)}class Ee extends ar{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ye(n,e){return z((t,r)=>{let i=0;t.subscribe(te(r,o=>{r.next(n.call(e,o,i++))}))})}var vt=ct(635);const $t=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function rt(n){return C(n?.then)}function Pt(n){return C(n[yn])}function Sn(n){return Symbol.asyncIterator&&C(n?.[Symbol.asyncIterator])}function bi(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const U=function B(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ee(n){return C(n?.[U])}function de(n){return(0,vt.AQ)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield(0,vt.N3)(t.read());if(i)return yield(0,vt.N3)(void 0);yield yield(0,vt.N3)(r)}}finally{t.releaseLock()}})}function Ce(n){return C(n?.getReader)}function De(n){if(n instanceof lt)return n;if(null!=n){if(Pt(n))return function En(n){return new lt(e=>{const t=n[yn]();if(C(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if($t(n))return function Vt(n){return new lt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(rt(n))return function Ht(n){return new lt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Te)})}(n);if(Sn(n))return Nr(n);if(ee(n))return function Rn(n){return new lt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Ce(n))return function Fi(n){return Nr(de(n))}(n)}throw bi(n)}function Nr(n){return new lt(e=>{(function Pr(n,e){var t,r,i,o;return(0,vt.sH)(this,void 0,void 0,function*(){try{for(t=(0,vt.xN)(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Mn(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function an(n,e,t=1/0){return C(e)?an((r,i)=>ye((o,s)=>e(r,o,i,s))(De(n(r,i))),t):("number"==typeof e&&(t=e),z((r,i)=>function vn(n,e,t,r,i,o,s,a){const c=[];let d=0,f=0,m=!1;const y=()=>{m&&!c.length&&!d&&e.complete()},b=D=>d<r?w(D):c.push(D),w=D=>{o&&e.next(D),d++;let S=!1;De(t(D,f++)).subscribe(te(e,j=>{i?.(j),o?b(j):e.next(j)},()=>{S=!0},void 0,()=>{if(S)try{for(d--;c.length&&d<r;){const j=c.shift();s?Mn(e,s,()=>w(j)):w(j)}y()}catch(j){e.error(j)}}))};return n.subscribe(te(e,b,()=>{m=!0,y()})),()=>{a?.()}}(r,i,n,t)))}function Xt(n=1/0){return an(Zt,n)}const en=new lt(n=>n.complete());function rs(n){return n&&C(n.schedule)}function Ii(n){return n[n.length-1]}function is(n){return C(Ii(n))?n.pop():void 0}function Cs(n){return rs(Ii(n))?n.pop():void 0}function Vi(n,e=0){return z((t,r)=>{t.subscribe(te(r,i=>Mn(r,n,()=>r.next(i),e),()=>Mn(r,n,()=>r.complete(),e),i=>Mn(r,n,()=>r.error(i),e)))})}function Ei(n,e=0){return z((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Ka(n,e){if(!n)throw new Error("Iterable cannot be null");return new lt(t=>{Mn(t,e,()=>{const r=n[Symbol.asyncIterator]();Mn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function R(n,e){return e?function os(n,e){if(null!=n){if(Pt(n))return function na(n,e){return De(n).pipe(Ei(e),Vi(e))}(n,e);if($t(n))return function ra(n,e){return new lt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(rt(n))return function qa(n,e){return De(n).pipe(Ei(e),Vi(e))}(n,e);if(Sn(n))return Ka(n,e);if(ee(n))return function Uu(n,e){return new lt(t=>{let r;return Mn(t,e,()=>{r=n[U](),Mn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>C(r?.return)&&r.return()})}(n,e);if(Ce(n))return function Qa(n,e){return Ka(de(n),e)}(n,e)}throw bi(n)}(n,e):De(n)}function M(...n){const e=Cs(n),t=function ti(n,e){return"number"==typeof Ii(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?De(r[0]):Xt(t)(R(r,e)):en}class V extends G{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function q(...n){return R(n,Cs(n))}function Z(n={}){const{connector:e=(()=>new G),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,c,d=0,f=!1,m=!1;const y=()=>{a?.unsubscribe(),a=void 0},b=()=>{y(),s=c=void 0,f=m=!1},w=()=>{const D=s;b(),D?.unsubscribe()};return z((D,S)=>{d++,!m&&!f&&y();const j=c=c??e();S.add(()=>{d--,0===d&&!m&&!f&&(a=Ue(w,i))}),j.subscribe(S),!s&&d>0&&(s=new Mr({next:O=>j.next(O),error:O=>{m=!0,y(),a=Ue(b,t,O),j.error(O)},complete:()=>{f=!0,y(),a=Ue(b,r),j.complete()}}),De(D).subscribe(s))})(o)}}function Ue(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Mr({next:()=>{r.unsubscribe(),n()}});return De(e(...t)).subscribe(r)}function Ve(n,e){return z((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(te(r,c=>{i?.unsubscribe();let d=0;const f=o++;De(n(c,f)).subscribe(i=te(r,m=>r.next(e?e(c,m,f,d++):m),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function fn(n,e=Zt){return n=n??cr,z((t,r)=>{let i,o=!0;t.subscribe(te(r,s=>{const a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function cr(n,e){return n===e}function et(n){for(let e in n)if(n[e]===et)return e;throw Error("Could not find renamed property on target object.")}function tt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(tt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Or(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const ss=et({__forward_ref__:et});function _t(n){return n.__forward_ref__=_t,n.toString=function(){return tt(this())},n}function it(n){return Lo(n)?n():n}function Lo(n){return"function"==typeof n&&n.hasOwnProperty(ss)&&n.__forward_ref__===_t}function Ya(n){return n&&!!n.\u0275providers}const as="https://g.co/ng/security#xss";class be extends Error{constructor(e,t){super(function ne(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function F(n){return"string"==typeof n?n:null==n?"":String(n)}function mt(n,e){throw new be(-201,!1)}function to(n,e){null==n&&function st(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function Pe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Wt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Hu(n){return xf(n,rl)||xf(n,ia)}function xf(n,e){return n.hasOwnProperty(e)?n[e]:null}function Gu(n){return n&&(n.hasOwnProperty(kf)||n.hasOwnProperty(S_))?n[kf]:null}const rl=et({\u0275prov:et}),kf=et({\u0275inj:et}),ia=et({ngInjectableDef:et}),S_=et({ngInjectorDef:et});var Dt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Dt||{});let Ff;function wi(n){const e=Ff;return Ff=n,e}function Wu(n,e,t){const r=Hu(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Dt.Optional?null:void 0!==e?e:void mt(tt(n))}const cn=globalThis;class xe{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Pe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ol={},sl="__NG_DI_FLAG__",Ds="ngTempTokenPath",jf=/\n/gm,vo="__source";let Ja;function As(n){const e=Ja;return Ja=n,e}function Hf(n,e=Dt.Default){if(void 0===Ja)throw new be(-203,!1);return null===Ja?Wu(n,void 0,e):Ja.get(n,e&Dt.Optional?null:void 0,e)}function ve(n,e=Dt.Default){return(function zu(){return Ff}()||Hf)(it(n),e)}function Me(n,e=Dt.Default){return ve(n,Qu(e))}function Qu(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function al(n){const e=[];for(let t=0;t<n.length;t++){const r=it(n[t]);if(Array.isArray(r)){if(0===r.length)throw new be(900,!1);let i,o=Dt.Default;for(let s=0;s<r.length;s++){const a=r[s],c=yb(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}e.push(ve(i,o))}else e.push(ve(r))}return e}function bo(n,e){return n[sl]=e,n.prototype[sl]=e,n}function yb(n){return n[sl]}function Ss(n){return{toString:n}.toString()}var Za=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Za||{}),_r=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(_r||{});const ni={},Rt=[],ll=et({\u0275cmp:et}),Yu=et({\u0275dir:et}),Ju=et({\u0275pipe:et}),O_=et({\u0275mod:et}),Ti=et({\u0275fac:et}),ul=et({__NG_ELEMENT_ID__:et}),dl=et({__NG_ENV_ID__:et});function Gf(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function Zu(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];Bi(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function Xu(n){return 3===n||4===n||6===n}function Bi(n){return 64===n.charCodeAt(0)}function Xa(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||x_(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function x_(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}const ed="ng-template";function td(n,e,t){let r=0,i=!0;for(;r<n.length;){let o=n[r++];if("string"==typeof o&&i){const s=n[r++];if(t&&"class"===o&&-1!==Gf(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function zf(n){return 4===n.type&&n.value!==ed}function k_(n,e,t){return e===(4!==n.type||t?n.value:ed)}function bb(n,e,t){let r=4;const i=n.attrs||[],o=function qf(n){for(let e=0;e<n.length;e++)if(Xu(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!k_(n,c,t)||""===c&&1===e.length){if(Ui(r))return!1;s=!0}}else{const d=8&r?c:e[++a];if(8&r&&null!==n.attrs){if(!td(n.attrs,d,t)){if(Ui(r))return!1;s=!0}continue}const m=Wf(8&r?"class":c,i,zf(n),t);if(-1===m){if(Ui(r))return!1;s=!0;continue}if(""!==d){let y;y=m>o?"":i[m+1].toLowerCase();const b=8&r?y:null;if(b&&-1!==Gf(b,d,0)||2&r&&d!==y){if(Ui(r))return!1;s=!0}}}}else{if(!s&&!Ui(r)&&!Ui(c))return!1;if(s&&Ui(c))continue;s=!1,r=c|1&r}}return Ui(r)||s}function Ui(n){return 0==(1&n)}function Wf(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function F_(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function nd(n,e,t=!1){for(let r=0;r<e.length;r++)if(bb(n,e[r],t))return!0;return!1}function Kf(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function Qf(n,e){return n?":not("+e.trim()+")":e}function Yf(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Ui(s)&&(e+=Qf(o,i),i=""),r=s,o=o||!Ui(r);t++}return""!==i&&(e+=Qf(o,i)),e}function Kn(n){return Ss(()=>{const e=B_(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Za.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||_r.Emulated,styles:n.styles||Rt,_:null,schemas:n.schemas||null,tView:null,id:""};od(t);const r=n.dependencies;return t.directiveDefs=sd(r,!1),t.pipeDefs=sd(r,!0),t.id=function Ib(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function V_(n){return xt(n)||yr(n)}function Xf(n){return null!==n}function ln(n){return Ss(()=>({type:n.type,bootstrap:n.bootstrap||Rt,declarations:n.declarations||Rt,imports:n.imports||Rt,exports:n.exports||Rt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function L_(n,e){if(null==n)return ni;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}function Se(n){return Ss(()=>{const e=B_(n);return od(e),e})}function xt(n){return n[ll]||null}function yr(n){return n[Yu]||null}function Cr(n){return n[Ju]||null}function ri(n,e){const t=n[O_]||null;if(!t&&!0===e)throw new Error(`Type ${tt(n)} does not have '\u0275mod' property.`);return t}function B_(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||ni,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Rt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:L_(n.inputs,e),outputs:L_(n.outputs)}}function od(n){n.features?.forEach(e=>e(n))}function sd(n,e){if(!n)return null;const t=e?Cr:V_;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(Xf)}const Nn=0,Le=1,ut=2,Pn=3,ji=4,hl=5,Dr=6,ec=7,tr=8,Uo=9,tc=10,dt=11,oa=12,U_=13,Ms=14,nr=15,sa=16,nc=17,no=18,fl=19,ad=20,Ns=21,Io=22,pl=23,aa=24,Mt=25,cd=1,ld=2,jo=7,ca=9,xr=11;function Ci(n){return Array.isArray(n)&&"object"==typeof n[cd]}function ii(n){return Array.isArray(n)&&!0===n[cd]}function j_(n){return 0!=(4&n.flags)}function rc(n){return n.componentOffset>-1}function np(n){return 1==(1&n.flags)}function $i(n){return!!n.template}function rp(n){return 0!=(512&n[ut])}function la(n,e){return n.hasOwnProperty(Ti)?n[Ti]:null}let On=null,dd=!1;function ro(n){const e=On;return On=n,e}const oc={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function rr(n){if(!sc(n)||n.dirty){if(!n.producerMustRecompute(n)&&!Q_(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function K_(n){n.dirty=!0,function q_(n){if(void 0===n.liveConsumerNode)return;const e=dd;dd=!0;try{for(const t of n.liveConsumerNode)t.dirty||K_(t)}finally{dd=e}}(n),n.consumerMarkedDirty?.(n)}function _l(n){return n&&(n.nextProducerIndex=0),ro(n)}function sp(n,e){if(ro(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(sc(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)da(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Q_(n){$o(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(rr(t),r!==t.version))return!0}return!1}function ap(n){if($o(n),sc(n))for(let e=0;e<n.producerNode.length;e++)da(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function da(n,e){if(function yl(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),$o(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)da(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];$o(i),i.producerIndexOfThis[r]=e}}function sc(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function $o(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let lp=null;const fd=()=>{},Nb=(()=>({...oc,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:fd}))();class Pb{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function kr(){return dp}function dp(n){return n.type.prototype.ngOnChanges&&(n.setInput=xb),Ob}function Ob(){const n=pd(this),e=n?.current;if(e){const t=n.previous;if(t===ni)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function xb(n,e,t,r){const i=this.declaredInputs[t],o=pd(n)||function kb(n,e){return n[ry]=e}(n,{previous:ni,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new Pb(c&&c.currentValue,e,a===ni),n[r]=e}kr.ngInherit=!0;const ry="__ngSimpleChanges__";function pd(n){return n[ry]||null}const io=function(n,e,t){};function tn(n){for(;Array.isArray(n);)n=n[Nn];return n}function md(n,e){return tn(e[n])}function Gr(n,e){return tn(e[n.index])}function Ps(n,e){return n.data[e]}function Hi(n,e){const t=e[n];return Ci(t)?t:t[Nn]}function us(n,e){return null==e?null:n[e]}function oy(n){n[nc]=0}function Bb(n){1024&n[ut]||(n[ut]|=1024,sy(n,1))}function _d(n){1024&n[ut]&&(n[ut]&=-1025,sy(n,-1))}function sy(n,e){let t=n[Pn];if(null===t)return;t[hl]+=e;let r=t;for(t=t[Pn];null!==t&&(1===e&&1===r[hl]||-1===e&&0===r[hl]);)t[hl]+=e,r=t,t=t[Pn]}const ot={lFrame:Al(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function bd(){return ot.bindingsEnabled}function xs(){return null!==ot.skipHydrationRootTNode}function me(){return ot.lFrame.lView}function Bt(){return ot.lFrame.tView}function Ar(n){return ot.lFrame.contextLView=n,n[tr]}function zr(n){return ot.lFrame.contextLView=null,n}function Fr(){let n=Id();for(;null!==n&&64===n.type;)n=n.parent;return n}function Id(){return ot.lFrame.currentTNode}function Ho(n,e){const t=ot.lFrame;t.currentTNode=n,t.isParent=e}function Cl(){return ot.lFrame.isParent}function gp(){ot.lFrame.isParent=!1}function ha(){return ot.lFrame.bindingIndex++}function Go(n){const e=ot.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function hy(n,e){const t=ot.lFrame;t.bindingIndex=t.bindingRootIndex=n,vp(e)}function vp(n){ot.lFrame.currentDirectiveIndex=n}function fy(){return ot.lFrame.currentQueryIndex}function Dl(n){ot.lFrame.currentQueryIndex=n}function Gb(n){const e=n[Le];return 2===e.type?e.declTNode:1===e.type?n[Dr]:null}function py(n,e,t){if(t&Dt.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&Dt.Host||(i=Gb(o),null===i||(o=o[Ms],10&i.type))););if(null===i)return!1;e=i,n=o}const r=ot.lFrame=gy();return r.currentTNode=e,r.lView=n,!0}function wd(n){const e=gy(),t=n[Le];ot.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function gy(){const n=ot.lFrame,e=null===n?null:n.child;return null===e?Al(n):e}function Al(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function my(){const n=ot.lFrame;return ot.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const _y=my;function Ip(){const n=my();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function oi(){return ot.lFrame.selectedIndex}function fa(n){ot.lFrame.selectedIndex=n}function jn(){const n=ot.lFrame;return Ps(n.tView,n.selectedIndex)}function qr(){ot.lFrame.currentNamespace="svg"}function Gi(){!function Kb(){ot.lFrame.currentNamespace=null}()}let vy=!0;function Sl(){return vy}function ks(n){vy=n}function Td(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:d,ngOnDestroy:f}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),null!=f&&(n.destroyHooks??=[]).push(t,f)}}function Cd(n,e,t){Ad(n,e,3,t)}function Dd(n,e,t,r){(3&n[ut])===t&&Ad(n,e,t,r)}function Rl(n,e){let t=n[ut];(3&t)===e&&(t&=8191,t+=1,n[ut]=t)}function Ad(n,e,t,r){const o=r??-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&n[nc]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(n[nc]+=65536),(a<o||-1==o)&&(Ep(n,t,e,c),n[nc]=(4294901760&n[nc])+c+2),c++}function by(n,e){io(4,n,e);const t=ro(null);try{e.call(n)}finally{ro(t),io(5,n,e)}}function Ep(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];i?n[ut]>>13<n[nc]>>16&&(3&n[ut])===e&&(n[ut]+=8192,by(a,o)):by(a,o)}const ac=-1;class cc{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Sd(n){return n!==ac}function Ml(n){return 32767&n}function Nl(n,e){let t=function Jb(n){return n>>16}(n),r=e;for(;t>0;)r=r[Ms],t--;return r}let Dp=!0;function Rd(n){const e=Dp;return Dp=n,e}const Ty=255,Xb=5;let eI=0;const Kr={};function Md(n,e){const t=Cy(n,e);if(-1!==t)return t;const r=e[Le];r.firstCreatePass&&(n.injectorIndex=e.length,Pl(r.data,n),Pl(e,null),Pl(r.blueprint,null));const i=lc(n,e),o=n.injectorIndex;if(Sd(i)){const s=Ml(i),a=Nl(i,e),c=a[Le].data;for(let d=0;d<8;d++)e[o+d]=a[s+d]|c[s+d]}return e[o+8]=i,o}function Pl(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Cy(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function lc(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=Ol(i),null===r)return ac;if(t++,i=i[Ms],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return ac}function Ap(n,e,t){!function tI(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(ul)&&(r=t[ul]),null==r&&(r=t[ul]=eI++);const i=r&Ty;e.data[n+(i>>Xb)]|=1<<i}(n,e,t)}function Nd(n,e,t){if(t&Dt.Optional||void 0!==n)return n;mt()}function Dy(n,e,t,r){if(t&Dt.Optional&&void 0===r&&(r=null),!(t&(Dt.Self|Dt.Host))){const i=n[Uo],o=wi(void 0);try{return i?i.get(e,r,t&Dt.Optional):Wu(e,r,t&Dt.Optional)}finally{wi(o)}}return Nd(r,0,t)}function Ay(n,e,t,r=Dt.Default,i){if(null!==n){if(2048&e[ut]&&!(r&Dt.Self)){const s=function sI(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[ut]&&!(512&s[ut]);){const a=Pd(o,s,t,r|Dt.Self,Kr);if(a!==Kr)return a;let c=o.parent;if(!c){const d=s[ad];if(d){const f=d.get(t,Kr,r);if(f!==Kr)return f}c=Ol(s),s=s[Ms]}o=c}return i}(n,e,t,r,Kr);if(s!==Kr)return s}const o=Pd(n,e,t,r,Kr);if(o!==Kr)return o}return Dy(e,t,r,i)}function Pd(n,e,t,r,i){const o=function iI(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(ul)?n[ul]:void 0;return"number"==typeof e?e>=0?e&Ty:Rp:e}(t);if("function"==typeof o){if(!py(e,n,r))return r&Dt.Host?Nd(i,0,r):Dy(e,t,r,i);try{let s;if(s=o(r),null!=s||r&Dt.Optional)return s;mt()}finally{_y()}}else if("number"==typeof o){let s=null,a=Cy(n,e),c=ac,d=r&Dt.Host?e[nr][Dr]:null;for((-1===a||r&Dt.SkipSelf)&&(c=-1===a?lc(n,e):e[a+8],c!==ac&&Sp(r,!1)?(s=e[Le],a=Ml(c),e=Nl(c,e)):a=-1);-1!==a;){const f=e[Le];if(Sy(o,a,f.data)){const m=rI(a,e,t,s,r,d);if(m!==Kr)return m}c=e[a+8],c!==ac&&Sp(r,e[Le].data[a+8]===d)&&Sy(o,a,e)?(s=f,a=Ml(c),e=Nl(c,e)):a=-1}}return i}function rI(n,e,t,r,i,o){const s=e[Le],a=s.data[n+8],f=Od(a,s,t,null==r?rc(a)&&Dp:r!=s&&0!=(3&a.type),i&Dt.Host&&o===a);return null!==f?pa(e,s,f,a):Kr}function Od(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,f=o>>20,y=i?a+f:n.directiveEnd;for(let b=r?a:a+f;b<y;b++){const w=s[b];if(b<c&&t===w||b>=c&&w.type===t)return b}if(i){const b=s[c];if(b&&$i(b)&&b.type===t)return c}return null}function pa(n,e,t,r){let i=n[t];const o=e.data;if(function Iy(n){return n instanceof cc}(i)){const s=i;s.resolving&&function ke(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new be(-200,`Circular dependency in DI detected for ${n}${t}`)}(function X(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():F(n)}(o[t]));const a=Rd(s.canSeeViewProviders);s.resolving=!0;const d=s.injectImpl?wi(s.injectImpl):null;py(n,r,Dt.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function Qb(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=dp(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==d&&wi(d),Rd(a),s.resolving=!1,_y()}}return i}function Sy(n,e,t){return!!(t[e+(n>>Xb)]&1<<n)}function Sp(n,e){return!(n&Dt.Self||n&Dt.Host&&e)}class si{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Ay(this._tNode,this._lView,e,Qu(r),t)}}function Rp(){return new si(Fr(),me())}function Mp(n){return Lo(n)?()=>{const e=Mp(it(n));return e&&e()}:la(n)}function Ol(n){const e=n[Le],t=e.type;return 2===t?e.declTNode:1===t?n[Dr]:null}const dc="__parameters__";function hc(n,e,t){return Ss(()=>{const r=function Np(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,d,f){const m=c.hasOwnProperty(dc)?c[dc]:Object.defineProperty(c,dc,{value:[]})[dc];for(;m.length<=f;)m.push(null);return(m[f]=m[f]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function zo(n,e){n.forEach(t=>Array.isArray(t)?zo(t,e):e(t))}function xp(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function xd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ba(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function ur(n,e,t){let r=fc(n,e);return r>=0?n[1|r]=t:(r=~r,function My(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function kd(n,e){const t=fc(n,e);if(t>=0)return n[1|t]}function fc(n,e){return function Ny(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const Fl=bo(hc("Optional"),8),Fd=bo(hc("SkipSelf"),4);function By(n){return 128==(128&n.flags)}var pc=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(pc||{});const pI=new Map;let m8=0;const mI="__ngContext__";function Ai(n,e){Ci(e)?(n[mI]=e[fl],function y8(n){pI.set(n[fl],n)}(e)):n[mI]=e}let _I;function yI(n,e){return _I(n,e)}function Wp(n){const e=n[Pn];return ii(e)?e[Pn]:e}function tR(n){return rR(n[oa])}function nR(n){return rR(n[ji])}function rR(n){for(;null!==n&&!ii(n);)n=n[ji];return n}function Ud(n,e,t,r,i){if(null!=r){let o,s=!1;ii(r)?o=r:Ci(r)&&(s=!0,r=r[Nn]);const a=tn(r);0===n&&null!==t?null==i?aR(e,t,a):Vl(e,t,a,i||null,!0):1===n&&null!==t?Vl(e,t,a,i||null,!0):2===n?function Wy(n,e,t){const r=Gy(n,e);r&&function V8(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function U8(n,e,t,r,i){const o=t[jo];o!==tn(t)&&Ud(e,n,r,o,i);for(let a=xr;a<t.length;a++){const c=t[a];Kp(c[Le],c,n,e,r,o)}}(e,n,o,t,i)}}function $y(n,e,t){return n.createElement(e,t)}function oR(n,e){const t=n[ca],r=t.indexOf(e);_d(e),t.splice(r,1)}function Hy(n,e){if(n.length<=xr)return;const t=xr+e,r=n[t];if(r){const i=r[sa];null!==i&&i!==n&&oR(i,r),e>0&&(n[t-1][ji]=r[ji]);const o=xd(n,xr+e);!function R8(n,e){Kp(n,e,e[dt],2,null,null),e[Nn]=null,e[Dr]=null}(r[Le],r);const s=o[no];null!==s&&s.detachView(o[Le]),r[Pn]=null,r[ji]=null,r[ut]&=-129}return r}function bI(n,e){if(!(256&e[ut])){const t=e[dt];e[pl]&&ap(e[pl]),e[aa]&&ap(e[aa]),t.destroyNode&&Kp(n,e,t,3,null,null),function P8(n){let e=n[oa];if(!e)return II(n[Le],n);for(;e;){let t=null;if(Ci(e))t=e[oa];else{const r=e[xr];r&&(t=r)}if(!t){for(;e&&!e[ji]&&e!==n;)Ci(e)&&II(e[Le],e),e=e[Pn];null===e&&(e=n),Ci(e)&&II(e[Le],e),t=e&&e[ji]}e=t}}(e)}}function II(n,e){if(!(256&e[ut])){e[ut]&=-129,e[ut]|=256,function F8(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof cc)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];io(4,a,c);try{c.call(a)}finally{io(5,a,c)}}else{io(4,i,o);try{o.call(i)}finally{io(5,i,o)}}}}}(n,e),function k8(n,e){const t=n.cleanup,r=e[ec];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else t[o].call(r[t[o+1]]);null!==r&&(e[ec]=null);const i=e[Ns];if(null!==i){e[Ns]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(n,e),1===e[Le].type&&e[dt].destroy();const t=e[sa];if(null!==t&&ii(e[Pn])){t!==e[Pn]&&oR(t,e);const r=e[no];null!==r&&r.detachView(n)}!function v8(n){pI.delete(n[fl])}(e)}}function EI(n,e,t){return function sR(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[Nn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===_r.None||o===_r.Emulated)return null}return Gr(r,t)}}(n,e.parent,t)}function Vl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function aR(n,e,t){n.appendChild(e,t)}function cR(n,e,t,r,i){null!==r?Vl(n,e,t,r,i):aR(n,e,t)}function Gy(n,e){return n.parentNode(e)}function lR(n,e,t){return dR(n,e,t)}let wI,AI,Ky,dR=function uR(n,e,t){return 40&n.type?Gr(n,t):null};function zy(n,e,t,r){const i=EI(n,r,e),o=e[dt],a=lR(r.parent||e[Dr],r,e);if(null!=i)if(Array.isArray(t))for(let c=0;c<t.length;c++)cR(o,i,t[c],a,!1);else cR(o,i,t,a,!1);void 0!==wI&&wI(o,r,e,t,i)}function qp(n,e){if(null!==e){const t=e.type;if(3&t)return Gr(e,n);if(4&t)return TI(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return qp(n,r);{const i=n[e.index];return ii(i)?TI(-1,i):tn(i)}}if(32&t)return yI(e,n)()||tn(n[e.index]);{const r=fR(n,e);return null!==r?Array.isArray(r)?r[0]:qp(Wp(n[nr]),r):qp(n,e.next)}}return null}function fR(n,e){return null!==e?n[nr][Dr].projection[e.projection]:null}function TI(n,e){const t=xr+n+1;if(t<e.length){const r=e[t],i=r[Le].firstChild;if(null!==i)return qp(r,i)}return e[jo]}function CI(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],c=t.type;if(s&&0===e&&(a&&Ai(tn(a),r),t.flags|=2),32!=(32&t.flags))if(8&c)CI(n,e,t.child,r,i,o,!1),Ud(e,n,i,a,o);else if(32&c){const d=yI(t,r);let f;for(;f=d();)Ud(e,n,i,f,o);Ud(e,n,i,a,o)}else 16&c?gR(n,e,r,t,i,o):Ud(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Kp(n,e,t,r,i,o){CI(t,r,n.firstChild,e,i,o,!1)}function gR(n,e,t,r,i,o){const s=t[nr],c=s[Dr].projection[r.projection];if(Array.isArray(c))for(let d=0;d<c.length;d++)Ud(e,n,i,c[d],o);else{let d=c;const f=s[Pn];By(r)&&(d.flags|=128),CI(n,e,d,f,i,o,!0)}}function mR(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function _R(n,e,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&Zu(n,e,r),null!==i&&mR(n,e,i),null!==o&&function $8(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function bR(n){return function SI(){if(void 0===Ky&&(Ky=null,cn.trustedTypes))try{Ky=cn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ky}()?.createScriptURL(n)||n}class IR{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${as})`}}function gc(n){return n instanceof IR?n.changingThisBreaksApplicationSecurity:n}function Qp(n,e){const t=function Z8(n){return n instanceof IR&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${as})`)}return t===e}const nB=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Hd=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Hd||{});function OI(n){const e=Jp();return e?e.sanitize(Hd.URL,n)||"":Qp(n,"URL")?gc(n):function RI(n){return(n=String(n)).match(nB)?n:"unsafe:"+n}(F(n))}function SR(n){const e=Jp();if(e)return bR(e.sanitize(Hd.RESOURCE_URL,n)||"");if(Qp(n,"ResourceURL"))return bR(gc(n));throw new be(904,!1)}function Jp(){const n=me();return n&&n[tc].sanitizer}const Zp=new xe("ENVIRONMENT_INITIALIZER"),MR=new xe("INJECTOR",-1),NR=new xe("INJECTOR_DEF_TYPES");class xI{get(e,t=ol){if(t===ol){const r=new Error(`NullInjectorError: No provider for ${tt(e)}!`);throw r.name="NullInjectorError",r}return t}}function gB(...n){return{\u0275providers:OR(0,n),\u0275fromNgModule:!0}}function OR(n,...e){const t=[],r=new Set;let i;const o=s=>{t.push(s)};return zo(e,s=>{const a=s;Yy(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&xR(i,o),t}function xR(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];kI(i,o=>{e(o,r)})}}function Yy(n,e,t,r){if(!(n=it(n)))return!1;let i=null,o=Gu(n);const s=!o&&xt(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const c=n.ngModule;if(o=Gu(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const d of c)Yy(d,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let d;r.add(i);try{zo(o.imports,f=>{Yy(f,e,t,r)&&(d||=[],d.push(f))})}finally{}void 0!==d&&xR(d,e)}if(!a){const d=la(i)||(()=>new i);e({provide:i,useFactory:d,deps:Rt},i),e({provide:NR,useValue:i,multi:!0},i),e({provide:Zp,useValue:()=>ve(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const d=n;kI(c,f=>{e(f,d)})}}}return i!==n&&void 0!==n.providers}function kI(n,e){for(let t of n)Ya(t)&&(t=t.\u0275providers),Array.isArray(t)?kI(t,e):e(t)}const mB=et({provide:String,useValue:et});function FI(n){return null!==n&&"object"==typeof n&&mB in n}function Ll(n){return"function"==typeof n}const VI=new xe("Set Injector scope."),Jy={},yB={};let LI;function Zy(){return void 0===LI&&(LI=new xI),LI}class so{}class Gd extends so{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,UI(e,s=>this.processProvider(s)),this.records.set(MR,zd(void 0,this)),i.has("environment")&&this.records.set(so,zd(void 0,this));const o=this.records.get(VI);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(NR.multi,Rt,Dt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=As(this),r=wi(void 0);try{return e()}finally{As(t),wi(r)}}get(e,t=ol,r=Dt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(dl))return e[dl](this);r=Qu(r);const o=As(this),s=wi(void 0);try{if(!(r&Dt.SkipSelf)){let c=this.records.get(e);if(void 0===c){const d=function wB(n){return"function"==typeof n||"object"==typeof n&&n instanceof xe}(e)&&Hu(e);c=d&&this.injectableDefInScope(d)?zd(BI(e),Jy):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&Dt.Self?Zy():this.parent).get(e,t=r&Dt.Optional&&t===ol?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Ds]=a[Ds]||[]).unshift(tt(e)),o)throw a;return function vb(n,e,t,r){const i=n[Ds];throw e[vo]&&i.unshift(e[vo]),n.message=function cl(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=tt(e);if(Array.isArray(e))i=e.map(tt).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):tt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(jf,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Ds]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{wi(s),As(o)}}resolveInjectorInitializers(){const e=As(this),t=wi(void 0);try{const i=this.get(Zp.multi,Rt,Dt.Self);for(const o of i)o()}finally{As(e),wi(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(tt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(e){let t=Ll(e=it(e))?e:it(e&&e.provide);const r=function bB(n){return FI(n)?zd(void 0,n.useValue):zd(function VR(n,e,t){let r;if(Ll(n)){const i=it(n);return la(i)||BI(i)}if(FI(n))r=()=>it(n.useValue);else if(function FR(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...al(n.deps||[]));else if(function kR(n){return!(!n||!n.useExisting)}(n))r=()=>ve(it(n.useExisting));else{const i=it(n&&(n.useClass||n.provide));if(!function IB(n){return!!n.deps}(n))return la(i)||BI(i);r=()=>new i(...al(n.deps))}return r}(n),Jy)}(e);if(Ll(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=zd(void 0,Jy,!0),i.factory=()=>al(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Jy&&(t.value=yB,t.value=t.factory()),"object"==typeof t.value&&t.value&&function EB(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=it(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function BI(n){const e=Hu(n),t=null!==e?e.factory:la(n);if(null!==t)return t;if(n instanceof xe)throw new be(204,!1);if(n instanceof Function)return function vB(n){const e=n.length;if(e>0)throw ba(e,"?"),new be(204,!1);const t=function A_(n){return n&&(n[rl]||n[ia])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new be(204,!1)}function zd(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function UI(n,e){for(const t of n)Array.isArray(t)?UI(t,e):t&&Ya(t)?UI(t.\u0275providers,e):e(t)}const Xy=new xe("AppId",{providedIn:"root",factory:()=>TB}),TB="ng",LR=new xe("Platform Initializer"),Ta=new xe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),BR=new xe("CSP nonce",{providedIn:"root",factory:()=>function $d(){if(void 0!==AI)return AI;if(typeof document<"u")return document;throw new be(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let UR=(n,e,t)=>null;function KI(n,e,t=!1){return UR(n,e,t)}class xB{}class HR{}class FB{resolveComponentFactory(e){throw function kB(n){const e=Error(`No component factory found for ${tt(n)}.`);return e.ngComponent=n,e}(e)}}let ov=(()=>{class n{static{this.NULL=new FB}}return n})();function VB(){return Kd(Fr(),me())}function Kd(n,e){return new un(Gr(n,e))}let un=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=VB}}return n})();function LB(n){return n instanceof un?n.nativeElement:n}class JI{}let To=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function BB(){const n=me(),t=Hi(Fr().index,n);return(Ci(t)?t:n)[dt]}()}}return n})(),UB=(()=>{class n{static{this.\u0275prov=Pe({token:n,providedIn:"root",factory:()=>null})}}return n})();class Qd{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const zR=new Qd("16.2.12"),ZI={};function QR(n,e=null,t=null,r){const i=YR(n,e,t,r);return i.resolveInjectorInitializers(),i}function YR(n,e=null,t=null,r,i=new Set){const o=[t||Rt,gB(n)];return r=r||("object"==typeof n?void 0:tt(n)),new Gd(o,e||Zy(),r||null,i)}let ai=(()=>{class n{static{this.THROW_IF_NOT_FOUND=ol}static{this.NULL=new xI}static create(t,r){if(Array.isArray(t))return QR({name:""},r,t,"");{const i=t.name??"";return QR({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=Pe({token:n,providedIn:"any",factory:()=>ve(MR)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function XI(n){return n.ngOriginalError}class Ca{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&XI(e);for(;t&&XI(t);)t=XI(t);return t||null}}function eE(n){return e=>{setTimeout(n,void 0,e)}}const Xe=class KB extends G{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=eE(o),i&&(i=eE(i)),s&&(s=eE(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof St&&e.add(a),a}};function ZR(...n){}class Nt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xe(!1),this.onMicrotaskEmpty=new Xe(!1),this.onStable=new Xe(!1),this.onError=new Xe(!1),typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function QB(){const n="function"==typeof cn.requestAnimationFrame;let e=cn[n?"requestAnimationFrame":"setTimeout"],t=cn[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function ZB(n){const e=()=>{!function JB(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(cn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,nE(n),n.isCheckStableRunning=!0,tE(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),nE(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{if(function e9(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,o,s,a);try{return XR(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),eM(n)}},onInvoke:(t,r,i,o,s,a,c)=>{try{return XR(n),t.invoke(i,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),eM(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,nE(n),tE(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Nt.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(Nt.isInAngularZone())throw new be(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,YB,ZR,ZR);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const YB={};function tE(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function nE(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function XR(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function eM(n){n._nesting--,tE(n)}class XB{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xe,this.onMicrotaskEmpty=new Xe,this.onStable=new Xe,this.onError=new Xe}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const tM=new xe("",{providedIn:"root",factory:nM});function nM(){const n=Me(Nt);let e=!0;return M(new lt(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new lt(i=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{Nt.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=n.onUnstable.subscribe(()=>{Nt.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(Z()))}function Da(n){return n instanceof Function?n():n}let rE=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=Pe({token:n,providedIn:"root",factory:()=>new n})}}return n})();function tg(n){for(;n;){n[ut]|=64;const e=Wp(n);if(rp(n)&&!e)return n;n=e}return null}const aM=new xe("",{providedIn:"root",factory:()=>!1});let cv=null;function dM(n,e){return n[e]??pM()}function hM(n,e){const t=pM();t.producerNode?.length&&(n[e]=cv,t.lView=n,cv=fM())}const u9={...oc,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{tg(n.lView)},lView:null};function fM(){return Object.create(u9)}function pM(){return cv??=fM(),cv}const yt={};function je(n){gM(Bt(),me(),oi()+n,!1)}function gM(n,e,t,r){if(!r)if(3==(3&e[ut])){const o=n.preOrderCheckHooks;null!==o&&Cd(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Dd(e,o,0,t)}fa(t)}function H(n,e=Dt.Default){const t=me();return null===t?ve(n,e):Ay(Fr(),t,it(n),e)}function lv(n,e,t,r,i,o,s,a,c,d,f){const m=e.blueprint.slice();return m[Nn]=i,m[ut]=140|r,(null!==d||n&&2048&n[ut])&&(m[ut]|=2048),oy(m),m[Pn]=m[Ms]=n,m[tr]=t,m[tc]=s||n&&n[tc],m[dt]=a||n&&n[dt],m[Uo]=c||n&&n[Uo]||null,m[Dr]=o,m[fl]=function _8(){return m8++}(),m[Io]=f,m[ad]=d,m[nr]=2==e.type?n[nr]:m,m}function Xd(n,e,t,r,i){let o=n.data[e];if(null===o)o=function iE(n,e,t,r,i){const o=Id(),s=Cl(),c=n.data[e]=function y9(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return xs()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,e,t,r,i),function uy(){return ot.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function Tl(){const n=ot.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Ho(o,!0),o}function ng(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function _M(n,e,t,r,i){const o=dM(e,pl),s=oi(),a=2&r;try{fa(-1),a&&e.length>Mt&&gM(n,e,Mt,!1),io(a?2:0,i);const d=a?o:null,f=_l(d);try{null!==d&&(d.dirty=!1),t(r,i)}finally{sp(d,f)}}finally{a&&null===e[pl]&&hM(e,pl),fa(s),io(a?3:1,i)}}function oE(n,e,t){if(j_(e)){const r=ro(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{ro(r)}}}function sE(n,e,t){bd()&&(function C9(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;rc(t)&&function P9(n,e,t){const r=Gr(e,n),i=yM(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=uv(n,lv(n,i,null,s,r,e,null,n[tc].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Md(t,e),Ai(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const c=n.data[a],d=pa(e,n,a,t);Ai(d,e),null!==s&&O9(0,a-i,d,c,0,s),$i(c)&&(Hi(t.index,e)[tr]=pa(e,n,a,t))}}(n,e,t,Gr(t,e)),64==(64&t.flags)&&wM(n,e,t))}function aE(n,e,t=Gr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function yM(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=cE(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function cE(n,e,t,r,i,o,s,a,c,d,f){const m=Mt+r,y=m+i,b=function h9(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:yt);return t}(m,y),w="function"==typeof d?d():d;return b[Le]={type:n,blueprint:b,template:t,queries:null,viewQuery:a,declTNode:e,data:b.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:w,incompleteFirstPass:!1,ssrId:f}}let vM=n=>null;function bM(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const o=n[i];null===r?IM(t,e,i,o):r.hasOwnProperty(i)&&IM(t,e,r[i],o)}return t}function IM(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function Co(n,e,t,r,i,o,s,a){const c=Gr(e,t);let f,d=e.inputs;!a&&null!=d&&(f=d[r])?(fE(n,t,f,r,i),rc(e)&&function I9(n,e){const t=Hi(e,n);16&t[ut]||(t[ut]|=64)}(t,e.index)):3&e.type&&(r=function b9(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(c,r,i))}function lE(n,e,t,r){if(bd()){const i=null===r?null:{"":-1},o=function A9(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(nd(e,s.selectors,!1))if(r||(r=[]),$i(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),uE(n,e,a.length)}else r.unshift(s),uE(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&EM(n,e,t,s,i,a),i&&function S9(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new be(-301,!1);r.push(e[i],o)}}}(t,r,i)}t.mergedAttrs=Xa(t.mergedAttrs,t.attrs)}function EM(n,e,t,r,i,o){for(let d=0;d<r.length;d++)Ap(Md(t,e),n,r[d].type);!function M9(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let d=0;d<r.length;d++){const f=r[d];f.providersResolver&&f.providersResolver(f)}let s=!1,a=!1,c=ng(n,e,r.length,null);for(let d=0;d<r.length;d++){const f=r[d];t.mergedAttrs=Xa(t.mergedAttrs,f.hostAttrs),N9(n,t,e,c,f),R9(c,f,i),null!==f.contentQueries&&(t.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(t.flags|=64);const m=f.type.prototype;!s&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function v9(n,e,t){const i=e.directiveEnd,o=n.data,s=e.attrs,a=[];let c=null,d=null;for(let f=e.directiveStart;f<i;f++){const m=o[f],y=t?t.get(m):null,w=y?y.outputs:null;c=bM(m.inputs,f,c,y?y.inputs:null),d=bM(m.outputs,f,d,w);const D=null===c||null===s||zf(e)?null:x9(c,f,s);a.push(D)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=d}(n,t,o)}function wM(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function yp(){return ot.lFrame.currentDirectiveIndex}();try{fa(o);for(let a=r;a<i;a++){const c=n.data[a],d=e[a];vp(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&D9(c,d)}}finally{fa(-1),vp(s)}}function D9(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function uE(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function R9(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;$i(e)&&(t[""]=n)}}function N9(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=la(i.type)),s=new cc(o,$i(i),H);n.blueprint[r]=s,t[r]=s,function w9(n,e,t,r,i){const o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function T9(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(n,e,r,ng(n,t,i.hostVars,yt),i)}function Fs(n,e,t,r,i,o){const s=Gr(n,e);!function dE(n,e,t,r,i,o,s){if(null==o)n.removeAttribute(e,i,t);else{const a=null==s?F(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}(e[dt],s,o,n.value,t,r,i)}function O9(n,e,t,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)TM(r,t,s[a++],s[a++],s[a++])}function TM(n,e,t,r,i){const o=ro(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{ro(o)}}function x9(n,e,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function CM(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}function DM(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const s=n.data[o];Dl(t[r]),s.contentQueries(2,e[o],o)}}}function uv(n,e){return n[oa]?n[U_][ji]=e:n[oa]=e,n[U_]=e,e}function hE(n,e,t){Dl(0);const r=ro(null);try{e(n,t)}finally{ro(r)}}function AM(n){return n[ec]||(n[ec]=[])}function SM(n){return n.cleanup||(n.cleanup=[])}function MM(n,e){const t=n[Uo],r=t?t.get(Ca,null):null;r&&r.handleError(e)}function fE(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];TM(n.data[s],e[s],r,a,i)}}function k9(n,e){const t=Hi(e,n),r=t[Le];!function F9(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[Nn];null!==i&&null===t[Io]&&(t[Io]=KI(i,t[Uo])),pE(r,t,t[tr])}function pE(n,e,t){wd(e);try{const r=n.viewQuery;null!==r&&hE(1,r,t);const i=n.template;null!==i&&_M(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&DM(n,e),n.staticViewQueries&&hE(2,n.viewQuery,t);const o=n.components;null!==o&&function V9(n,e){for(let t=0;t<e.length;t++)k9(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ut]&=-5,Ip()}}let NM=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function Mb(n,e,t){const r=Object.create(Nb);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>K_(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Q_(r))return;r.hasRun=!0;const s=_l(r);try{r.cleanupFn(),r.cleanupFn=fd,r.fn(i)}finally{sp(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(t,d=>{this.all.has(d)&&this.queue.set(d,o)},i);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=Pe({token:n,providedIn:"root",factory:()=>new n})}}return n})();function dv(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Or(i,a):2==o&&(r=Or(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function rg(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];null!==o&&r.push(tn(o)),ii(o)&&PM(o,r);const s=t.type;if(8&s)rg(n,e,t.child,r);else if(32&s){const a=yI(t,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=fR(e,t);if(Array.isArray(a))r.push(...a);else{const c=Wp(e[nr]);rg(c[Le],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function PM(n,e){for(let t=xr;t<n.length;t++){const r=n[t],i=r[Le].firstChild;null!==i&&rg(r[Le],r,i,e)}n[jo]!==n[Nn]&&e.push(n[jo])}function hv(n,e,t,r=!0){const i=e[tc],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{OM(n,e,n.template,t)}catch(c){throw r&&MM(e,c),c}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function OM(n,e,t,r){const i=e[ut];if(256!=(256&i)){e[tc].effectManager?.flush(),wd(e);try{oy(e),function ly(n){return ot.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&_M(n,e,t,2,r);const s=3==(3&i);if(s){const d=n.preOrderCheckHooks;null!==d&&Cd(e,d,null)}else{const d=n.preOrderHooks;null!==d&&Dd(e,d,0,null),Rl(e,0)}if(function U9(n){for(let e=tR(n);null!==e;e=nR(e)){if(!e[ld])continue;const t=e[ca];for(let r=0;r<t.length;r++){Bb(t[r])}}}(e),xM(e,2),null!==n.contentQueries&&DM(n,e),s){const d=n.contentCheckHooks;null!==d&&Cd(e,d)}else{const d=n.contentHooks;null!==d&&Dd(e,d,1),Rl(e,1)}!function d9(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=dM(e,aa);try{for(let i=0;i<t.length;i++){const o=t[i];if(o<0)fa(~o);else{const s=o,a=t[++i],c=t[++i];hy(a,s),r.dirty=!1;const d=_l(r);try{c(2,e[s])}finally{sp(r,d)}}}}finally{null===e[aa]&&hM(e,aa),fa(-1)}}(n,e);const a=n.components;null!==a&&FM(e,a,0);const c=n.viewQuery;if(null!==c&&hE(2,c,r),s){const d=n.viewCheckHooks;null!==d&&Cd(e,d)}else{const d=n.viewHooks;null!==d&&Dd(e,d,2),Rl(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[ut]&=-73,_d(e)}finally{Ip()}}}function xM(n,e){for(let t=tR(n);null!==t;t=nR(t))for(let r=xr;r<t.length;r++)kM(t[r],e)}function j9(n,e,t){kM(Hi(e,n),t)}function kM(n,e){if(!function Lb(n){return 128==(128&n[ut])}(n))return;const t=n[Le],r=n[ut];if(80&r&&0===e||1024&r||2===e)OM(t,n,t.template,n[tr]);else if(n[hl]>0){xM(n,1);const i=t.components;null!==i&&FM(n,i,1)}}function FM(n,e,t){for(let r=0;r<e.length;r++)j9(n,e[r],t)}class ig{get rootNodes(){const e=this._lView,t=e[Le];return rg(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[tr]}set context(e){this._lView[tr]=e}get destroyed(){return 256==(256&this._lView[ut])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Pn];if(ii(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Hy(e,r),xd(t,r))}this._attachedToViewContainer=!1}bI(this._lView[Le],this._lView)}onDestroy(e){!function yd(n,e){if(256==(256&n[ut]))throw new be(911,!1);null===n[Ns]&&(n[Ns]=[]),n[Ns].push(e)}(this._lView,e)}markForCheck(){tg(this._cdRefInjectingView||this._lView)}detach(){this._lView[ut]&=-129}reattach(){this._lView[ut]|=128}detectChanges(){hv(this._lView[Le],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function N8(n,e){Kp(n,e,e[dt],2,null,null)}(this._lView[Le],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=e}}class $9 extends ig{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;hv(e[Le],e,e[tr],!1)}checkNoChanges(){}get context(){return null}}class VM extends ov{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=xt(e);return new og(t,this.ngModule)}}function LM(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class G9{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Qu(r);const i=this.injector.get(e,ZI,r);return i!==ZI||t===ZI?i:this.parentInjector.get(e,t,r)}}class og extends HR{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=LM(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return LM(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function id(n){return n.map(Yf).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof so?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new G9(e,o):e,a=s.get(JI,null);if(null===a)throw new be(407,!1);const m={rendererFactory:a,sanitizer:s.get(UB,null),effectManager:s.get(NM,null),afterRenderEventManager:s.get(rE,null)},y=a.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",w=r?function f9(n,e,t,r){const o=r.get(aM,!1)||t===_r.ShadowDom,s=n.selectRootElement(e,o);return function p9(n){vM(n)}(s),s}(y,r,this.componentDef.encapsulation,s):$y(y,b,function H9(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(b)),j=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let O=null;null!==w&&(O=KI(w,s,!0));const J=cE(0,null,null,1,0,null,null,null,null,null,null),re=lv(null,J,null,j,null,null,m,y,s,null,O);let pe,Ae;wd(re);try{const k=this.componentDef;let A,P=null;k.findHostDirectiveDefs?(A=[],P=new Map,k.findHostDirectiveDefs(k,A,P),A.push(k)):A=[k];const L=function W9(n,e){const t=n[Le],r=Mt;return n[r]=e,Xd(t,r,2,"#host",null)}(re,w),$=function q9(n,e,t,r,i,o,s){const a=i[Le];!function K9(n,e,t,r){for(const i of n)e.mergedAttrs=Xa(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(dv(e,e.mergedAttrs,!0),null!==t&&_R(r,t,e))}(r,n,e,s);let c=null;null!==e&&(c=KI(e,i[Uo]));const d=o.rendererFactory.createRenderer(e,t);let f=16;t.signals?f=4096:t.onPush&&(f=64);const m=lv(i,yM(t),null,f,i[n.index],n,o,d,null,null,c);return a.firstCreatePass&&uE(a,n,r.length-1),uv(i,m),i[n.index]=m}(L,w,k,A,re,m,y);Ae=Ps(J,Mt),w&&function Y9(n,e,t,r){if(r)Zu(n,t,["ng-version",zR.full]);else{const{attrs:i,classes:o}=function Jf(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!Ui(i))break;i=o}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&Zu(n,t,i),o&&o.length>0&&mR(n,t,o.join(" "))}}(y,k,w,r),void 0!==t&&function J9(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(Ae,this.ngContentSelectors,t),pe=function Q9(n,e,t,r,i,o){const s=Fr(),a=i[Le],c=Gr(s,i);EM(a,i,s,t,null,r);for(let f=0;f<t.length;f++)Ai(pa(i,a,s.directiveStart+f,s),i);wM(a,i,s),c&&Ai(c,i);const d=pa(i,a,s.directiveStart+s.componentOffset,s);if(n[tr]=i[tr]=d,null!==o)for(const f of o)f(d,e);return oE(a,s,n),d}($,k,A,P,re,[Z9]),pE(J,re,null)}finally{Ip()}return new z9(this.componentType,pe,Kd(Ae,re),re,Ae)}}class z9 extends xB{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new $9(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;fE(o[Le],o,i,e,t),this.previousInputValues.set(e,t),tg(Hi(this._tNode.index,o))}}get injector(){return new si(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Z9(){const n=Fr();Td(me()[Le],n)}function HM(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(t[r]=i[2])}n.inputTransforms=t}function Si(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function hn(n,e,t,r){const i=me();return Si(i,ha(),e)&&(Bt(),Fs(jn(),i,n,e,t,r)),hn}function th(n,e,t,r){return Si(n,ha(),t)?e+F(t)+r:yt}function Ze(n,e,t,r,i,o,s,a){const c=me(),d=Bt(),f=n+Mt,m=d.firstCreatePass?function DU(n,e,t,r,i,o,s,a,c){const d=e.consts,f=Xd(e,n,4,s||null,us(d,a));lE(e,t,f,us(d,c)),Td(e,f);const m=f.tView=cE(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return null!==e.queries&&(e.queries.template(e,f),m.queries=e.queries.embeddedTView(f)),f}(f,d,c,e,t,r,i,o,s):d.data[f];Ho(m,!1);const y=nN(d,c,m,n);Sl()&&zy(d,c,y,m),Ai(y,c),uv(c,c[f]=CM(y,c,y,m)),np(m)&&sE(d,c,m),null!=s&&aE(c,m,a)}let nN=function rN(n,e,t,r){return ks(!0),e[dt].createComment("")};function Qr(n){return function Os(n,e){return n[e]}(function mp(){return ot.lFrame.contextLView}(),Mt+n)}function We(n,e,t){const r=me();return Si(r,ha(),e)&&Co(Bt(),jn(),r,n,e,r[dt],t,!1),We}function IE(n,e,t,r,i){const s=i?"class":"style";fE(n,t,e.inputs[s],s,r)}function he(n,e,t,r){const i=me(),o=Bt(),s=Mt+n,a=i[dt],c=o.firstCreatePass?function MU(n,e,t,r,i,o){const s=e.consts,c=Xd(e,n,2,r,us(s,i));return lE(e,t,c,us(s,o)),null!==c.attrs&&dv(c,c.attrs,!1),null!==c.mergedAttrs&&dv(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,e,t,r):o.data[s],d=iN(o,i,c,a,e,n);i[s]=d;const f=np(c);return Ho(c,!0),_R(a,d,c),32!=(32&c.flags)&&Sl()&&zy(o,i,d,c),0===function wl(){return ot.lFrame.elementDepthCount}()&&Ai(d,i),function jb(){ot.lFrame.elementDepthCount++}(),f&&(sE(o,i,c),oE(o,c,i)),null!==r&&aE(i,c),he}function we(){let n=Fr();Cl()?gp():(n=n.parent,Ho(n,!1));const e=n;(function fp(n){return ot.skipHydrationRootTNode===n})(e)&&function cy(){ot.skipHydrationRootTNode=null}(),function $b(){ot.lFrame.elementDepthCount--}();const t=Bt();return t.firstCreatePass&&(Td(t,n),j_(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Tp(n){return 0!=(8&n.flags)}(e)&&IE(t,e,me(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function wy(n){return 0!=(16&n.flags)}(e)&&IE(t,e,me(),e.stylesWithoutHost,!1),we}function wt(n,e,t,r){return he(n,e,t,r),we(),wt}let iN=(n,e,t,r,i,o)=>(ks(!0),$y(r,i,function yy(){return ot.lFrame.currentNamespace}()));function ao(){return me()}function dg(n){return!!n&&"function"==typeof n.then}function aN(n){return!!n&&"function"==typeof n.subscribe}function At(n,e,t,r){const i=me(),o=Bt(),s=Fr();return function lN(n,e,t,r,i,o,s){const a=np(r),d=n.firstCreatePass&&SM(n),f=e[tr],m=AM(e);let y=!0;if(3&r.type||s){const D=Gr(r,e),S=s?s(D):D,j=m.length,O=s?re=>s(tn(re[r.index])):r.index;let J=null;if(!s&&a&&(J=function FU(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[ec],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==J)(J.__ngLastListenerFn__||J).__ngNextListenerFn__=o,J.__ngLastListenerFn__=o,y=!1;else{o=dN(r,e,f,o,!1);const re=t.listen(S,i,o);m.push(o,re),d&&d.push(i,O,j,j+1)}}else o=dN(r,e,f,o,!1);const b=r.outputs;let w;if(y&&null!==b&&(w=b[i])){const D=w.length;if(D)for(let S=0;S<D;S+=2){const pe=e[w[S]][w[S+1]].subscribe(o),Ae=m.length;m.push(o,pe),d&&d.push(i,r.index,Ae,-(Ae+1))}}}(o,i,i[dt],s,n,e,r),At}function uN(n,e,t,r){try{return io(6,e,t),!1!==t(r)}catch(i){return MM(n,i),!1}finally{io(7,e,t)}}function dN(n,e,t,r,i){return function o(s){if(s===Function)return r;tg(n.componentOffset>-1?Hi(n.index,e):e);let c=uN(e,t,r,s),d=o.__ngNextListenerFn__;for(;d;)c=uN(e,t,d,s)&&c,d=d.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function ht(n=1){return function zb(n){return(ot.lFrame.contextLView=function Wb(n,e){for(;n>0;)e=e[Ms],n--;return e}(n,ot.lFrame.contextLView))[tr]}(n)}function VU(n,e){let t=null;const r=function rd(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?nd(n,o,!0):Kf(r,o))return i}else t=i}return t}function hg(n,e,t){return vv(n,"",e,"",t),hg}function vv(n,e,t,r,i){const o=me(),s=th(o,e,t,r);return s!==yt&&Co(Bt(),jn(),o,n,s,o[dt],i,!1),vv}function bv(n,e){return n<<17|e<<2}function mc(n){return n>>17&32767}function TE(n){return 2|n}function Ul(n){return(131068&n)>>2}function CE(n,e){return-131069&n|e<<2}function DE(n){return 1|n}function EN(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?mc(o):Ul(o),c=!1;for(;0!==a&&(!1===c||s);){const f=n[a+1];HU(n[a],e)&&(c=!0,n[a+1]=r?DE(f):TE(f)),a=r?mc(f):Ul(f)}c&&(n[t+1]=r?TE(o):DE(o))}function HU(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&fc(n,e)>=0}const Vr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function wN(n){return n.substring(Vr.key,Vr.keyEnd)}function TN(n,e){const t=Vr.textEnd;return t===e?-1:(e=Vr.keyEnd=function qU(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Vr.key=e,t),lh(n,e,t))}function lh(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Yt(n,e){return function hs(n,e,t,r){const i=me(),o=Bt(),s=Go(2);o.firstUpdatePass&&NN(o,n,s,r),e!==yt&&Si(i,s,e)&&ON(o,o.data[oi()],i,i[dt],n,i[s+1]=function ij(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=tt(gc(n)))),n}(e,t),r,s)}(n,e,null,!0),Yt}function jl(n){!function fs(n,e,t,r){const i=Bt(),o=Go(2);i.firstUpdatePass&&NN(i,null,o,r);const s=me();if(t!==yt&&Si(s,o,t)){const a=i.data[oi()];if(kN(a,r)&&!MN(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=Or(c,t||"")),IE(i,a,s,t,r)}else!function rj(n,e,t,r,i,o,s,a){i===yt&&(i=Rt);let c=0,d=0,f=0<i.length?i[0]:null,m=0<o.length?o[0]:null;for(;null!==f||null!==m;){const y=c<i.length?i[c+1]:void 0,b=d<o.length?o[d+1]:void 0;let D,w=null;f===m?(c+=2,d+=2,y!==b&&(w=m,D=b)):null===m||null!==f&&f<m?(c+=2,w=f):(d+=2,w=m,D=b),null!==w&&ON(n,e,t,r,w,D,s,a),f=c<i.length?i[c]:null,m=d<o.length?o[d]:null}}(i,a,s,s[dt],s[o+1],s[o+1]=function tj(n,e,t){if(null==t||""===t)return Rt;const r=[],i=gc(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,o)}}(nj,Bs,n,!0)}function Bs(n,e){for(let t=function zU(n){return function DN(n){Vr.key=0,Vr.keyEnd=0,Vr.value=0,Vr.valueEnd=0,Vr.textEnd=n.length}(n),TN(n,lh(n,0,Vr.textEnd))}(e);t>=0;t=TN(e,t))ur(n,wN(e),!0)}function MN(n,e){return e>=n.expandoStartIndex}function NN(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[oi()],s=MN(n,t);kN(o,r)&&null===e&&!s&&(e=!1),e=function JU(n,e,t,r){const i=function bp(n){const e=ot.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=fg(t=AE(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=AE(i,n,e,t,r),null===o){let c=function ZU(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Ul(r))return n[mc(r)]}(n,e,r);void 0!==c&&Array.isArray(c)&&(c=AE(null,n,e,c[1],r),c=fg(c,e.attrs,r),function XU(n,e,t,r){n[mc(t?e.classBindings:e.styleBindings)]=r}(n,e,r,c))}else o=function ej(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=fg(r,n[o].hostAttrs,t);return fg(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function jU(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=mc(s),c=Ul(s);n[r]=t;let f,d=!1;if(Array.isArray(t)?(f=t[1],(null===f||fc(t,f)>0)&&(d=!0)):f=t,i)if(0!==c){const y=mc(n[a+1]);n[r+1]=bv(y,a),0!==y&&(n[y+1]=CE(n[y+1],r)),n[a+1]=function BU(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=bv(a,0),0!==a&&(n[a+1]=CE(n[a+1],r)),a=r;else n[r+1]=bv(c,0),0===a?a=r:n[c+1]=CE(n[c+1],r),c=r;d&&(n[r+1]=TE(n[r+1])),EN(n,f,r,!0),EN(n,f,r,!1),function $U(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&fc(o,e)>=0&&(t[r+1]=DE(t[r+1]))}(e,f,n,r,o),s=bv(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}function AE(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=fg(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function fg(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ur(n,s,!!t||e[++o]))}return void 0===n?null:n}function nj(n,e,t){const r=String(e);""!==r&&!r.includes(" ")&&ur(n,r,t)}function ON(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const c=n.data,d=c[a+1],f=function UU(n){return 1==(1&n)}(d)?xN(c,e,t,i,Ul(d),s):void 0;Iv(f)||(Iv(o)||function LU(n){return 2==(2&n)}(d)&&(o=xN(c,null,t,i,a,s)),function j8(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:pc.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=pc.Important),n.setStyle(t,r,i,o))}}(r,s,md(oi(),t),i,o))}function xN(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const c=n[i],d=Array.isArray(c),f=d?c[1]:c,m=null===f;let y=t[i+1];y===yt&&(y=m?Rt:void 0);let b=m?kd(y,r):f===r?y:void 0;if(d&&!Iv(b)&&(b=kd(c,r)),Iv(b)&&(a=b,s))return a;const w=n[i+1];i=s?mc(w):Ul(w)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=kd(c,r))}return a}function Iv(n){return void 0!==n}function kN(n,e){return 0!=(n.flags&(e?8:16))}function Ke(n,e=""){const t=me(),r=Bt(),i=n+Mt,o=r.firstCreatePass?Xd(r,i,1,e,null):r.data[i],s=FN(r,t,o,e,n);t[i]=s,Sl()&&zy(r,t,s,o),Ho(o,!1)}let FN=(n,e,t,r,i)=>(ks(!0),function jy(n,e){return n.createText(e)}(e[dt],r));function zi(n){return $l("",n,""),zi}function $l(n,e,t){const r=me(),i=th(r,n,e,t);return i!==yt&&function Aa(n,e,t){const r=md(e,n);!function iR(n,e,t){n.setValue(e,t)}(n[dt],r,t)}(r,oi(),i),$l}const dh="en-US";let rP=dh;class Gl{}class RP{}class xE extends Gl{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new VM(this);const i=ri(e);this._bootstrapComponents=Da(i.bootstrap),this._r3Injector=YR(e,t,[{provide:Gl,useValue:this},{provide:ov,useValue:this.componentFactoryResolver},...r],tt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class kE extends RP{constructor(e){super(),this.moduleType=e}create(e){return new xE(this.moduleType,e,[])}}class MP extends Gl{constructor(e){super(),this.componentFactoryResolver=new VM(this),this.instance=null;const t=new Gd([...e.providers,{provide:Gl,useValue:this},{provide:ov,useValue:this.componentFactoryResolver}],e.parent||Zy(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function FE(n,e,t=null){return new MP({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let A7=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=OR(0,t.type),i=r.length>0?FE([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Pe({token:n,providedIn:"environment",factory:()=>new n(ve(so))})}}return n})();function Ko(n){n.getStandaloneInjector=e=>e.get(A7).getOrCreateStandaloneInjector(n)}function zl(n,e,t){const r=function Wr(){const n=ot.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}()+n,i=me();return i[r]===yt?function Vs(n,e,t){return n[e]=t}(i,r,t?e.call(t):e()):function ag(n,e){return n[e]}(i,r)}function Q7(){return this._results[Symbol.iterator]()}class BE{get changes(){return this._changes||(this._changes=new Xe)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=BE.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=Q7)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function xn(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function lI(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function J7(n,e,t,r=!0){const i=e[Le];if(function O8(n,e,t,r){const i=xr+r,o=t.length;r>0&&(t[i-1][ji]=e),r<o-xr?(e[ji]=t[i],xp(t,xr+r,e)):(t.push(e),e[ji]=null),e[Pn]=t;const s=e[sa];null!==s&&t!==s&&function x8(n,e){const t=n[ca];e[nr]!==e[Pn][Pn][nr]&&(n[ld]=!0),null===t?n[ca]=[e]:t.push(e)}(s,e);const a=e[no];null!==a&&a.insertView(n),e[ut]|=128}(i,e,n,t),r){const o=TI(t,n),s=e[dt],a=Gy(s,n[jo]);null!==a&&function M8(n,e,t,r,i,o){r[Nn]=i,r[Dr]=e,Kp(n,r,t,1,i,o)}(i,n[Dr],s,e,a,o)}}let ir=(()=>{class n{static{this.__NG_ELEMENT_ID__=e$}}return n})();const Z7=ir,X7=class extends Z7{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function Y7(n,e,t,r){const i=e.tView,a=lv(n,i,t,4096&n[ut]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[sa]=n[e.index];const d=n[no];return null!==d&&(a[no]=d.createEmbeddedView(i)),pE(i,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:r});return new ig(i)}};function e$(){return Dv(Fr(),me())}function Dv(n,e){return 4&n.type?new X7(e,n,Kd(n,e)):null}let Qo=(()=>{class n{static{this.__NG_ELEMENT_ID__=s$}}return n})();function s$(){return KP(Fr(),me())}const a$=Qo,WP=class extends a${constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Kd(this._hostTNode,this._hostLView)}get injector(){return new si(this._hostTNode,this._hostLView)}get parentInjector(){const e=lc(this._hostTNode,this._hostLView);if(Sd(e)){const t=Nl(e,this._hostLView),r=Ml(e);return new si(t[Le].data[r+8],t)}return new si(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=qP(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-xr}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,t,r,i,o){const s=e&&!function va(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const D=t||{};a=D.index,r=D.injector,i=D.projectableNodes,o=D.environmentInjector||D.ngModuleRef}const c=s?e:new og(xt(e)),d=r||this.parentInjector;if(!o&&null==c.ngModule){const S=(s?d:this.parentInjector).get(so,null);S&&(o=S)}xt(c.componentType??{});const b=c.create(d,i,null,o);return this.insertImpl(b.hostView,a,false),b}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView;if(function hp(n){return ii(n[Pn])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=i[Pn],f=new WP(d,d[Dr],d[Pn]);f.detach(f.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;return J7(a,i,s,!r),e.attachToViewContainerRef(),xp(UE(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=qP(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Hy(this._lContainer,t);r&&(xd(UE(this._lContainer),t),bI(r[Le],r))}detach(e){const t=this._adjustIndex(e,-1),r=Hy(this._lContainer,t);return r&&null!=xd(UE(this._lContainer),t)?new ig(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function qP(n){return n[8]}function UE(n){return n[8]||(n[8]=[])}function KP(n,e){let t;const r=e[n.index];return ii(r)?t=r:(t=CM(r,e,null,n),e[n.index]=t,uv(e,t)),QP(t,e,n,r),new WP(t,n,e)}let QP=function YP(n,e,t,r){if(n[jo])return;let i;i=8&t.type?tn(r):function c$(n,e){const t=n[dt],r=t.createComment(""),i=Gr(e,n);return Vl(t,Gy(t,i),r,function L8(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[jo]=i};class jE{constructor(e){this.queryList=e,this.matches=null}clone(){return new jE(this.queryList)}setDirty(){this.queryList.setDirty()}}class $E{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new $E(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==tO(e,t).matches&&this.queries[t].setDirty()}}class JP{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class HE{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new HE(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class GE{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new GE(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,d$(t,o)),this.matchTNodeWithReadOption(e,t,Od(t,e,o,!1,!1))}else r===ir?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Od(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===un||i===Qo||i===ir&&4&t.type)this.addMatch(t.index,-2);else{const o=Od(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function d$(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function f$(n,e,t,r){return-1===t?function h$(n,e){return 11&n.type?Kd(n,e):4&n.type?Dv(n,e):null}(e,n):-2===t?function p$(n,e,t){return t===un?Kd(e,n):t===ir?Dv(e,n):t===Qo?KP(e,n):void 0}(n,e,r):pa(n,n[Le],t,e)}function ZP(n,e,t,r){const i=e[no].queries[r];if(null===i.matches){const o=n.data,s=t.matches,a=[];for(let c=0;c<s.length;c+=2){const d=s[c];a.push(d<0?null:f$(e,o[d],s[c+1],t.metadata.read))}i.matches=a}return i.matches}function zE(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const s=ZP(n,e,i,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const d=o[a+1],f=e[-c];for(let m=xr;m<f.length;m++){const y=f[m];y[sa]===y[Pn]&&zE(y[Le],y,d,r)}if(null!==f[ca]){const m=f[ca];for(let y=0;y<m.length;y++){const b=m[y];zE(b[Le],b,d,r)}}}}}return r}function pn(n){const e=me(),t=Bt(),r=fy();Dl(r+1);const i=tO(t,r);if(n.dirty&&function Vb(n){return 4==(4&n[ut])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?zE(t,e,r,[]):ZP(t,e,i,r);n.reset(o,LB),n.notifyOnChanges()}return!0}return!1}function Wl(n,e,t){const r=Bt();r.firstCreatePass&&(function eO(n,e,t){null===n.queries&&(n.queries=new HE),n.queries.track(new GE(e,t))}(r,new JP(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),function XP(n,e,t){const r=new BE(4==(4&t));(function _9(n,e,t,r){const i=AM(e);i.push(t),n.firstCreatePass&&SM(n).push(r,i.length-1)})(n,e,r,r.destroy),null===e[no]&&(e[no]=new $E),e[no].queries.push(new jE(r))}(r,me(),e)}function tO(n,e){return n.queries.getByIndex(e)}function Yo(n,e){return Dv(n,e)}const JE=new xe("Application Initializer");let ZE=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=Me(JE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const o=i();if(dg(o))t.push(o);else if(aN(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),yO=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const ps=new xe("LocaleId",{providedIn:"root",factory:()=>Me(ps,Dt.Optional|Dt.SkipSelf)||function V$(){return typeof $localize<"u"&&$localize.locale||dh}()});let vO=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new V(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class U${constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let bO=(()=>{class n{compileModuleSync(t){return new kE(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=Da(ri(t).declarations).reduce((s,a)=>{const c=xt(a);return c&&s.push(new og(c)),s},[]);return new U$(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const TO=new xe(""),Mv=new xe("");let rw,tw=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,rw||(function cH(n){rw=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Nt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||n)(ve(Nt),ve(nw),ve(Mv))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})(),nw=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return rw?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),_c=null;const CO=new xe("AllowMultipleToken"),iw=new xe("PlatformDestroyListeners"),ow=new xe("appBootstrapListener");class AO{constructor(e,t){this.name=e,this.token=t}}function RO(n,e,t=[]){const r=`Platform: ${e}`,i=new xe(r);return(o=[])=>{let s=sw();if(!s||s.injector.get(CO,!1)){const a=[...t,...o,{provide:i,useValue:!0}];n?n(a):function dH(n){if(_c&&!_c.get(CO,!1))throw new be(400,!1);(function DO(){!function Db(n){lp=n}(()=>{throw new be(600,!1)})})(),_c=n;const e=n.get(NO);(function SO(n){n.get(LR,null)?.forEach(t=>t())})(n)}(function MO(n=[],e){return ai.create({name:e,providers:[{provide:VI,useValue:"platform"},{provide:iw,useValue:new Set([()=>_c=null])},...n]})}(a,r))}return function fH(n){const e=sw();if(!e)throw new be(401,!1);return e}()}}function sw(){return _c?.get(NO)??null}let NO=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function pH(n="zone.js",e){return"noop"===n?new XB:"zone.js"===n?new Nt(e):n}(r?.ngZone,function PO(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function D7(n,e,t){return new xE(n,e,t)}(t.moduleType,this.injector,function VO(n){return[{provide:Nt,useFactory:n},{provide:Zp,multi:!0,useFactory:()=>{const e=Me(mH,{optional:!0});return()=>e.initialize()}},{provide:FO,useFactory:gH},{provide:tM,useFactory:nM}]}(()=>i)),s=o.injector.get(Ca,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{Nv(this._modules,o),a.unsubscribe()})}),function OO(n,e,t){try{const r=t();return dg(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(ZE);return a.runInitializers(),a.donePromise.then(()=>(function iP(n){to(n,"Expected localeId to be defined"),"string"==typeof n&&(rP=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(ps,dh)||dh),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,r=[]){const i=xO({},r);return function lH(n,e,t){const r=new kE(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(yc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new be(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(iw,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||n)(ve(ai))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function xO(n,e){return Array.isArray(e)?e.reduce(xO,n):{...n,...e}}let yc=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Me(FO),this.zoneIsStable=Me(tM),this.componentTypes=[],this.components=[],this.isStable=Me(vO).hasPendingTasks.pipe(Ve(t=>t?q(!1):this.zoneIsStable),fn(),Z()),this._injector=Me(so)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof HR;if(!this._injector.get(ZE).done)throw!i&&function Rs(n){const e=xt(n)||yr(n)||Cr(n);return null!==e&&e.standalone}(t),new be(405,!1);let s;s=i?t:this._injector.get(ov).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function uH(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Gl),d=s.create(ai.NULL,[],r||s.selector,a),f=d.location.nativeElement,m=d.injector.get(TO,null);return m?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),Nv(this.components,d),m?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Nv(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(ow,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Nv(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new be(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Nv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const FO=new xe("",{providedIn:"root",factory:()=>Me(Ca).handleError.bind(void 0)});function gH(){const n=Me(Nt),e=Me(Ca);return t=>n.runOutsideAngular(()=>e.handleError(t))}let mH=(()=>{class n{constructor(){this.zone=Me(Nt),this.applicationRef=Me(yc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();let gs=(()=>{class n{static{this.__NG_ELEMENT_ID__=yH}}return n})();function yH(n){return function vH(n,e,t){if(rc(n)&&!t){const r=Hi(n.index,e);return new ig(r,r)}return 47&n.type?new ig(e[nr],e):null}(Fr(),me(),16==(16&n))}const NH=RO(null,"core",[]);let PH=(()=>{class n{constructor(t){}static{this.\u0275fac=function(r){return new(r||n)(ve(yc))}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})();function ph(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function hw(n,e){const t=xt(n),r=e.elementInjector||Zy();return new og(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}let fw=null;function vc(){return fw}class WH{}const Lr=new xe("DocumentToken");let pw=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Pe({token:n,factory:function(){return Me(KH)},providedIn:"platform"})}}return n})();const qH=new xe("Location Initialized");let KH=(()=>{class n extends pw{constructor(){super(),this._doc=Me(Lr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vc().getBaseHref(this._doc)}onPopState(t){const r=vc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=vc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Pe({token:n,factory:function(){return new n},providedIn:"platform"})}}return n})();function gw(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function rx(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Sa(n){return n&&"?"!==n[0]?"?"+n:n}let Kl=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Pe({token:n,factory:function(){return Me(ox)},providedIn:"root"})}}return n})();const ix=new xe("appBaseHref");let ox=(()=>{class n extends Kl{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Me(Lr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return gw(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Sa(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+Sa(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+Sa(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(ve(pw),ve(ix,8))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),QH=(()=>{class n extends Kl{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=gw(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Sa(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Sa(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(ve(pw),ve(ix,8))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})(),mw=(()=>{class n{constructor(t){this._subject=new Xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function ZH(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(rx(sx(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Sa(r))}normalize(t){return n.stripTrailingSlash(function JH(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,sx(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Sa(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Sa(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Sa}static{this.joinWithSlash=gw}static{this.stripTrailingSlash=rx}static{this.\u0275fac=function(r){return new(r||n)(ve(Kl))}}static{this.\u0275prov=Pe({token:n,factory:function(){return function YH(){return new mw(ve(Kl))}()},providedIn:"root"})}}return n})();function sx(n){return n.replace(/\/index.html$/,"")}let Us=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new VG,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){bx("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){bx("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(H(Qo),H(ir))}}static{this.\u0275dir=Se({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class VG{constructor(){this.$implicit=null,this.ngIf=null}}function bx(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${tt(e)}'.`)}let uz=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})();function Wv(n){return"server"===n}let pz=(()=>{class n{static{this.\u0275prov=Pe({token:n,providedIn:"root",factory:()=>new gz(ve(Lr),window)})}}return n})();class gz{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function mz(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Uz extends WH{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class xw extends Uz{static makeCurrent(){!function zH(n){fw||(fw=n)}(new xw)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function jz(){return Mg=Mg||document.querySelector("base"),Mg?Mg.getAttribute("href"):null}();return null==t?null:function $z(n){Qv=Qv||document.createElement("a"),Qv.setAttribute("href",n);const e=Qv.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Mg=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function OG(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Qv,Mg=null,Gz=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})();const kw=new xe("EventManagerPlugins");let Sx=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new be(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(ve(kw),ve(Nt))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})();class Rx{constructor(e){this._doc=e}}const Fw="ng-app-id";let Mx=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Wv(o),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Fw}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Fw),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Fw,this.appId),s}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(ve(Lr),ve(Xy),ve(BR,8),ve(Ta))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})();const Vw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Lw=/%COMP%/g,Kz=new xe("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Px(n,e){return e.map(t=>t.replace(Lw,n))}let Ox=(()=>{class n{constructor(t,r,i,o,s,a,c,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Wv(a),this.defaultRenderer=new Bw(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===_r.ShadowDom&&(r={...r,encapsulation:_r.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof kx?i.applyToHost(t):i instanceof Uw&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case _r.Emulated:o=new kx(c,d,r,this.appId,f,s,a,m);break;case _r.ShadowDom:return new Zz(c,d,t,r,s,a,this.nonce,m);default:o=new Uw(c,d,r,f,s,a,m)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(ve(Sx),ve(Mx),ve(Xy),ve(Kz),ve(Lr),ve(Ta),ve(Nt),ve(BR))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})();class Bw{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Vw[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(xx(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(xx(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new be(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=Vw[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Vw[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(pc.DashCase|pc.Important)?e.style.setProperty(t,r,i&pc.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&pc.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=vc().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function xx(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Zz extends Bw{constructor(e,t,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=Px(i.id,i.styles);for(const f of d){const m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=f,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Uw extends Bw{constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?Px(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class kx extends Uw{constructor(e,t,r,i,o,s,a,c){const d=i+"-"+r.id;super(e,t,r,o,s,a,c,d),this.contentAttr=function Qz(n){return"_ngcontent-%COMP%".replace(Lw,n)}(d),this.hostAttr=function Yz(n){return"_nghost-%COMP%".replace(Lw,n)}(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Xz=(()=>{class n extends Rx{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(ve(Lr))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})();const Fx=["alt","control","meta","shift"],eW={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tW={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let nW=(()=>{class n extends Rx{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vc().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Fx.forEach(d=>{const f=r.indexOf(d);f>-1&&(r.splice(f,1),s+=d+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=eW[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Fx.forEach(s=>{s!==i&&(0,tW[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(ve(Lr))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})();const sW=RO(NH,"browser",[{provide:Ta,useValue:"browser"},{provide:LR,useValue:function rW(){xw.makeCurrent()},multi:!0},{provide:Lr,useFactory:function oW(){return function W8(n){AI=n}(document),document},deps:[]}]),aW=new xe(""),Bx=[{provide:Mv,useClass:class Hz{addToWindow(e){cn.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new be(5103,!1);return o},cn.getAllAngularTestabilities=()=>e.getAllTestabilities(),cn.getAllAngularRootElements=()=>e.getAllRootElements(),cn.frameworkStabilizers||(cn.frameworkStabilizers=[]),cn.frameworkStabilizers.push(r=>{const i=cn.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?vc().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:TO,useClass:tw,deps:[Nt,nw,Mv]},{provide:tw,useClass:tw,deps:[Nt,nw,Mv]}],Ux=[{provide:VI,useValue:"root"},{provide:Ca,useFactory:function iW(){return new Ca},deps:[]},{provide:kw,useClass:Xz,multi:!0,deps:[Lr,Nt,Ta]},{provide:kw,useClass:nW,multi:!0,deps:[Lr]},Ox,Mx,Sx,{provide:JI,useExisting:Ox},{provide:class _z{},useClass:Gz,deps:[]},[]];let cW=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Xy,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||n)(ve(aW,12))}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({providers:[...Ux,...Bx],imports:[uz,PH]})}}return n})(),jx=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(ve(Lr))}}static{this.\u0275prov=Pe({token:n,factory:function(r){let i=null;return i=r?new r:function uW(){return new jx(ve(Lr))}(),i},providedIn:"root"})}}return n})();typeof window<"u"&&window;const{isArray:mW}=Array,{getPrototypeOf:_W,prototype:yW,keys:vW}=Object;const{isArray:IW}=Array;function $w(n){return ye(e=>function EW(n,e){return IW(e)?n(...e):n(e)}(n,e))}function Hw(...n){const e=Cs(n),t=is(n),{args:r,keys:i}=function zx(n){if(1===n.length){const e=n[0];if(mW(e))return{args:e,keys:null};if(function bW(n){return n&&"object"==typeof n&&_W(n)===yW}(e)){const t=vW(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}(n);if(0===r.length)return R([],e);const o=new lt(function wW(n,e,t=Zt){return r=>{qx(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)qx(e,()=>{const d=R(n[c],e);let f=!1;d.subscribe(te(r,m=>{o[c]=m,f||(f=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>function Wx(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}(i,s):Zt));return t?o.pipe($w(t)):o}function qx(n,e,t){n?Mn(t,n,e):e()}const Yv=Ye(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ng(...n){return function TW(){return Xt(1)}()(R(n,Cs(n)))}function Kx(n){return new lt(e=>{De(n()).subscribe(e)})}function Pg(n,e){const t=C(n)?n:()=>n,r=i=>i.error(t());return new lt(e?i=>e.schedule(r,0,i):r)}function Gw(){return z((n,e)=>{let t=null;n._refCount++;const r=te(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Qx extends lt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ce(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new St;const t=this.getSubject();e.add(this.source.subscribe(te(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=St.EMPTY)}return e}refCount(){return Gw()(this)}}function ci(n){return n<=0?()=>en:z((e,t)=>{let r=0;e.subscribe(te(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Og(...n){const e=Cs(n);return z((t,r)=>{(e?Ng(n,t,e):Ng(n,t)).subscribe(r)})}function br(n,e){return z((t,r)=>{let i=0;t.subscribe(te(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Jv(n){return z((e,t)=>{let r=!1;e.subscribe(te(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Yx(n=CW){return z((e,t)=>{let r=!1;e.subscribe(te(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function CW(){return new Yv}function Ec(n,e){const t=arguments.length>=2;return r=>r.pipe(n?br((i,o)=>n(i,o,r)):Zt,ci(1),t?Jv(e):Yx(()=>new Yv))}function xg(n,e){return C(e)?an(n,e,1):an(n,1)}function Br(n,e,t){const r=C(n)||e||t?{next:n,error:e,complete:t}:n;return r?z((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(te(o,c=>{var d;null===(d=r.next)||void 0===d||d.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var d;a=!1,null===(d=r.error)||void 0===d||d.call(r,c),o.error(c)},()=>{var c,d;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(d=r.finalize)||void 0===d||d.call(r)}))}):Zt}function Ql(n){return z((e,t)=>{let o,r=null,i=!1;r=e.subscribe(te(t,void 0,void 0,s=>{o=De(n(s,Ql(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Zv(n,e){return z(function DW(n,e,t,r,i){return(o,s)=>{let a=t,c=e,d=0;o.subscribe(te(s,f=>{const m=d++;c=a?n(c,f,m):(a=!0,f),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(n,e,arguments.length>=2,!0))}function zw(n){return n<=0?()=>en:z((e,t)=>{let r=[];e.subscribe(te(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Ww(n){return z((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function hr(n){return z((e,t)=>{De(n).subscribe(te(t,()=>t.complete(),$e)),!t.closed&&e.subscribe(t)})}const Tt="primary",kg=Symbol("RouteTitle");class SW{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function _h(n){return new SW(n)}function RW(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function js(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Zx(n[i],e[i]))return!1;return!0}function Zx(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function Xx(n){return n.length>0?n[n.length-1]:null}function wc(n){return function gW(n){return!!n&&(n instanceof lt||C(n.lift)&&C(n.subscribe))}(n)?n:dg(n)?R(Promise.resolve(n)):q(n)}const NW={exact:function n2(n,e,t){if(!Yl(n.segments,e.segments)||!Xv(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!n2(n.children[r],e.children[r],t))return!1;return!0},subset:r2},e2={exact:function PW(n,e){return js(n,e)},subset:function OW(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Zx(n[t],e[t]))},ignored:()=>!0};function t2(n,e,t){return NW[t.paths](n.root,e.root,t.matrixParams)&&e2[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function r2(n,e,t){return i2(n,e,e.segments,t)}function i2(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Yl(i,t)||e.hasChildren()||!Xv(i,t,r))}if(n.segments.length===t.length){if(!Yl(n.segments,t)||!Xv(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!r2(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Yl(n.segments,i)&&Xv(n.segments,i,r)&&n.children[Tt])&&i2(n.children[Tt],e,o,r)}}function Xv(n,e,t){return e.every((r,i)=>e2[t](n[i].parameters,r.parameters))}class yh{constructor(e=new mn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_h(this.queryParams)),this._queryParamMap}toString(){return FW.serialize(this)}}class mn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return e0(this)}}class Fg{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=_h(this.parameters)),this._parameterMap}toString(){return a2(this)}}function Yl(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Vg=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Pe({token:n,factory:function(){return new qw},providedIn:"root"})}}return n})();class qw{parse(e){const t=new qW(e);return new yh(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Lg(e.root,!0)}`,r=function BW(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${t0(t)}=${t0(i)}`).join("&"):`${t0(t)}=${t0(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function VW(n){return encodeURI(n)}(e.fragment)}`:""}`}}const FW=new qw;function e0(n){return n.segments.map(e=>a2(e)).join("/")}function Lg(n,e){if(!n.hasChildren())return e0(n);if(e){const t=n.children[Tt]?Lg(n.children[Tt],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Tt&&r.push(`${i}:${Lg(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function kW(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Tt&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Tt&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===Tt?[Lg(n.children[Tt],!1)]:[`${i}:${Lg(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Tt]?`${e0(n)}/${t[0]}`:`${e0(n)}/(${t.join("//")})`}}function o2(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function t0(n){return o2(n).replace(/%3B/gi,";")}function Kw(n){return o2(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function n0(n){return decodeURIComponent(n)}function s2(n){return n0(n.replace(/\+/g,"%20"))}function a2(n){return`${Kw(n.path)}${function LW(n){return Object.keys(n).map(e=>`;${Kw(e)}=${Kw(n[e])}`).join("")}(n.parameters)}`}const UW=/^[^\/()?;#]+/;function Qw(n){const e=n.match(UW);return e?e[0]:""}const jW=/^[^\/()?;=#]+/,HW=/^[^=?&#]+/,zW=/^[^&#]+/;class qW{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new mn([],{}):new mn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Tt]=new mn(e,t)),r}parseSegment(){const e=Qw(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new be(4009,!1);return this.capture(e),new Fg(n0(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function $W(n){const e=n.match(jW);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Qw(this.remaining);i&&(r=i,this.capture(r))}e[n0(t)]=n0(r)}parseQueryParam(e){const t=function GW(n){const e=n.match(HW);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function WW(n){const e=n.match(zW);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=s2(t),o=s2(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Qw(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new be(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Tt);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[Tt]:new mn([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new be(4011,!1)}}function c2(n){return n.segments.length>0?new mn([],{[Tt]:n}):n}function l2(n){const e={};for(const r of Object.keys(n.children)){const o=l2(n.children[r]);if(r===Tt&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function KW(n){if(1===n.numberOfChildren&&n.children[Tt]){const e=n.children[Tt];return new mn(n.segments.concat(e.segments),e.children)}return n}(new mn(n.segments,e))}function Jl(n){return n instanceof yh}function u2(n){let e;const i=c2(function t(o){const s={};for(const c of o.children){const d=t(c);s[c.outlet]=d}const a=new mn(o.url,s);return o===n&&(e=a),a}(n.root));return e??i}function d2(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return Yw(i,i,i,t,r);const o=function YW(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new f2(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,d])=>{a[c]="string"==typeof d?d.split("/"):d}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new f2(t,e,r)}(e);if(o.toRoot())return Yw(i,i,new mn([],{}),t,r);const s=function JW(n,e,t){if(n.isAbsolute)return new o0(e,!0,0);if(!t)return new o0(e,!1,NaN);if(null===t.parent)return new o0(t,!0,0);const r=r0(n.commands[0])?0:1;return function ZW(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new be(4005,!1);i=r.segments.length}return new o0(r,!1,i-o)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(o,i,n),a=s.processChildren?Ug(s.segmentGroup,s.index,o.commands):p2(s.segmentGroup,s.index,o.commands);return Yw(i,s.segmentGroup,a,t,r)}function r0(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Bg(n){return"object"==typeof n&&null!=n&&n.outlets}function Yw(n,e,t,r,i){let s,o={};r&&Object.entries(r).forEach(([c,d])=>{o[c]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`}),s=n===e?t:h2(n,e,t);const a=c2(l2(s));return new yh(a,o,i)}function h2(n,e,t){const r={};return Object.entries(n.children).forEach(([i,o])=>{r[i]=o===e?t:h2(o,e,t)}),new mn(n.segments,r)}class f2{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&r0(r[0]))throw new be(4003,!1);const i=r.find(Bg);if(i&&i!==Xx(r))throw new be(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class o0{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function p2(n,e,t){if(n||(n=new mn([],{})),0===n.segments.length&&n.hasChildren())return Ug(n,e,t);const r=function eq(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(Bg(a))break;const c=`${a}`,d=r<t.length-1?t[r+1]:null;if(i>0&&void 0===c)break;if(c&&d&&"object"==typeof d&&void 0===d.outlets){if(!m2(c,d,s))return o;r+=2}else{if(!m2(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new mn(n.segments.slice(0,r.pathIndex),{});return o.children[Tt]=new mn(n.segments.slice(r.pathIndex),n.children),Ug(o,0,i)}return r.match&&0===i.length?new mn(n.segments,{}):r.match&&!n.hasChildren()?Jw(n,e,t):r.match?Ug(n,0,i):Jw(n,e,t)}function Ug(n,e,t){if(0===t.length)return new mn(n.segments,{});{const r=function XW(n){return Bg(n[0])?n[0].outlets:{[Tt]:n}}(t),i={};if(Object.keys(r).some(o=>o!==Tt)&&n.children[Tt]&&1===n.numberOfChildren&&0===n.children[Tt].segments.length){const o=Ug(n.children[Tt],e,t);return new mn(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=p2(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new mn(n.segments,i)}}function Jw(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(Bg(o)){const c=tq(o.outlets);return new mn(r,c)}if(0===i&&r0(t[0])){r.push(new Fg(n.segments[e].path,g2(t[0]))),i++;continue}const s=Bg(o)?o.outlets[Tt]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&r0(a)?(r.push(new Fg(s,g2(a))),i+=2):(r.push(new Fg(s,{})),i++)}return new mn(r,{})}function tq(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=Jw(new mn([],{}),0,r))}),e}function g2(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function m2(n,e,t){return n==t.path&&js(e,t.parameters)}const jg="imperative";class $s{constructor(e,t){this.id=e,this.url=t}}class s0 extends $s{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Tc extends $s{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $g extends $s{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vh extends $s{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class a0 extends $s{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _2 extends $s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nq extends $s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rq extends $s{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class iq extends $s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oq extends $s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sq{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class aq{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cq{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lq{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uq{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dq{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class y2{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Zw{}class Xw{constructor(e){this.url=e}}class hq{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Hg,this.attachRef=null}}let Hg=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new hq,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class v2{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=eT(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=eT(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=tT(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return tT(e,this._root).map(t=>t.value)}}function eT(n,e){if(n===e.value)return e;for(const t of e.children){const r=eT(n,t);if(r)return r}return null}function tT(n,e){if(n===e.value)return[e];for(const t of e.children){const r=tT(n,t);if(r.length)return r.unshift(e),r}return[]}class Na{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function bh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class b2 extends v2{constructor(e,t){super(e),this.snapshot=t,nT(this,e)}toString(){return this.snapshot.toString()}}function I2(n,e){const t=function fq(n,e){const s=new c0([],{},{},"",{},Tt,e,null,{});return new w2("",new Na(s,[]))}(0,e),r=new V([new Fg("",{})]),i=new V({}),o=new V({}),s=new V({}),a=new V(""),c=new Ih(r,i,s,a,o,Tt,e,t.root);return c.snapshot=t.root,new b2(new Na(c,[]),t)}class Ih{constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ye(d=>d[kg]))??q(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ye(e=>_h(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ye(e=>_h(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function E2(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function pq(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class c0{get title(){return this.data?.[kg]}constructor(e,t,r,i,o,s,a,c,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_h(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_h(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class w2 extends v2{constructor(e,t){super(t),this.url=e,nT(this,t)}toString(){return T2(this._root)}}function nT(n,e){e.value._routerState=n,e.children.forEach(t=>nT(n,t))}function T2(n){const e=n.children.length>0?` { ${n.children.map(T2).join(", ")} } `:"";return`${n.value}${e}`}function rT(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,js(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),js(e.params,t.params)||n.paramsSubject.next(t.params),function MW(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!js(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),js(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function iT(n,e){const t=js(n.params,e.params)&&function xW(n,e){return Yl(n,e)&&n.every((t,r)=>js(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||iT(n.parent,e.parent))}let oT=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Tt,this.activateEvents=new Xe,this.deactivateEvents=new Xe,this.attachEvents=new Xe,this.detachEvents=new Xe,this.parentContexts=Me(Hg),this.location=Me(Qo),this.changeDetector=Me(gs),this.environmentInjector=Me(so),this.inputBinder=Me(l0,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new be(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new be(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new be(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new be(4013,!1);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new gq(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Se({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[kr]})}}return n})();class gq{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ih?this.route:e===Hg?this.childContexts:this.parent.get(e,t)}}const l0=new xe("");let C2=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=Hw([r.queryParams,r.params,r.data]).pipe(Ve(([o,s,a],c)=>(a={...o,...s,...a},0===c?q(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const s=function GH(n){const e=xt(n);if(!e)return null;const t=new og(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})();function Gg(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function _q(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Gg(n,r,i);return Gg(n,r)})}(n,e,t);return new Na(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Gg(n,a)),s}}const r=function yq(n){return new Ih(new V(n.url),new V(n.params),new V(n.queryParams),new V(n.fragment),new V(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>Gg(n,o));return new Na(r,i)}}const sT="ngNavigationCancelingError";function D2(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Jl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=A2(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function A2(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[sT]=!0,r.cancellationCode=e,t&&(r.url=t),r}function S2(n){return n&&n[sT]}let R2=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Kn({type:n,selectors:[["ng-component"]],standalone:!0,features:[Ko],decls:1,vars:0,template:function(r,i){1&r&&wt(0,"router-outlet")},dependencies:[oT],encapsulation:2})}}return n})();function aT(n){const e=n.children&&n.children.map(aT),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Tt&&(t.component=R2),t}function ys(n){return n.outlet||Tt}function zg(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Dq{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),rT(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=bh(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=bh(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=bh(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=bh(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new dq(o.value.snapshot))}),e.children.length&&this.forwardEvent(new lq(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(rT(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),rT(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=zg(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class M2{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class u0{constructor(e,t){this.component=e,this.route=t}}function Aq(n,e,t){const r=n._root;return Wg(r,e?e._root:null,t,[r.value])}function Eh(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function mb(n){return null!==Hu(n)}(n)?e.get(n):n:r}function Wg(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=bh(e);return n.children.forEach(s=>{(function Rq(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function Mq(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Yl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Yl(n.url,e.url)||!js(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!iT(n,e)||!js(n.queryParams,e.queryParams);default:return!iT(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new M2(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Wg(n,e,o.component?a?a.children:null:t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new u0(a.outlet.component,s))}else s&&qg(e,a,i),i.canActivateChecks.push(new M2(r)),Wg(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>qg(a,t.getContext(s),i)),i}function qg(n,e,t){const r=bh(n),i=n.value;Object.entries(r).forEach(([o,s])=>{qg(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new u0(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Kg(n){return"function"==typeof n}function N2(n){return n instanceof Yv||"EmptyError"===n?.name}const d0=Symbol("INITIAL_VALUE");function wh(){return Ve(n=>Hw(n.map(e=>e.pipe(ci(1),Og(d0)))).pipe(ye(e=>{for(const t of e)if(!0!==t){if(t===d0)return d0;if(!1===t||t instanceof yh)return t}return!0}),br(e=>e!==d0),ci(1)))}function P2(n){return function Hr(...n){return vi(n)}(Br(e=>{if(Jl(e))throw D2(0,e)}),ye(e=>!0===e))}class h0{constructor(e){this.segmentGroup=e||null}}class O2{constructor(e){this.urlTree=e}}function Th(n){return Pg(new h0(n))}function x2(n){return Pg(new O2(n))}class Yq{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new be(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return q(r);if(i.numberOfChildren>1||!i.children[Tt])return Pg(new be(4e3,!1));i=i.children[Tt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new yh(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new mn(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new be(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const cT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Jq(n,e,t,r,i){const o=lT(n,e,t);return o.matched?(r=function bq(n,e){return n.providers&&!n._injector&&(n._injector=FE(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function qq(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?q(i.map(s=>{const a=Eh(s,n);return wc(function Fq(n){return n&&Kg(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(wh(),P2()):q(!0)}(r,e,t).pipe(ye(s=>!0===s?o:{...cT}))):q(o)}function lT(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...cT}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||RW)(t,n,e);if(!i)return{...cT};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function k2(n,e,t,r){return t.length>0&&function eK(n,e,t){return t.some(r=>f0(n,e,r)&&ys(r)!==Tt)}(n,t,r)?{segmentGroup:new mn(e,Xq(r,new mn(t,n.children))),slicedSegments:[]}:0===t.length&&function tK(n,e,t){return t.some(r=>f0(n,e,r))}(n,t,r)?{segmentGroup:new mn(n.segments,Zq(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new mn(n.segments,n.children),slicedSegments:t}}function Zq(n,e,t,r,i){const o={};for(const s of r)if(f0(n,t,s)&&!i[ys(s)]){const a=new mn([],{});o[ys(s)]=a}return{...i,...o}}function Xq(n,e){const t={};t[Tt]=e;for(const r of n)if(""===r.path&&ys(r)!==Tt){const i=new mn([],{});t[ys(r)]=i}return t}function f0(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class oK{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Yq(this.urlSerializer,this.urlTree)}noMatchError(e){return new be(4002,!1)}recognize(){const e=k2(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Tt).pipe(Ql(t=>{if(t instanceof O2)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof h0?this.noMatchError(t):t}),ye(t=>{const r=new c0([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Tt,this.rootComponentType,null,{}),i=new Na(r,t),o=new w2("",i),s=function QW(n,e,t=null,r=null){return d2(u2(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Tt).pipe(Ql(r=>{throw r instanceof h0?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=E2(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return R(i).pipe(xg(o=>{const s=r.children[o],a=function Tq(n,e){const t=n.filter(r=>ys(r)===e);return t.push(...n.filter(r=>ys(r)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),Zv((o,s)=>(o.push(...s),o)),Jv(null),function AW(n,e){const t=arguments.length>=2;return r=>r.pipe(n?br((i,o)=>n(i,o,r)):Zt,zw(1),t?Jv(e):Yx(()=>new Yv))}(),an(o=>{if(null===o)return Th(r);const s=F2(o);return function sK(n){n.sort((e,t)=>e.value.outlet===Tt?-1:t.value.outlet===Tt?1:e.value.outlet.localeCompare(t.value.outlet))}(s),q(s)}))}processSegment(e,t,r,i,o,s){return R(t).pipe(xg(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,o,s).pipe(Ql(c=>{if(c instanceof h0)return q(null);throw c}))),Ec(a=>!!a),Ql(a=>{if(N2(a))return function rK(n,e,t){return 0===e.length&&!n.children[t]}(r,i,o)?q([]):Th(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,o,s,a){return function nK(n,e,t,r){return!!(ys(n)===r||r!==Tt&&f0(e,t,n))&&("**"===n.path||lT(e,n,t).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s):Th(i):Th(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?x2(o):this.applyRedirects.lineralizeSegments(r,o).pipe(an(s=>{const a=new mn(s,{});return this.processSegment(e,t,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:d,positionalParamSegments:f}=lT(t,i,o);if(!a)return Th(t);const m=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,f);return i.redirectTo.startsWith("/")?x2(m):this.applyRedirects.lineralizeSegments(i,m).pipe(an(y=>this.processSegment(e,r,t,y.concat(d),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a;if("**"===r.path){const c=i.length>0?Xx(i).parameters:{};a=q({snapshot:new c0(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,V2(r),ys(r),r.component??r._loadedComponent??null,r,L2(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=Jq(t,r,i,e).pipe(ye(({matched:c,consumedSegments:d,remainingSegments:f,parameters:m})=>c?{snapshot:new c0(d,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,V2(r),ys(r),r.component??r._loadedComponent??null,r,L2(r)),consumedSegments:d,remainingSegments:f}:null));return a.pipe(Ve(c=>null===c?Th(t):this.getChildConfig(e=r._injector??e,r,i).pipe(Ve(({routes:d})=>{const f=r._loadedInjector??e,{snapshot:m,consumedSegments:y,remainingSegments:b}=c,{segmentGroup:w,slicedSegments:D}=k2(t,y,b,d);if(0===D.length&&w.hasChildren())return this.processChildren(f,d,w).pipe(ye(j=>null===j?null:[new Na(m,j)]));if(0===d.length&&0===D.length)return q([new Na(m,[])]);const S=ys(r)===o;return this.processSegment(f,d,w,D,S?Tt:o,!0).pipe(ye(j=>[new Na(m,j)]))}))))}getChildConfig(e,t,r){return t.children?q({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?q({routes:t._loadedRoutes,injector:t._loadedInjector}):function Wq(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?q(!0):q(i.map(s=>{const a=Eh(s,n);return wc(function Pq(n){return n&&Kg(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(wh(),P2())}(e,t,r).pipe(an(i=>i?this.configLoader.loadChildren(e,t).pipe(Br(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function Qq(n){return Pg(A2(!1,3))}())):q({routes:[],injector:e})}}function aK(n){const e=n.value.routeConfig;return e&&""===e.path}function F2(n){const e=[],t=new Set;for(const r of n){if(!aK(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=F2(r.children);e.push(new Na(r.value,i))}return e.filter(r=>!t.has(r))}function V2(n){return n.data||{}}function L2(n){return n.resolve||{}}function lK(n,e){return an(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return q(t);let o=0;return R(i).pipe(xg(s=>function uK(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!B2(i)&&(o[kg]=i.title),function dK(n,e,t,r){const i=function hK(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return q({});const o={};return R(i).pipe(an(s=>function fK(n,e,t,r){const i=zg(e)??r,o=Eh(n,i);return wc(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[s],e,t,r).pipe(Ec(),Br(a=>{o[s]=a}))),zw(1),function Jx(n){return ye(()=>n)}(o),Ql(s=>N2(s)?en:Pg(s)))}(o,n,e,r).pipe(ye(s=>(n._resolvedData=s,n.data=E2(n,t).resolve,i&&B2(i)&&(n.data[kg]=i.title),null)))}(s.route,r,n,e)),Br(()=>o++),zw(1),an(s=>o===i.length?q(t):en))})}function B2(n){return"string"==typeof n.title||null===n.title}function uT(n){return Ve(e=>{const t=n(e);return t?R(t).pipe(ye(()=>e)):q(e)})}const Ch=new xe("ROUTES");let dT=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Me(bO)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return q(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=wc(t.loadComponent()).pipe(ye(U2),Br(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Ww(()=>{this.componentLoaders.delete(t)})),i=new Qx(r,()=>new G).pipe(Gw());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function pK(n,e,t,r){return wc(n.loadChildren()).pipe(ye(U2),an(i=>i instanceof RP||Array.isArray(i)?q(i):R(e.compileModuleAsync(i))),ye(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(t).injector,s=o.get(Ch,[],{optional:!0,self:!0}).flat()),{routes:s.map(aT),injector:o}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(Ww(()=>{this.childrenLoaders.delete(r)})),s=new Qx(o,()=>new G).pipe(Gw());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function U2(n){return function gK(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let p0=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new G,this.transitionAbortSubject=new G,this.configLoader=Me(dT),this.environmentInjector=Me(so),this.urlSerializer=Me(Vg),this.rootContexts=Me(Hg),this.inputBindingEnabled=null!==Me(l0,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>q(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new aq(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new sq(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new V({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:jg,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(br(o=>0!==o.id),ye(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),Ve(o=>{this.currentTransition=o;let s=!1,a=!1;return q(o).pipe(Br(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ve(c=>{const d=c.currentBrowserUrl.toString(),f=!t.navigated||c.extractedUrl.toString()!==d||d!==c.currentUrlTree.toString();if(!f&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const y="";return this.events.next(new vh(c.id,this.urlSerializer.serialize(c.rawUrl),y,0)),c.resolve(null),en}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return q(c).pipe(Ve(y=>{const b=this.transitions?.getValue();return this.events.next(new s0(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),b!==this.transitions?.getValue()?en:Promise.resolve(y)}),function cK(n,e,t,r,i,o){return an(s=>function iK(n,e,t,r,i,o,s="emptyOnly"){return new oK(n,e,t,r,i,s,o).recognize()}(n,e,t,r,s.extractedUrl,i,o).pipe(ye(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Br(y=>{o.targetSnapshot=y.targetSnapshot,o.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:y.urlAfterRedirects};const b=new _2(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(b)}));if(f&&t.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:y,extractedUrl:b,source:w,restoredState:D,extras:S}=c,j=new s0(y,this.urlSerializer.serialize(b),w,D);this.events.next(j);const O=I2(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:O,urlAfterRedirects:b,extras:{...S,skipLocationChange:!1,replaceUrl:!1}},q(o)}{const y="";return this.events.next(new vh(c.id,this.urlSerializer.serialize(c.extractedUrl),y,1)),c.resolve(null),en}}),Br(c=>{const d=new nq(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),ye(c=>(this.currentTransition=o={...c,guards:Aq(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function Lq(n,e){return an(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?q({...t,guardsResult:!0}):function Bq(n,e,t,r){return R(n).pipe(an(i=>function zq(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?q(o.map(a=>{const c=zg(e)??i,d=Eh(a,c);return wc(function kq(n){return n&&Kg(n.canDeactivate)}(d)?d.canDeactivate(n,e,t,r):c.runInContext(()=>d(n,e,t,r))).pipe(Ec())})).pipe(wh()):q(!0)}(i.component,i.route,t,e,r)),Ec(i=>!0!==i,!0))}(s,r,i,n).pipe(an(a=>a&&function Nq(n){return"boolean"==typeof n}(a)?function Uq(n,e,t,r){return R(e).pipe(xg(i=>Ng(function $q(n,e){return null!==n&&e&&e(new cq(n)),q(!0)}(i.route.parent,r),function jq(n,e){return null!==n&&e&&e(new uq(n)),q(!0)}(i.route,r),function Gq(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function Sq(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>Kx(()=>q(s.guards.map(c=>{const d=zg(s.node)??t,f=Eh(c,d);return wc(function xq(n){return n&&Kg(n.canActivateChild)}(f)?f.canActivateChild(r,n):d.runInContext(()=>f(r,n))).pipe(Ec())})).pipe(wh())));return q(o).pipe(wh())}(n,i.path,t),function Hq(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return q(!0);const i=r.map(o=>Kx(()=>{const s=zg(e)??t,a=Eh(o,s);return wc(function Oq(n){return n&&Kg(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(Ec())}));return q(i).pipe(wh())}(n,i.route,t))),Ec(i=>!0!==i,!0))}(r,o,n,e):q(a)),ye(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Br(c=>{if(o.guardsResult=c.guardsResult,Jl(c.guardsResult))throw D2(0,c.guardsResult);const d=new rq(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),br(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),uT(c=>{if(c.guards.canActivateChecks.length)return q(c).pipe(Br(d=>{const f=new iq(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),Ve(d=>{let f=!1;return q(d).pipe(lK(t.paramsInheritanceStrategy,this.environmentInjector),Br({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",2)}}))}),Br(d=>{const f=new oq(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),uT(c=>{const d=f=>{const m=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(f.routeConfig).pipe(Br(y=>{f.component=y}),ye(()=>{})));for(const y of f.children)m.push(...d(y));return m};return Hw(d(c.targetSnapshot.root)).pipe(Jv(),ci(1))}),uT(()=>this.afterPreactivation()),ye(c=>{const d=function mq(n,e,t){const r=Gg(n,e._root,t?t._root:void 0);return new b2(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:d},o}),Br(()=>{this.events.next(new Zw)}),((n,e,t,r)=>ye(i=>(new Dq(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),ci(1),Br({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Tc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),hr(this.transitionAbortSubject.pipe(Br(c=>{throw c}))),Ww(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Ql(c=>{if(a=!0,S2(c))this.events.next(new $g(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function vq(n){return S2(n)&&Jl(n.url)}(c)?this.events.next(new Xw(c.url)):o.resolve(!1);else{this.events.next(new a0(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(d){o.reject(d)}}return en}))}))}cancelNavigationTransition(t,r,i){const o=new $g(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function j2(n){return n!==jg}let $2=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Tt);return r}getResolvedTitleForRoute(t){return t.data[kg]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Pe({token:n,factory:function(){return Me(mK)},providedIn:"root"})}}return n})(),mK=(()=>{class n extends $2{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(ve(jx))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_K=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Pe({token:n,factory:function(){return Me(vK)},providedIn:"root"})}}return n})();class yK{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let vK=(()=>{class n extends yK{static{this.\u0275fac=function(){let t;return function(i){return(t||(t=function $n(n){return Ss(()=>{const e=n.prototype.constructor,t=e[Ti]||Mp(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[Ti]||Mp(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}(n)))(i||n)}}()}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const g0=new xe("",{providedIn:"root",factory:()=>({})});let bK=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Pe({token:n,factory:function(){return Me(IK)},providedIn:"root"})}}return n})(),IK=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Qg=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Qg||{});function H2(n,e){n.events.pipe(br(t=>t instanceof Tc||t instanceof $g||t instanceof a0||t instanceof vh),ye(t=>t instanceof Tc||t instanceof vh?Qg.COMPLETE:t instanceof $g&&(0===t.code||1===t.code)?Qg.REDIRECTING:Qg.FAILED),br(t=>t!==Qg.REDIRECTING),ci(1)).subscribe(()=>{e()})}function EK(n){throw n}function wK(n,e,t){return e.parse("/")}const TK={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},CK={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ao=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Me(yO),this.isNgZoneEnabled=!1,this._events=new G,this.options=Me(g0,{optional:!0})||{},this.pendingTasks=Me(vO),this.errorHandler=this.options.errorHandler||EK,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||wK,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Me(bK),this.routeReuseStrategy=Me(_K),this.titleStrategy=Me($2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Me(Ch,{optional:!0})?.flat()??[],this.navigationTransitions=Me(p0),this.urlSerializer=Me(Vg),this.location=Me(mw),this.componentInputBindingEnabled=!!Me(l0,{optional:!0}),this.eventsSubscription=new St,this.isNgZoneEnabled=Me(Nt)instanceof Nt&&Nt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new yh,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=I2(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(G2(r)&&this._events.next(r));if(r instanceof s0)j2(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof vh)this.rawUrlTree=i.rawUrl;else if(r instanceof _2){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof Zw)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof $g)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof Xw){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||j2(i.source)};this.scheduleNavigation(o,jg,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof a0&&this.restoreHistory(i,!0),r instanceof Tc&&(this.navigated=!0),G2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),jg,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(aT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,d=c?this.currentUrlTree.fragment:s;let m,f=null;switch(a){case"merge":f={...this.currentUrlTree.queryParams,...o};break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}null!==f&&(f=this.removeEmptyProps(f));try{m=u2(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),m=this.currentUrlTree.root}return d2(m,t,f,d??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Jl(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,jg,null,r)}navigate(t,r={skipLocationChange:!1}){return function DK(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new be(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...TK}:!1===r?{...CK}:r,Jl(t))return t2(this.currentUrlTree,t,i);const o=this.parseUrl(t);return t2(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,d;s?(a=s.resolve,c=s.reject,d=s.promise):d=new Promise((m,y)=>{a=m,c=y});const f=this.pendingTasks.add();return H2(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function G2(n){return!(n instanceof Zw||n instanceof Xw)}let Cc=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new G,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(d=>{d instanceof Tc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function RR(n,e,t){return function pB(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?SR:OI}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(H(Ao),H(Ih),function ma(n){return function nI(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(Xu(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(Fr(),n)}("tabindex"),H(To),H(un),H(Kl))}}static{this.\u0275dir=Se({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&At("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&hn("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",ph],skipLocationChange:["skipLocationChange","skipLocationChange",ph],replaceUrl:["replaceUrl","replaceUrl",ph],routerLink:"routerLink"},standalone:!0,features:[HM,kr]})}}return n})();class z2{}let RK=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(br(t=>t instanceof Tc),xg(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=FE(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return R(i).pipe(Xt())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):q(null);const o=i.pipe(an(s=>null===s?q(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?R([o,this.loader.loadComponent(r)]).pipe(Xt()):o})}static{this.\u0275fac=function(r){return new(r||n)(ve(Ao),ve(bO),ve(so),ve(z2),ve(dT))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const hT=new xe("");let W2=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof s0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Tc?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof vh&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof y2&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new y2(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){!function mM(){throw new Error("invalid")}()}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac})}}return n})();function Pa(n,e){return{\u0275kind:n,\u0275providers:e}}function K2(){const n=Me(ai);return e=>{const t=n.get(yc);if(e!==t.components[0])return;const r=n.get(Ao),i=n.get(Q2);1===n.get(fT)&&r.initialNavigation(),n.get(Y2,null,Dt.Optional)?.setUpPreloading(),n.get(hT,null,Dt.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const Q2=new xe("",{factory:()=>new G}),fT=new xe("",{providedIn:"root",factory:()=>1}),Y2=new xe("");function OK(n){return Pa(0,[{provide:Y2,useExisting:RK},{provide:z2,useExisting:n}])}const J2=new xe("ROUTER_FORROOT_GUARD"),kK=[mw,{provide:Vg,useClass:qw},Ao,Hg,{provide:Ih,useFactory:function q2(n){return n.routerState.root},deps:[Ao]},dT,[]];function FK(){return new AO("Router",Ao)}let Z2=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[kK,[],{provide:Ch,multi:!0,useValue:t},{provide:J2,useFactory:UK,deps:[[Ao,new Fl,new Fd]]},{provide:g0,useValue:r||{}},r?.useHash?{provide:Kl,useClass:QH}:{provide:Kl,useClass:ox},{provide:hT,useFactory:()=>{const n=Me(pz),e=Me(Nt),t=Me(g0),r=Me(p0),i=Me(Vg);return t.scrollOffset&&n.setOffset(t.scrollOffset),new W2(i,r,n,e,t)}},r?.preloadingStrategy?OK(r.preloadingStrategy).\u0275providers:[],{provide:AO,multi:!0,useFactory:FK},r?.initialNavigation?jK(r):[],r?.bindToComponentInputs?Pa(8,[C2,{provide:l0,useExisting:C2}]).\u0275providers:[],[{provide:X2,useFactory:K2},{provide:ow,multi:!0,useExisting:X2}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Ch,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(ve(J2,8))}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})();function UK(n){return"guarded"}function jK(n){return["disabled"===n.initialNavigation?Pa(3,[{provide:JE,multi:!0,useFactory:()=>{const e=Me(Ao);return()=>{e.setUpLocationChangeListener()}}},{provide:fT,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Pa(2,[{provide:fT,useValue:0},{provide:JE,multi:!0,deps:[ai],useFactory:e=>{const t=e.get(qH,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Ao),o=e.get(Q2);H2(i,()=>{r(!0)}),e.get(p0).afterPreactivation=()=>(r(!0),o.closed?q(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const X2=new xe("");var Dh=ct(852);(0,Dh.registerVersion)("firebase","10.14.1","app");class zK extends St{constructor(e,t){super()}schedule(e,t=0){return this}}const m0={setInterval(n,e,...t){const{delegate:r}=m0;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=m0;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class ek extends zK{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return m0.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&m0.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,se(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const pT={now:()=>(pT.delegate||Date).now(),delegate:void 0};class Yg{constructor(e,t=Yg.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Yg.now=pT.now;class tk extends Yg{constructor(e,t=Yg.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const KK=new class qK extends tk{}(class WK extends ek{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),_0=new tk(ek),QK=_0,nk=new Qd("ANGULARFIRE2_VERSION");class rk{constructor(){return((n,e)=>{const t=(0,Dh.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r})(JK)}}const JK="app-check";function Ah(){}class ik{zone;delegate;constructor(e,t=KK){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},t,r)}}class ZK{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ah,{},Ah,Ah)),t.pipe(Br({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ok=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new ik(Zone.current)),this.insideAngular=t.run(()=>new ik(Zone.current,_0)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(ve(Nt))};static \u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function So(n){return function eQ(n){return function(t){return(t=t.lift(new ZK(n.ngZone))).pipe(Ei(n.outsideAngular),Vi(n.insideAngular))}}(function Sh(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}())(n)}var Xl=ct(345);Xl.A.registerVersion("firebase","10.14.1","app-compat");const iQ=["ngOnDestroy"];class sk{constructor(e){return e}}const y0=new xe("angularfire2.app.options"),v0=new xe("angularfire2.app.name");function gT(n,e,t){const i="object"==typeof t&&t||{};i.name=i.name||"string"==typeof t&&t||"[DEFAULT]";const s=Xl.A.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Xl.A.initializeApp(n,i));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){const a=!!module.hot;aQ("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new sk(s)}const aQ=(n,...e)=>{},cQ={provide:sk,useFactory:gT,deps:[y0,Nt,[new Fl,v0]]};let lQ=(()=>{class n{static initializeApp(t,r){return{ngModule:n,providers:[{provide:y0,useValue:t},{provide:v0,useValue:r}]}}constructor(t){Xl.A.registerVersion("angularfire",nk.full,"core"),Xl.A.registerVersion("angularfire",nk.full,"app-compat"),Xl.A.registerVersion("angular",zR.full,t.toString())}static \u0275fac=function(r){return new(r||n)(ve(Ta))};static \u0275mod=ln({type:n});static \u0275inj=Wt({providers:[cQ]})}return n})();function ak(n,e,t,r,i){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return function uQ(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(i,s)||(ck("error",`${e} was already initialized on the ${t} Firebase App with different settings.${dQ?" You may need to reload as Firebase is not HMR aware.":""}`),ck("warn",{is:i,was:s})),o;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([n,a,i]),a}}const dQ=typeof module<"u"&&!!module.hot,ck=(n,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[],ct(955);class hQ extends G{constructor(e=1/0,t=1/0,r=pT){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=t.now();let a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}}function lk(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,Z({connector:()=>new hQ(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function uk(n,e){return C(e)?Ve(()=>n,e):Ve(()=>n)}const dk=new xe("angularfire2.auth.use-emulator"),hk=new xe("angularfire2.auth.settings"),fk=new xe("angularfire2.auth.tenant-id"),pk=new xe("angularfire2.auth.langugage-code"),gk=new xe("angularfire2.auth.use-device-language"),mk=new xe("angularfire.auth.persistence"),_k=(n,e,t,r,i,o,s,a)=>ak(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const c=e.runOutsideAngular(()=>n.auth());if(t&&c.useEmulator(...t),r&&(c.tenantId=r),c.languageCode=i,o&&c.useDeviceLanguage(),s)for(const[d,f]of Object.entries(s))c.settings[d]=f;return a&&c.setPersistence(a),c},[t,r,i,o,s,a]);let mT=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,i,o,s,a,c,d,f,m,y,b){const w=new G,D=q(void 0).pipe(Vi(s.outsideAngular),Ve(()=>o.runOutsideAngular(()=>Promise.resolve().then(ct.bind(ct,955)))),ye(()=>gT(t,o,r)),ye(S=>_k(S,o,a,d,f,m,c,y)),lk({bufferSize:1,refCount:!1}));if(Wv(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=q(null);else{D.pipe(Ec()).subscribe();const S=D.pipe(Ve(J=>J.getRedirectResult().then(re=>re,()=>null)),So,lk({bufferSize:1,refCount:!1})),j=D.pipe(Ve(J=>new lt(re=>({unsubscribe:o.runOutsideAngular(()=>J.onAuthStateChanged(pe=>re.next(pe),pe=>re.error(pe),()=>re.complete()))})))),O=D.pipe(Ve(J=>new lt(re=>({unsubscribe:o.runOutsideAngular(()=>J.onIdTokenChanged(pe=>re.next(pe),pe=>re.error(pe),()=>re.complete()))}))));this.authState=S.pipe(uk(j),Ei(s.outsideAngular),Vi(s.insideAngular)),this.user=S.pipe(uk(O),Ei(s.outsideAngular),Vi(s.insideAngular)),this.idToken=this.user.pipe(Ve(J=>J?R(J.getIdToken()):q(null))),this.idTokenResult=this.user.pipe(Ve(J=>J?R(J.getIdTokenResult()):q(null))),this.credential=M(S,w,this.authState.pipe(br(J=>!J))).pipe(ye(J=>J?.user?J:null),Ei(s.outsideAngular),Vi(s.insideAngular))}return((n,e,t,r={})=>new Proxy(n,{get:(i,o)=>t.runOutsideAngular(()=>{if(n[o])return r?.spy?.get&&r.spy.get(o,n[o]),n[o];if(iQ.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(a=>{const c=a?.[o];return"function"==typeof c?c.bind(a):c?.then?c.then(d=>t.run(()=>d)):t.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,d)=>s.then(f=>{const m=f?.(...d);return r?.spy?.apply&&r.spy.apply(o,d,m),m})})})}))(this,D,o,{spy:{apply:(S,j,O)=>{(S.startsWith("signIn")||S.startsWith("createUser"))&&O.then(J=>w.next(J))}}})}static \u0275fac=function(r){return new(r||n)(ve(y0),ve(v0,8),ve(Ta),ve(Nt),ve(ok),ve(dk,8),ve(hk,8),ve(fk,8),ve(pk,8),ve(gk,8),ve(mk,8),ve(rk,8))};static \u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();function _T(){return z((n,e)=>{let t,r=!1;n.subscribe(te(e,i=>{const o=t;t=i,r&&e.next([o,i]),r=!0}))})}var eu,Ik,ue=ct(467),yk=ct(362),Hs=ct(41),on=ct(76),vk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bk={};(function(){var n;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(k,A,P){P||(P=0);var L=Array(16);if("string"==typeof A)for(var $=0;16>$;++$)L[$]=A.charCodeAt(P++)|A.charCodeAt(P++)<<8|A.charCodeAt(P++)<<16|A.charCodeAt(P++)<<24;else for($=0;16>$;++$)L[$]=A[P++]|A[P++]<<8|A[P++]<<16|A[P++]<<24;var Y=k.g[3],x=(A=k.g[0])+(Y^(P=k.g[1])&(($=k.g[2])^Y))+L[0]+3614090360&4294967295;x=(P=($=(Y=(A=(P=($=(Y=(A=(P=($=(Y=(A=(P=($=(Y=(A=(P=($=(Y=(A=(P=($=(Y=(A=(P=($=(Y=(A=(P=($=(Y=(A=(P=($=(Y=(A=(P=($=(Y=(A=(P=($=(Y=(A=(P=($=(Y=(A=(P=($=(Y=(A=(P=($=(Y=(A=(P=($=(Y=(A=P+(x<<7&4294967295|x>>>25))+((x=Y+($^A&(P^$))+L[1]+3905402710&4294967295)<<12&4294967295|x>>>20))+((x=$+(P^Y&(A^P))+L[2]+606105819&4294967295)<<17&4294967295|x>>>15))+((x=P+(A^$&(Y^A))+L[3]+3250441966&4294967295)<<22&4294967295|x>>>10))+((x=A+(Y^P&($^Y))+L[4]+4118548399&4294967295)<<7&4294967295|x>>>25))+((x=Y+($^A&(P^$))+L[5]+1200080426&4294967295)<<12&4294967295|x>>>20))+((x=$+(P^Y&(A^P))+L[6]+2821735955&4294967295)<<17&4294967295|x>>>15))+((x=P+(A^$&(Y^A))+L[7]+4249261313&4294967295)<<22&4294967295|x>>>10))+((x=A+(Y^P&($^Y))+L[8]+1770035416&4294967295)<<7&4294967295|x>>>25))+((x=Y+($^A&(P^$))+L[9]+2336552879&4294967295)<<12&4294967295|x>>>20))+((x=$+(P^Y&(A^P))+L[10]+4294925233&4294967295)<<17&4294967295|x>>>15))+((x=P+(A^$&(Y^A))+L[11]+2304563134&4294967295)<<22&4294967295|x>>>10))+((x=A+(Y^P&($^Y))+L[12]+1804603682&4294967295)<<7&4294967295|x>>>25))+((x=Y+($^A&(P^$))+L[13]+4254626195&4294967295)<<12&4294967295|x>>>20))+((x=$+(P^Y&(A^P))+L[14]+2792965006&4294967295)<<17&4294967295|x>>>15))+((x=P+(A^$&(Y^A))+L[15]+1236535329&4294967295)<<22&4294967295|x>>>10))+((x=A+($^Y&(P^$))+L[1]+4129170786&4294967295)<<5&4294967295|x>>>27))+((x=Y+(P^$&(A^P))+L[6]+3225465664&4294967295)<<9&4294967295|x>>>23))+((x=$+(A^P&(Y^A))+L[11]+643717713&4294967295)<<14&4294967295|x>>>18))+((x=P+(Y^A&($^Y))+L[0]+3921069994&4294967295)<<20&4294967295|x>>>12))+((x=A+($^Y&(P^$))+L[5]+3593408605&4294967295)<<5&4294967295|x>>>27))+((x=Y+(P^$&(A^P))+L[10]+38016083&4294967295)<<9&4294967295|x>>>23))+((x=$+(A^P&(Y^A))+L[15]+3634488961&4294967295)<<14&4294967295|x>>>18))+((x=P+(Y^A&($^Y))+L[4]+3889429448&4294967295)<<20&4294967295|x>>>12))+((x=A+($^Y&(P^$))+L[9]+568446438&4294967295)<<5&4294967295|x>>>27))+((x=Y+(P^$&(A^P))+L[14]+3275163606&4294967295)<<9&4294967295|x>>>23))+((x=$+(A^P&(Y^A))+L[3]+4107603335&4294967295)<<14&4294967295|x>>>18))+((x=P+(Y^A&($^Y))+L[8]+1163531501&4294967295)<<20&4294967295|x>>>12))+((x=A+($^Y&(P^$))+L[13]+2850285829&4294967295)<<5&4294967295|x>>>27))+((x=Y+(P^$&(A^P))+L[2]+4243563512&4294967295)<<9&4294967295|x>>>23))+((x=$+(A^P&(Y^A))+L[7]+1735328473&4294967295)<<14&4294967295|x>>>18))+((x=P+(Y^A&($^Y))+L[12]+2368359562&4294967295)<<20&4294967295|x>>>12))+((x=A+(P^$^Y)+L[5]+4294588738&4294967295)<<4&4294967295|x>>>28))+((x=Y+(A^P^$)+L[8]+2272392833&4294967295)<<11&4294967295|x>>>21))+((x=$+(Y^A^P)+L[11]+1839030562&4294967295)<<16&4294967295|x>>>16))+((x=P+($^Y^A)+L[14]+4259657740&4294967295)<<23&4294967295|x>>>9))+((x=A+(P^$^Y)+L[1]+2763975236&4294967295)<<4&4294967295|x>>>28))+((x=Y+(A^P^$)+L[4]+1272893353&4294967295)<<11&4294967295|x>>>21))+((x=$+(Y^A^P)+L[7]+4139469664&4294967295)<<16&4294967295|x>>>16))+((x=P+($^Y^A)+L[10]+3200236656&4294967295)<<23&4294967295|x>>>9))+((x=A+(P^$^Y)+L[13]+681279174&4294967295)<<4&4294967295|x>>>28))+((x=Y+(A^P^$)+L[0]+3936430074&4294967295)<<11&4294967295|x>>>21))+((x=$+(Y^A^P)+L[3]+3572445317&4294967295)<<16&4294967295|x>>>16))+((x=P+($^Y^A)+L[6]+76029189&4294967295)<<23&4294967295|x>>>9))+((x=A+(P^$^Y)+L[9]+3654602809&4294967295)<<4&4294967295|x>>>28))+((x=Y+(A^P^$)+L[12]+3873151461&4294967295)<<11&4294967295|x>>>21))+((x=$+(Y^A^P)+L[15]+530742520&4294967295)<<16&4294967295|x>>>16))+((x=P+($^Y^A)+L[2]+3299628645&4294967295)<<23&4294967295|x>>>9))+((x=A+($^(P|~Y))+L[0]+4096336452&4294967295)<<6&4294967295|x>>>26))+((x=Y+(P^(A|~$))+L[7]+1126891415&4294967295)<<10&4294967295|x>>>22))+((x=$+(A^(Y|~P))+L[14]+2878612391&4294967295)<<15&4294967295|x>>>17))+((x=P+(Y^($|~A))+L[5]+4237533241&4294967295)<<21&4294967295|x>>>11))+((x=A+($^(P|~Y))+L[12]+1700485571&4294967295)<<6&4294967295|x>>>26))+((x=Y+(P^(A|~$))+L[3]+2399980690&4294967295)<<10&4294967295|x>>>22))+((x=$+(A^(Y|~P))+L[10]+4293915773&4294967295)<<15&4294967295|x>>>17))+((x=P+(Y^($|~A))+L[1]+2240044497&4294967295)<<21&4294967295|x>>>11))+((x=A+($^(P|~Y))+L[8]+1873313359&4294967295)<<6&4294967295|x>>>26))+((x=Y+(P^(A|~$))+L[15]+4264355552&4294967295)<<10&4294967295|x>>>22))+((x=$+(A^(Y|~P))+L[6]+2734768916&4294967295)<<15&4294967295|x>>>17))+((x=P+(Y^($|~A))+L[13]+1309151649&4294967295)<<21&4294967295|x>>>11))+((Y=(A=P+((x=A+($^(P|~Y))+L[4]+4149444226&4294967295)<<6&4294967295|x>>>26))+((x=Y+(P^(A|~$))+L[11]+3174756917&4294967295)<<10&4294967295|x>>>22))^(($=Y+((x=$+(A^(Y|~P))+L[2]+718787259&4294967295)<<15&4294967295|x>>>17))|~A))+L[9]+3951481745&4294967295,k.g[0]=k.g[0]+A&4294967295,k.g[1]=k.g[1]+($+(x<<21&4294967295|x>>>11))&4294967295,k.g[2]=k.g[2]+$&4294967295,k.g[3]=k.g[3]+Y&4294967295}function s(k,A){this.h=A;for(var P=[],L=!0,$=k.length-1;0<=$;$--){var Y=0|k[$];L&&Y==A||(P[$]=Y,L=!1)}this.g=P}(function e(k,A){function P(){}P.prototype=A.prototype,k.D=A.prototype,k.prototype=new P,k.prototype.constructor=k,k.C=function(L,$,Y){for(var x=Array(arguments.length-2),mi=2;mi<arguments.length;mi++)x[mi-2]=arguments[mi];return A.prototype[$].apply(L,x)}})(r,function t(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(k,A){void 0===A&&(A=k.length);for(var P=A-this.blockSize,L=this.B,$=this.h,Y=0;Y<A;){if(0==$)for(;Y<=P;)i(this,k,Y),Y+=this.blockSize;if("string"==typeof k){for(;Y<A;)if(L[$++]=k.charCodeAt(Y++),$==this.blockSize){i(this,L),$=0;break}}else for(;Y<A;)if(L[$++]=k[Y++],$==this.blockSize){i(this,L),$=0;break}}this.h=$,this.o+=A},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var A=1;A<k.length-8;++A)k[A]=0;var P=8*this.o;for(A=k.length-8;A<k.length;++A)k[A]=255&P,P/=256;for(this.u(k),k=Array(16),A=P=0;4>A;++A)for(var L=0;32>L;L+=8)k[P++]=this.g[A]>>>L&255;return k};var a={};function c(k){return-128<=k&&128>k?function o(k,A){var P=a;return Object.prototype.hasOwnProperty.call(P,k)?P[k]:P[k]=A(k)}(k,function(A){return new s([0|A],0>A?-1:0)}):new s([0|k],0>k?-1:0)}function d(k){if(isNaN(k)||!isFinite(k))return m;if(0>k)return S(d(-k));for(var A=[],P=1,L=0;k>=P;L++)A[L]=k/P|0,P*=4294967296;return new s(A,0)}var m=c(0),y=c(1),b=c(16777216);function w(k){if(0!=k.h)return!1;for(var A=0;A<k.g.length;A++)if(0!=k.g[A])return!1;return!0}function D(k){return-1==k.h}function S(k){for(var A=k.g.length,P=[],L=0;L<A;L++)P[L]=~k.g[L];return new s(P,~k.h).add(y)}function j(k,A){return k.add(S(A))}function O(k,A){for(;(65535&k[A])!=k[A];)k[A+1]+=k[A]>>>16,k[A]&=65535,A++}function J(k,A){this.g=k,this.h=A}function re(k,A){if(w(A))throw Error("division by zero");if(w(k))return new J(m,m);if(D(k))return A=re(S(k),A),new J(S(A.g),S(A.h));if(D(A))return A=re(k,S(A)),new J(S(A.g),A.h);if(30<k.g.length){if(D(k)||D(A))throw Error("slowDivide_ only works with positive integers.");for(var P=y,L=A;0>=L.l(k);)P=pe(P),L=pe(L);var $=Ae(P,1),Y=Ae(L,1);for(L=Ae(L,2),P=Ae(P,2);!w(L);){var x=Y.add(L);0>=x.l(k)&&($=$.add(P),Y=x),L=Ae(L,1),P=Ae(P,1)}return A=j(k,$.j(A)),new J($,A)}for($=m;0<=k.l(A);){for(P=Math.max(1,Math.floor(k.m()/A.m())),L=48>=(L=Math.ceil(Math.log(P)/Math.LN2))?1:Math.pow(2,L-48),x=(Y=d(P)).j(A);D(x)||0<x.l(k);)x=(Y=d(P-=L)).j(A);w(Y)&&(Y=y),$=$.add(Y),k=j(k,x)}return new J($,k)}function pe(k){for(var A=k.g.length+1,P=[],L=0;L<A;L++)P[L]=k.i(L)<<1|k.i(L-1)>>>31;return new s(P,k.h)}function Ae(k,A){var P=A>>5;A%=32;for(var L=k.g.length-P,$=[],Y=0;Y<L;Y++)$[Y]=0<A?k.i(Y+P)>>>A|k.i(Y+P+1)<<32-A:k.i(Y+P);return new s($,k.h)}(n=s.prototype).m=function(){if(D(this))return-S(this).m();for(var k=0,A=1,P=0;P<this.g.length;P++){var L=this.i(P);k+=(0<=L?L:4294967296+L)*A,A*=4294967296}return k},n.toString=function(k){if(2>(k=k||10)||36<k)throw Error("radix out of range: "+k);if(w(this))return"0";if(D(this))return"-"+S(this).toString(k);for(var A=d(Math.pow(k,6)),P=this,L="";;){var $=re(P,A).g,Y=((0<(P=j(P,$.j(A))).g.length?P.g[0]:P.h)>>>0).toString(k);if(w(P=$))return Y+L;for(;6>Y.length;)Y="0"+Y;L=Y+L}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h},n.l=function(k){return D(k=j(this,k))?-1:w(k)?0:1},n.abs=function(){return D(this)?S(this):this},n.add=function(k){for(var A=Math.max(this.g.length,k.g.length),P=[],L=0,$=0;$<=A;$++){var Y=L+(65535&this.i($))+(65535&k.i($)),x=(Y>>>16)+(this.i($)>>>16)+(k.i($)>>>16);L=x>>>16,P[$]=(x&=65535)<<16|(Y&=65535)}return new s(P,-2147483648&P[P.length-1]?-1:0)},n.j=function(k){if(w(this)||w(k))return m;if(D(this))return D(k)?S(this).j(S(k)):S(S(this).j(k));if(D(k))return S(this.j(S(k)));if(0>this.l(b)&&0>k.l(b))return d(this.m()*k.m());for(var A=this.g.length+k.g.length,P=[],L=0;L<2*A;L++)P[L]=0;for(L=0;L<this.g.length;L++)for(var $=0;$<k.g.length;$++){var Y=this.i(L)>>>16,x=65535&this.i(L),mi=k.i($)>>>16,ko=65535&k.i($);P[2*L+2*$]+=x*ko,O(P,2*L+2*$),P[2*L+2*$+1]+=Y*ko,O(P,2*L+2*$+1),P[2*L+2*$+1]+=x*mi,O(P,2*L+2*$+1),P[2*L+2*$+2]+=Y*mi,O(P,2*L+2*$+2)}for(L=0;L<A;L++)P[L]=P[2*L+1]<<16|P[2*L];for(L=A;L<2*A;L++)P[L]=0;return new s(P,0)},n.A=function(k){return re(this,k).h},n.and=function(k){for(var A=Math.max(this.g.length,k.g.length),P=[],L=0;L<A;L++)P[L]=this.i(L)&k.i(L);return new s(P,this.h&k.h)},n.or=function(k){for(var A=Math.max(this.g.length,k.g.length),P=[],L=0;L<A;L++)P[L]=this.i(L)|k.i(L);return new s(P,this.h|k.h)},n.xor=function(k){for(var A=Math.max(this.g.length,k.g.length),P=[],L=0;L<A;L++)P[L]=this.i(L)^k.i(L);return new s(P,this.h^k.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ik=bk.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=function f(k,A){if(0==k.length)throw Error("number format error: empty string");if(2>(A=A||10)||36<A)throw Error("radix out of range: "+A);if("-"==k.charAt(0))return S(f(k.substring(1),A));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=d(Math.pow(A,8)),L=m,$=0;$<k.length;$+=8){var Y=Math.min(8,k.length-$),x=parseInt(k.substring($,$+Y),A);8>Y?(Y=d(Math.pow(A,Y)),L=L.j(Y).add(d(x))):L=(L=L.j(P)).add(d(x))}return L},eu=bk.Integer=s}).apply(typeof vk<"u"?vk:typeof self<"u"?self:typeof window<"u"?window:{});var Ek,Jg,wk,I0,yT,Tk,Ck,Dk,b0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Oa={};(function(){var n,e="function"==typeof Object.defineProperties?Object.defineProperty:function(h,_,I){return h==Array.prototype||h==Object.prototype||(h[_]=I.value),h},r=function t(h){h=["object"==typeof globalThis&&globalThis,h,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof b0&&b0];for(var _=0;_<h.length;++_){var I=h[_];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}(this);!function i(h,_){if(_)e:{var I=r;h=h.split(".");for(var T=0;T<h.length-1;T++){var K=h[T];if(!(K in I))break e;I=I[K]}(_=_(T=I[h=h[h.length-1]]))!=T&&null!=_&&e(I,h,{configurable:!0,writable:!0,value:_})}}("Array.prototype.values",function(h){return h||function(){return function o(h,_){h instanceof String&&(h+="");var I=0,T=!1,K={next:function(){if(!T&&I<h.length){var ae=I++;return{value:_(ae,h[ae]),done:!1}}return T=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}(this,function(_,I){return I})}});var s=s||{},a=this||self;function c(h){var _=typeof h;return"array"==(_="object"!=_?_:h?Array.isArray(h)?"array":_:"null")||"object"==_&&"number"==typeof h.length}function d(h){var _=typeof h;return"object"==_&&null!=h||"function"==_}function f(h,_,I){return h.call.apply(h.bind,arguments)}function m(h,_,I){if(!h)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,T),h.apply(_,K)}}return function(){return h.apply(_,arguments)}}function y(h,_,I){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?f:m).apply(null,arguments)}function b(h,_){var I=Array.prototype.slice.call(arguments,1);return function(){var T=I.slice();return T.push.apply(T,arguments),h.apply(this,T)}}function w(h,_){function I(){}I.prototype=_.prototype,h.aa=_.prototype,h.prototype=new I,h.prototype.constructor=h,h.Qb=function(T,K,ae){for(var Oe=Array(arguments.length-2),Dn=2;Dn<arguments.length;Dn++)Oe[Dn-2]=arguments[Dn];return _.prototype[K].apply(T,Oe)}}function D(h){const _=h.length;if(0<_){const I=Array(_);for(let T=0;T<_;T++)I[T]=h[T];return I}return[]}function S(h,_){for(let I=1;I<arguments.length;I++){const T=arguments[I];if(c(T)){const K=h.length||0,ae=T.length||0;h.length=K+ae;for(let Oe=0;Oe<ae;Oe++)h[K+Oe]=T[Oe]}else h.push(T)}}function O(h){return/^[\s\xa0]*$/.test(h)}function J(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function re(h){return re[" "](h),h}re[" "]=function(){};var pe=!(-1==J().indexOf("Gecko")||-1!=J().toLowerCase().indexOf("webkit")&&-1==J().indexOf("Edge")||-1!=J().indexOf("Trident")||-1!=J().indexOf("MSIE")||-1!=J().indexOf("Edge"));function Ae(h,_,I){for(const T in h)_.call(I,h[T],T,h)}function A(h){const _={};for(const I in h)_[I]=h[I];return _}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(h,_){let I,T;for(let K=1;K<arguments.length;K++){for(I in T=arguments[K],T)h[I]=T[I];for(let ae=0;ae<P.length;ae++)I=P[ae],Object.prototype.hasOwnProperty.call(T,I)&&(h[I]=T[I])}}function $(h){var _=1;h=h.split(":");const I=[];for(;0<_&&h.length;)I.push(h.shift()),_--;return h.length&&I.push(h.join(":")),I}function Y(h){a.setTimeout(()=>{throw h},0)}function x(){var h=Es;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}var ko=new class j{constructor(_,I){this.i=_,this.j=I,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}(()=>new Ji,h=>h.reset());class Ji{constructor(){this.next=this.g=this.h=null}set(_,I){this.h=_,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let _i,Xs=!1,Es=new class mi{constructor(){this.h=this.g=null}add(_,I){const T=ko.get();T.set(_,I),this.h?this.h.next=T:this.g=T,this.h=T}},Ou=()=>{const h=a.Promise.resolve(void 0);_i=()=>{h.then(n_)}};var n_=()=>{for(var h;h=x();){try{h.h.call(h.g)}catch(I){Y(I)}var _=ko;_.j(h),100>_.h&&(_.h++,h.next=_.g,_.g=h)}Xs=!1};function mo(){this.s=this.s,this.C=this.C}function wr(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}mo.prototype.s=!1,mo.prototype.ma=function(){this.s||(this.s=!0,this.N())},mo.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},wr.prototype.h=function(){this.defaultPrevented=!0};var Jc=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const I=()=>{};a.addEventListener("test",I,_),a.removeEventListener("test",I,_)}catch{}return h}();function _o(h,_){if(wr.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var I=this.type=h.type,T=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget){if(pe){e:{try{re(_.nodeName);var K=!0;break e}catch{}K=!1}K||(_=null)}}else"mouseover"==I?_=h.fromElement:"mouseout"==I&&(_=h.toElement);this.relatedTarget=_,T?(this.clientX=void 0!==T.clientX?T.clientX:T.pageX,this.clientY=void 0!==T.clientY?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=void 0!==h.clientX?h.clientX:h.pageX,this.clientY=void 0!==h.clientY?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType="string"==typeof h.pointerType?h.pointerType:xu[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&_o.aa.h.call(this)}}w(_o,wr);var xu={2:"touch",3:"pen",4:"mouse"};_o.prototype.h=function(){_o.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ea="closure_listenable_"+(1e6*Math.random()|0),Ga=0;function r_(h,_,I,T,K){this.listener=h,this.proxy=null,this.src=_,this.type=I,this.capture=!!T,this.ha=K,this.key=++Ga,this.da=this.fa=!1}function Cf(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Zc(h){this.src=h,this.g={},this.h=0}function i_(h,_){var I=_.type;if(I in h.g){var ae,T=h.g[I],K=Array.prototype.indexOf.call(T,_,void 0);(ae=0<=K)&&Array.prototype.splice.call(T,K,1),ae&&(Cf(_),0==h.g[I].length&&(delete h.g[I],h.h--))}}function Df(h,_,I,T){for(var K=0;K<h.length;++K){var ae=h[K];if(!ae.da&&ae.listener==_&&ae.capture==!!I&&ae.ha==T)return K}return-1}Zc.prototype.add=function(h,_,I,T,K){var ae=h.toString();(h=this.g[ae])||(h=this.g[ae]=[],this.h++);var Oe=Df(h,_,T,K);return-1<Oe?(_=h[Oe],I||(_.fa=!1)):((_=new r_(_,this.src,ae,!!T,K)).fa=I,h.push(_)),_};var o_="closure_lm_"+(1e6*Math.random()|0),s_={};function a_(h,_,I,T,K){if(T&&T.once)return J1(h,_,I,T,K);if(Array.isArray(_)){for(var ae=0;ae<_.length;ae++)a_(h,_[ae],I,T,K);return null}return I=Sf(I),h&&h[ea]?h.K(_,I,d(T)?!!T.capture:!!T,K):c_(h,_,I,!1,T,K)}function c_(h,_,I,T,K,ae){if(!_)throw Error("Invalid event type");var Oe=d(K)?!!K.capture:!!K,Dn=ku(h);if(Dn||(h[o_]=Dn=new Zc(h)),(I=Dn.add(_,I,T,Oe,ae)).proxy)return I;if(T=function zA(){const _=Z1;return function h(I){return _.call(h.src,h.listener,I)}}(),I.proxy=T,T.src=h,T.listener=I,h.addEventListener)Jc||(K=Oe),void 0===K&&(K=!1),h.addEventListener(_.toString(),T,K);else if(h.attachEvent)h.attachEvent(l_(_.toString()),T);else{if(!h.addListener||!h.removeListener)throw Error("addEventListener and attachEvent are unavailable.");h.addListener(T)}return I}function J1(h,_,I,T,K){if(Array.isArray(_)){for(var ae=0;ae<_.length;ae++)J1(h,_[ae],I,T,K);return null}return I=Sf(I),h&&h[ea]?h.L(_,I,d(T)?!!T.capture:!!T,K):c_(h,_,I,!0,T,K)}function ta(h,_,I,T,K){if(Array.isArray(_))for(var ae=0;ae<_.length;ae++)ta(h,_[ae],I,T,K);else T=d(T)?!!T.capture:!!T,I=Sf(I),h&&h[ea]?(h=h.i,(_=String(_).toString())in h.g&&-1<(I=Df(ae=h.g[_],I,T,K))&&(Cf(ae[I]),Array.prototype.splice.call(ae,I,1),0==ae.length&&(delete h.g[_],h.h--))):h&&(h=ku(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Df(_,I,T,K)),(I=-1<h?_[h]:null)&&Xc(I))}function Xc(h){if("number"!=typeof h&&h&&!h.da){var _=h.src;if(_&&_[ea])i_(_.i,h);else{var I=h.type,T=h.proxy;_.removeEventListener?_.removeEventListener(I,T,h.capture):_.detachEvent?_.detachEvent(l_(I),T):_.addListener&&_.removeListener&&_.removeListener(T),(I=ku(_))?(i_(I,h),0==I.h&&(I.src=null,_[o_]=null)):Cf(h)}}}function l_(h){return h in s_?s_[h]:s_[h]="on"+h}function Z1(h,_){if(h.da)h=!0;else{_=new _o(_,this);var I=h.listener,T=h.ha||h.src;h.fa&&Xc(h),h=I.call(T,_)}return h}function ku(h){return(h=h[o_])instanceof Zc?h:null}var Af="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sf(h){return"function"==typeof h?h:(h[Af]||(h[Af]=function(_){return h.handleEvent(_)}),h[Af])}function $r(){mo.call(this),this.i=new Zc(this),this.M=this,this.F=null}function ei(h,_){var I,T=h.F;if(T)for(I=[];T;T=T.F)I.push(T);if(h=h.M,T=_.type||_,"string"==typeof _)_=new wr(_,h);else if(_ instanceof wr)_.target=_.target||h;else{var K=_;L(_=new wr(T,h),K)}if(K=!0,I)for(var ae=I.length-1;0<=ae;ae--){var Oe=_.g=I[ae];K=X1(Oe,T,!0,_)&&K}if(K=X1(Oe=_.g=h,T,!0,_)&&K,K=X1(Oe,T,!1,_)&&K,I)for(ae=0;ae<I.length;ae++)K=X1(Oe=_.g=I[ae],T,!1,_)&&K}function X1(h,_,I,T){if(!(_=h.i.g[String(_)]))return!0;_=_.concat();for(var K=!0,ae=0;ae<_.length;++ae){var Oe=_[ae];if(Oe&&!Oe.da&&Oe.capture==I){var Dn=Oe.listener,yi=Oe.ha||Oe.src;Oe.fa&&i_(h.i,Oe),K=!1!==Dn.call(yi,T)&&K}}return K&&!T.defaultPrevented}function d6(h,_,I){if("function"==typeof h)I&&(h=y(h,I));else{if(!h||"function"!=typeof h.handleEvent)throw Error("Invalid listener argument");h=y(h.handleEvent,h)}return 2147483647<Number(_)?-1:a.setTimeout(h,_||0)}function h6(h){h.g=d6(()=>{h.g=null,h.i&&(h.i=!1,h6(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}w($r,mo),$r.prototype[ea]=!0,$r.prototype.removeEventListener=function(h,_,I,T){ta(this,h,_,I,T)},$r.prototype.N=function(){if($r.aa.N.call(this),this.i){var _,h=this.i;for(_ in h.g){for(var I=h.g[_],T=0;T<I.length;T++)Cf(I[T]);delete h.g[_],h.h--}}this.F=null},$r.prototype.K=function(h,_,I,T){return this.i.add(String(h),_,!1,I,T)},$r.prototype.L=function(h,_,I,T){return this.i.add(String(h),_,!0,I,T)};class Hoe extends mo{constructor(_,I){super(),this.m=_,this.l=I,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:h6(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function u_(h){mo.call(this),this.h=h,this.g={}}w(u_,mo);var f6=[];function p6(h){Ae(h.g,function(_,I){this.g.hasOwnProperty(I)&&Xc(_)},h),h.g={}}u_.prototype.N=function(){u_.aa.N.call(this),p6(this)},u_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var WA=a.JSON.stringify,Goe=a.JSON.parse,zoe=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function qA(){}function m6(){}qA.prototype.h=null;var d_={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function KA(){wr.call(this,"d")}function QA(){wr.call(this,"c")}w(KA,wr),w(QA,wr);var Fu={},_6=null;function eb(){return _6=_6||new $r}function y6(h){wr.call(this,Fu.La,h)}function h_(h){const _=eb();ei(_,new y6(_))}function v6(h,_){wr.call(this,Fu.STAT_EVENT,h),this.stat=_}function Zi(h){const _=eb();ei(_,new v6(_,h))}function b6(h,_){wr.call(this,Fu.Ma,h),this.size=_}function f_(h,_){if("function"!=typeof h)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},_)}function p_(){this.g=!0}function Rf(h,_,I,T){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+function Qoe(h,_){if(!h.g)return _;if(!_)return null;try{var I=JSON.parse(_);if(I)for(h=0;h<I.length;h++)if(Array.isArray(I[h])){var T=I[h];if(!(2>T.length)){var K=T[1];if(Array.isArray(K)&&!(1>K.length)){var ae=K[0];if("noop"!=ae&&"stop"!=ae&&"close"!=ae)for(var Oe=1;Oe<K.length;Oe++)K[Oe]=""}}}return WA(I)}catch{return _}}(h,I)+(T?" "+T:"")})}Fu.La="serverreachability",w(y6,wr),Fu.STAT_EVENT="statevent",w(v6,wr),Fu.Ma="timingevent",w(b6,wr),p_.prototype.xa=function(){this.g=!1},p_.prototype.info=function(){};var YA,tb={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},I6={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function nb(){}function el(h,_,I,T){this.j=h,this.i=_,this.l=I,this.R=T||1,this.U=new u_(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new E6}function E6(){this.i=null,this.g="",this.h=!1}w(nb,qA),nb.prototype.g=function(){return new XMLHttpRequest},nb.prototype.i=function(){return{}},YA=new nb;var w6={},JA={};function ZA(h,_,I){h.L=1,h.v=sb(za(_)),h.m=I,h.P=!0,T6(h,null)}function T6(h,_){h.F=Date.now(),rb(h),h.A=za(h.v);var I=h.A,T=h.R;Array.isArray(T)||(T=[String(T)]),L6(I.i,"t",T),h.C=0,I=h.j.J,h.h=new E6,h.g=n8(h.j,I?_:null,!h.m),0<h.O&&(h.M=new Hoe(y(h.Y,h,h.g),h.O)),_=h.U,I=h.g,T=h.ca;var K="readystatechange";Array.isArray(K)||(K&&(f6[0]=K.toString()),K=f6);for(var ae=0;ae<K.length;ae++){var Oe=a_(I,K[ae],T||_.handleEvent,!1,_.h||_);if(!Oe)break;_.g[Oe.key]=Oe}_=h.H?A(h.H):{},h.m?(h.u||(h.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,_)):(h.u="GET",h.g.ea(h.A,h.u,null,_)),h_(),function Woe(h,_,I,T,K,ae){h.info(function(){if(h.g)if(ae)for(var Oe="",Dn=ae.split("&"),yi=0;yi<Dn.length;yi++){var Jt=Dn[yi].split("=");if(1<Jt.length){var Oi=Jt[0];Jt=Jt[1];var xi=Oi.split("_");Oe=2<=xi.length&&"type"==xi[1]?Oe+(Oi+"=")+Jt+"&":Oe+(Oi+"=redacted&")}}else Oe=null;else Oe=ae;return"XMLHTTP REQ ("+T+") [attempt "+K+"]: "+_+"\n"+I+"\n"+Oe})}(h.i,h.u,h.A,h.l,h.R,h.m)}function C6(h){return!!h.g&&"GET"==h.u&&2!=h.L&&h.j.Ca}function Yoe(h,_){var I=h.C,T=_.indexOf("\n",I);return-1==T?JA:(I=Number(_.substring(I,T)),isNaN(I)?w6:(T+=1)+I>_.length?JA:(_=_.slice(T,T+I),h.C=T+I,_))}function rb(h){h.S=Date.now()+h.I,D6(h,h.I)}function D6(h,_){if(null!=h.B)throw Error("WatchDog timer not null");h.B=f_(y(h.ba,h),_)}function XA(h){h.B&&(a.clearTimeout(h.B),h.B=null)}function g_(h){0==h.j.G||h.J||Z6(h.j,h)}function Vu(h){XA(h);var _=h.M;_&&"function"==typeof _.ma&&_.ma(),h.M=null,p6(h.U),h.g&&(_=h.g,h.g=null,_.abort(),_.ma())}function eS(h,_){try{var I=h.j;if(0!=I.G&&(I.g==h||tS(I.h,h)))if(!h.K&&tS(I.h,h)&&3==I.G){try{var T=I.Da.g.parse(_)}catch{T=null}if(Array.isArray(T)&&3==T.length){var K=T;if(0==K[0]){e:if(!I.u){if(I.g){if(!(I.g.F+3e3<h.F))break e;db(I),lb(I)}oS(I),Zi(18)}}else I.za=K[1],0<I.za-I.T&&37500>K[2]&&I.F&&0==I.v&&!I.C&&(I.C=f_(y(I.Za,I),6e3));if(1>=R6(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else Bu(I,11)}else if((h.K||I.g==h)&&db(I),!O(_))for(K=I.Da.g.parse(_),_=0;_<K.length;_++){let Jt=K[_];if(I.T=Jt[0],Jt=Jt[1],2==I.G)if("c"==Jt[0]){I.K=Jt[1],I.ia=Jt[2];const Oi=Jt[3];null!=Oi&&(I.la=Oi,I.j.info("VER="+I.la));const xi=Jt[4];null!=xi&&(I.Aa=xi,I.j.info("SVER="+I.Aa));const Pf=Jt[5];null!=Pf&&"number"==typeof Pf&&0<Pf&&(I.L=T=1.5*Pf,I.j.info("backChannelRequestTimeoutMs_="+T)),T=I;const ws=h.g;if(ws){const fb=ws.g?ws.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fb){var ae=T.h;ae.g||-1==fb.indexOf("spdy")&&-1==fb.indexOf("quic")&&-1==fb.indexOf("h2")||(ae.j=ae.l,ae.g=new Set,ae.h&&(nS(ae,ae.h),ae.h=null))}if(T.D){const aS=ws.g?ws.g.getResponseHeader("X-HTTP-Session-Id"):null;aS&&(T.ya=aS,qn(T.I,T.D,aS))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-h.F,I.j.info("Handshake RTT: "+I.R+"ms"));var Oe=h;if((T=I).qa=t8(T,T.J?T.ia:null,T.W),Oe.K){M6(T.h,Oe);var Dn=Oe,yi=T.L;yi&&(Dn.I=yi),Dn.B&&(XA(Dn),rb(Dn)),T.g=Oe}else Y6(T);0<I.i.length&&ub(I)}else"stop"!=Jt[0]&&"close"!=Jt[0]||Bu(I,7);else 3==I.G&&("stop"==Jt[0]||"close"==Jt[0]?"stop"==Jt[0]?Bu(I,7):iS(I):"noop"!=Jt[0]&&I.l&&I.l.ta(Jt),I.v=0)}h_()}catch{}}function A6(h){this.l=h||10,h=a.PerformanceNavigationTiming?0<(h=a.performance.getEntriesByType("navigation")).length&&("hq"==h[0].nextHopProtocol||"h2"==h[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function S6(h){return!!h.h||!!h.g&&h.g.size>=h.j}function R6(h){return h.h?1:h.g?h.g.size:0}function tS(h,_){return h.h?h.h==_:!!h.g&&h.g.has(_)}function nS(h,_){h.g?h.g.add(_):h.h=_}function M6(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}function N6(h){if(null!=h.h)return h.i.concat(h.h.D);if(null!=h.g&&0!==h.g.size){let _=h.i;for(const I of h.g.values())_=_.concat(I.D);return _}return D(h.i)}function P6(h,_){if(h.forEach&&"function"==typeof h.forEach)h.forEach(_,void 0);else if(c(h)||"string"==typeof h)Array.prototype.forEach.call(h,_,void 0);else for(var I=function Xoe(h){if(h.na&&"function"==typeof h.na)return h.na();if(!h.V||"function"!=typeof h.V){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(c(h)||"string"==typeof h){var _=[];h=h.length;for(var I=0;I<h;I++)_.push(I);return _}_=[],I=0;for(const T in h)_[I++]=T;return _}}}(h),T=function Zoe(h){if(h.V&&"function"==typeof h.V)return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if("string"==typeof h)return h.split("");if(c(h)){for(var _=[],I=h.length,T=0;T<I;T++)_.push(h[T]);return _}for(T in _=[],I=0,h)_[I++]=h[T];return _}(h),K=T.length,ae=0;ae<K;ae++)_.call(void 0,T[ae],I&&I[ae],h)}el.prototype.ca=function(h){h=h.target;const _=this.M;_&&3==Wa(h)?_.j():this.Y(h)},el.prototype.Y=function(h){try{if(h==this.g)e:{const xi=Wa(this.g);var _=this.g.Ba();if(this.g.Z(),!(3>xi)&&(3!=xi||this.g&&(this.h.h||this.g.oa()||z6(this.g)))){this.J||4!=xi||7==_||h_(),XA(this);var I=this.g.Z();this.X=I;t:if(C6(this)){var T=z6(this.g);h="";var K=T.length,ae=4==Wa(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Vu(this),g_(this);var Oe="";break t}this.h.i=new a.TextDecoder}for(_=0;_<K;_++)this.h.h=!0,h+=this.h.i.decode(T[_],{stream:!(ae&&_==K-1)});T.length=0,this.h.g+=h,this.C=0,Oe=this.h.g}else Oe=this.g.oa();if(this.o=200==I,function qoe(h,_,I,T,K,ae,Oe){h.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+K+"]: "+_+"\n"+I+"\n"+ae+" "+Oe})}(this.i,this.u,this.A,this.l,this.R,xi,I),this.o){if(this.T&&!this.K){t:{if(this.g){var Dn,yi=this.g;if((Dn=yi.g?yi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(Dn)){var Jt=Dn;break t}}Jt=null}if(!(I=Jt)){this.o=!1,this.s=3,Zi(12),Vu(this),g_(this);break e}Rf(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eS(this,I)}if(this.P){let ws;for(I=!0;!this.J&&this.C<Oe.length;){if(ws=Yoe(this,Oe),ws==JA){4==xi&&(this.s=4,Zi(14),I=!1),Rf(this.i,this.l,null,"[Incomplete Response]");break}if(ws==w6){this.s=4,Zi(15),Rf(this.i,this.l,Oe,"[Invalid Chunk]"),I=!1;break}Rf(this.i,this.l,ws,null),eS(this,ws)}if(C6(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=xi||0!=Oe.length||this.h.h||(this.s=1,Zi(16),I=!1),this.o=this.o&&I,I){if(0<Oe.length&&!this.W){this.W=!0;var Oi=this.j;Oi.g==this&&Oi.ba&&!Oi.M&&(Oi.j.info("Great, no buffering proxy detected. Bytes received: "+Oe.length),sS(Oi),Oi.M=!0,Zi(11))}}else Rf(this.i,this.l,Oe,"[Invalid Chunked Response]"),Vu(this),g_(this)}else Rf(this.i,this.l,Oe,null),eS(this,Oe);4==xi&&Vu(this),this.o&&!this.J&&(4==xi?Z6(this.j,this):(this.o=!1,rb(this)))}else(function fse(h){const _={};h=(h.g&&2<=Wa(h)&&h.g.getAllResponseHeaders()||"").split("\r\n");for(let T=0;T<h.length;T++){if(O(h[T]))continue;var I=$(h[T]);const K=I[0];if("string"!=typeof(I=I[1]))continue;I=I.trim();const ae=_[K]||[];_[K]=ae,ae.push(I)}!function k(h,_){for(const I in h)_.call(void 0,h[I],I,h)}(_,function(T){return T.join(", ")})})(this.g),400==I&&0<Oe.indexOf("Unknown SID")?(this.s=3,Zi(12)):(this.s=0,Zi(13)),Vu(this),g_(this)}}}catch{}},el.prototype.cancel=function(){this.J=!0,Vu(this)},el.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(function Koe(h,_){h.info(function(){return"TIMEOUT: "+_})}(this.i,this.A),2!=this.L&&(h_(),Zi(17)),Vu(this),this.s=2,g_(this)):D6(this,this.S-h)},A6.prototype.cancel=function(){if(this.i=N6(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const h of this.g.values())h.cancel();this.g.clear()}};var O6=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lu(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Lu){this.h=h.h,ib(this,h.j),this.o=h.o,this.g=h.g,ob(this,h.s),this.l=h.l;var _=h.i,I=new y_;I.i=_.i,_.g&&(I.g=new Map(_.g),I.h=_.h),x6(this,I),this.m=h.m}else h&&(_=String(h).match(O6))?(this.h=!1,ib(this,_[1]||"",!0),this.o=m_(_[2]||""),this.g=m_(_[3]||"",!0),ob(this,_[4]),this.l=m_(_[5]||"",!0),x6(this,_[6]||"",!0),this.m=m_(_[7]||"")):(this.h=!1,this.i=new y_(null,this.h))}function za(h){return new Lu(h)}function ib(h,_,I){h.j=I?m_(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function ob(h,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);h.s=_}else h.s=null}function x6(h,_,I){_ instanceof y_?(h.i=_,function sse(h,_){_&&!h.j&&(tl(h),h.i=null,h.g.forEach(function(I,T){var K=T.toLowerCase();T!=K&&(F6(this,T),L6(this,K,I))},h)),h.j=_}(h.i,h.h)):(I||(_=__(_,ise)),h.i=new y_(_,h.h))}function qn(h,_,I){h.i.set(_,I)}function sb(h){return qn(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function m_(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function __(h,_,I){return"string"==typeof h?(h=encodeURI(h).replace(_,tse),I&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function tse(h){return"%"+((h=h.charCodeAt(0))>>4&15).toString(16)+(15&h).toString(16)}Lu.prototype.toString=function(){var h=[],_=this.j;_&&h.push(__(_,k6,!0),":");var I=this.g;return(I||"file"==_)&&(h.push("//"),(_=this.o)&&h.push(__(_,k6,!0),"@"),h.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(I=this.s)&&h.push(":",String(I))),(I=this.l)&&(this.g&&"/"!=I.charAt(0)&&h.push("/"),h.push(__(I,"/"==I.charAt(0)?rse:nse,!0))),(I=this.i.toString())&&h.push("?",I),(I=this.m)&&h.push("#",__(I,ose)),h.join("")};var h,k6=/[#\/\?@]/g,nse=/[#\?:]/g,rse=/[#\?]/g,ise=/[#\?@]/g,ose=/#/g;function y_(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function tl(h){h.g||(h.g=new Map,h.h=0,h.i&&function ese(h,_){if(h){h=h.split("&");for(var I=0;I<h.length;I++){var T=h[I].indexOf("="),K=null;if(0<=T){var ae=h[I].substring(0,T);K=h[I].substring(T+1)}else ae=h[I];_(ae,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}(h.i,function(_,I){h.add(decodeURIComponent(_.replace(/\+/g," ")),I)}))}function F6(h,_){tl(h),_=Mf(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function V6(h,_){return tl(h),_=Mf(h,_),h.g.has(_)}function L6(h,_,I){F6(h,_),0<I.length&&(h.i=null,h.g.set(Mf(h,_),D(I)),h.h+=I.length)}function Mf(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function nl(h,_,I,T,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),T(I)}catch{}}function lse(){this.g=new zoe}function use(h,_,I){const T=I||"";try{P6(h,function(K,ae){let Oe=K;d(K)&&(Oe=WA(K)),_.push(T+ae+"="+encodeURIComponent(Oe))})}catch(K){throw _.push(T+"type="+encodeURIComponent("_badmap")),K}}function v_(h){this.l=h.Ub||null,this.j=h.eb||!1}function ab(h,_){$r.call(this),this.D=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function B6(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}function b_(h){h.readyState=4,h.l=null,h.j=null,h.v=null,I_(h)}function I_(h){h.onreadystatechange&&h.onreadystatechange.call(h)}function U6(h){let _="";return Ae(h,function(I,T){_+=T,_+=":",_+=I,_+="\r\n"}),_}function rS(h,_,I){e:{for(T in I){var T=!1;break e}T=!0}T||(I=U6(I),"string"==typeof h?null!=I&&encodeURIComponent(String(I)):qn(h,_,I))}function pr(h){$r.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=y_.prototype).add=function(h,_){tl(this),this.i=null,h=Mf(this,h);var I=this.g.get(h);return I||this.g.set(h,I=[]),I.push(_),this.h+=1,this},n.forEach=function(h,_){tl(this),this.g.forEach(function(I,T){I.forEach(function(K){h.call(_,K,T,this)},this)},this)},n.na=function(){tl(this);const h=Array.from(this.g.values()),_=Array.from(this.g.keys()),I=[];for(let T=0;T<_.length;T++){const K=h[T];for(let ae=0;ae<K.length;ae++)I.push(_[T])}return I},n.V=function(h){tl(this);let _=[];if("string"==typeof h)V6(this,h)&&(_=_.concat(this.g.get(Mf(this,h))));else{h=Array.from(this.g.values());for(let I=0;I<h.length;I++)_=_.concat(h[I])}return _},n.set=function(h,_){return tl(this),this.i=null,V6(this,h=Mf(this,h))&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},n.get=function(h,_){return h&&0<(h=this.V(h)).length?String(h[0]):_},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(var I=0;I<_.length;I++){var T=_[I];const ae=encodeURIComponent(String(T)),Oe=this.V(T);for(T=0;T<Oe.length;T++){var K=ae;""!==Oe[T]&&(K+="="+encodeURIComponent(String(Oe[T]))),h.push(K)}}return this.i=h.join("&")},w(v_,qA),v_.prototype.g=function(){return new ab(this.l,this.j)},v_.prototype.i=(h={},function(){return h}),w(ab,$r),(n=ab.prototype).open=function(h,_){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=_,this.readyState=1,I_(this)},n.send=function(h){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(_.body=h),(this.D||a).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,b_(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,I_(this)),this.g&&(this.readyState=3,I_(this),this.g)))if("arraybuffer"===this.responseType)h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;B6(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?b_(this):I_(this),3==this.readyState&&B6(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,b_(this))},n.Qa=function(h){this.g&&(this.response=h,b_(this))},n.ga=function(){this.g&&b_(this)},n.setRequestHeader=function(h,_){this.u.append(h,_)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var I=_.next();!I.done;)h.push((I=I.value)[0]+": "+I[1]),I=_.next();return h.join("\r\n")},Object.defineProperty(ab.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(h){this.m=h?"include":"same-origin"}}),w(pr,$r);var dse=/^https?$/i,hse=["POST","PUT"];function j6(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.m=5,$6(h),cb(h)}function $6(h){h.A||(h.A=!0,ei(h,"complete"),ei(h,"error"))}function H6(h){if(h.h&&typeof s<"u"&&(!h.v[1]||4!=Wa(h)||2!=h.Z()))if(h.u&&4==Wa(h))d6(h.Ea,0,h);else if(ei(h,"readystatechange"),4==Wa(h)){h.h=!1;try{const Oe=h.Z();e:switch(Oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var I;if(!(I=_)){var T;if(T=0===Oe){var K=String(h.D).match(O6)[1]||null;!K&&a.self&&a.self.location&&(K=a.self.location.protocol.slice(0,-1)),T=!dse.test(K?K.toLowerCase():"")}I=T}if(I)ei(h,"complete"),ei(h,"success");else{h.m=6;try{var ae=2<Wa(h)?h.g.statusText:""}catch{ae=""}h.l=ae+" ["+h.Z()+"]",$6(h)}}finally{cb(h)}}}function cb(h,_){if(h.g){G6(h);const I=h.g,T=h.v[0]?()=>{}:null;h.g=null,h.v=null,_||ei(h,"ready");try{I.onreadystatechange=T}catch{}}}function G6(h){h.I&&(a.clearTimeout(h.I),h.I=null)}function Wa(h){return h.g?h.g.readyState:0}function z6(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function E_(h,_,I){return I&&I.internalChannelParams&&I.internalChannelParams[h]||_}function W6(h){this.Aa=0,this.i=[],this.j=new p_,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=E_("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=E_("baseRetryDelayMs",5e3,h),this.cb=E_("retryDelaySeedMs",1e4,h),this.Wa=E_("forwardChannelMaxRetries",2,h),this.wa=E_("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new A6(h&&h.concurrentRequestLimit),this.Da=new lse,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function iS(h){if(q6(h),3==h.G){var _=h.U++,I=za(h.I);if(qn(I,"SID",h.K),qn(I,"RID",_),qn(I,"TYPE","terminate"),w_(h,I),(_=new el(h,h.j,_)).L=2,_.v=sb(za(I)),I=!1,a.navigator&&a.navigator.sendBeacon)try{I=a.navigator.sendBeacon(_.v.toString(),"")}catch{}!I&&a.Image&&((new Image).src=_.v,I=!0),I||(_.g=n8(_.j,null),_.g.ea(_.v)),_.F=Date.now(),rb(_)}e8(h)}function lb(h){h.g&&(sS(h),h.g.cancel(),h.g=null)}function q6(h){lb(h),h.u&&(a.clearTimeout(h.u),h.u=null),db(h),h.h.cancel(),h.s&&("number"==typeof h.s&&a.clearTimeout(h.s),h.s=null)}function ub(h){if(!S6(h.h)&&!h.s){h.s=!0;var _=h.Ga;_i||Ou(),Xs||(_i(),Xs=!0),Es.add(_,h),h.B=0}}function K6(h,_){var I;I=_?_.l:h.U++;const T=za(h.I);qn(T,"SID",h.K),qn(T,"RID",I),qn(T,"AID",h.T),w_(h,T),h.m&&h.o&&rS(T,h.m,h.o),I=new el(h,h.j,I,h.B+1),null===h.m&&(I.H=h.o),_&&(h.i=_.D.concat(h.i)),_=Q6(h,I,1e3),I.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),nS(h.h,I),ZA(I,T,_)}function w_(h,_){h.H&&Ae(h.H,function(I,T){qn(_,T,I)}),h.l&&P6({},function(I,T){qn(_,T,I)})}function Q6(h,_,I){I=Math.min(h.i.length,I);var T=h.l?y(h.l.Na,h.l,h):null;e:{var K=h.i;let ae=-1;for(;;){const Oe=["count="+I];-1==ae?0<I?(ae=K[0].g,Oe.push("ofs="+ae)):ae=0:Oe.push("ofs="+ae);let Dn=!0;for(let yi=0;yi<I;yi++){let Jt=K[yi].g;const Oi=K[yi].map;if(Jt-=ae,0>Jt)ae=Math.max(0,K[yi].g-100),Dn=!1;else try{use(Oi,Oe,"req"+Jt+"_")}catch{T&&T(Oi)}}if(Dn){T=Oe.join("&");break e}}}return h=h.i.splice(0,I),_.D=h,T}function Y6(h){if(!h.g&&!h.u){h.Y=1;var _=h.Fa;_i||Ou(),Xs||(_i(),Xs=!0),Es.add(_,h),h.v=0}}function oS(h){return!(h.g||h.u||3<=h.v||(h.Y++,h.u=f_(y(h.Fa,h),X6(h,h.v)),h.v++,0))}function sS(h){null!=h.A&&(a.clearTimeout(h.A),h.A=null)}function J6(h){h.g=new el(h,h.j,"rpc",h.Y),null===h.m&&(h.g.H=h.o),h.g.O=0;var _=za(h.qa);qn(_,"RID","rpc"),qn(_,"SID",h.K),qn(_,"AID",h.T),qn(_,"CI",h.F?"0":"1"),!h.F&&h.ja&&qn(_,"TO",h.ja),qn(_,"TYPE","xmlhttp"),w_(h,_),h.m&&h.o&&rS(_,h.m,h.o),h.L&&(h.g.I=h.L);var I=h.g;h=h.ia,I.L=1,I.v=sb(za(_)),I.m=null,I.P=!0,T6(I,h)}function db(h){null!=h.C&&(a.clearTimeout(h.C),h.C=null)}function Z6(h,_){var I=null;if(h.g==_){db(h),sS(h),h.g=null;var T=2}else{if(!tS(h.h,_))return;I=_.D,M6(h.h,_),T=1}if(0!=h.G)if(_.o)if(1==T){I=_.m?_.m.length:0,_=Date.now()-_.F;var K=h.B;ei(T=eb(),new b6(T,I)),ub(h)}else Y6(h);else if(3==(K=_.s)||0==K&&0<_.X||!(1==T&&function pse(h,_){return!(R6(h.h)>=h.h.j-(h.s?1:0)||(h.s?(h.i=_.D.concat(h.i),0):1==h.G||2==h.G||h.B>=(h.Va?0:h.Wa)||(h.s=f_(y(h.Ga,h,_),X6(h,h.B)),h.B++,0)))}(h,_)||2==T&&oS(h)))switch(I&&0<I.length&&(_=h.h,_.i=_.i.concat(I)),K){case 1:Bu(h,5);break;case 4:Bu(h,10);break;case 3:Bu(h,6);break;default:Bu(h,2)}}function X6(h,_){let I=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(I*=2),I*_}function Bu(h,_){if(h.j.info("Error code "+_),2==_){var I=y(h.fb,h),T=h.Xa;const K=!T;T=new Lu(T||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||ib(T,"https"),sb(T),K?function ase(h,_){const I=new p_;if(a.Image){const T=new Image;T.onload=b(nl,I,"TestLoadImage: loaded",!0,_,T),T.onerror=b(nl,I,"TestLoadImage: error",!1,_,T),T.onabort=b(nl,I,"TestLoadImage: abort",!1,_,T),T.ontimeout=b(nl,I,"TestLoadImage: timeout",!1,_,T),a.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=h}else _(!1)}(T.toString(),I):function cse(h,_){new p_;const T=new AbortController,K=setTimeout(()=>{T.abort(),nl(0,0,!1,_)},1e4);fetch(h,{signal:T.signal}).then(ae=>{clearTimeout(K),nl(0,0,!!ae.ok,_)}).catch(()=>{clearTimeout(K),nl(0,0,!1,_)})}(T.toString(),I)}else Zi(2);h.G=0,h.l&&h.l.sa(_),e8(h),q6(h)}function e8(h){if(h.G=0,h.ka=[],h.l){const _=N6(h.h);(0!=_.length||0!=h.i.length)&&(S(h.ka,_),S(h.ka,h.i),h.h.i.length=0,D(h.i),h.i.length=0),h.l.ra()}}function t8(h,_,I){var T=I instanceof Lu?za(I):new Lu(I);if(""!=T.g)_&&(T.g=_+"."+T.g),ob(T,T.s);else{var K=a.location;T=K.protocol,_=_?_+"."+K.hostname:K.hostname,K=+K.port;var ae=new Lu(null);T&&ib(ae,T),_&&(ae.g=_),K&&ob(ae,K),I&&(ae.l=I),T=ae}return _=h.ya,(I=h.D)&&_&&qn(T,I,_),qn(T,"VER",h.la),w_(h,T),T}function n8(h,_,I){if(_&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return(_=new pr(h.Ca&&!h.pa?new v_({eb:I}):h.pa)).Ha(h.J),_}function r8(){}function hb(){}function Fo(h,_){$r.call(this),this.g=new W6(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(h?h["X-WebChannel-Client-Profile"]=_.va:h={"X-WebChannel-Client-Profile":_.va}),this.g.S=h,(h=_&&_.Sb)&&!O(h)&&(this.g.m=h),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!O(_)&&(this.g.D=_,null!==(h=this.h)&&_ in h&&_ in(h=this.h)&&delete h[_]),this.j=new Nf(this)}function i8(h){KA.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const I in _){h=I;break e}h=void 0}(this.i=h)&&(h=this.i,_=null!==_&&h in _?_[h]:void 0),this.data=_}else this.data=h}function o8(){QA.call(this),this.status=1}function Nf(h){this.g=h}(n=pr.prototype).Ha=function(h){this.J=h},n.ea=function(h,_,I,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():YA.g(),this.v=function g6(h){return h.h||(h.h=h.i())}(this.o?this.o:YA),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(ae){return void j6(this,ae)}if(h=I||"",I=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var K in T)I.set(K,T[K]);else{if("function"!=typeof T.keys||"function"!=typeof T.get)throw Error("Unknown input type for opt_headers: "+String(T));for(const ae of T.keys())I.set(ae,T.get(ae))}T=Array.from(I.keys()).find(ae=>"content-type"==ae.toLowerCase()),K=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(hse,_,void 0))||T||K||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,Oe]of I)this.g.setRequestHeader(ae,Oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{G6(this),this.u=!0,this.g.send(h),this.u=!1}catch(ae){j6(this,ae)}},n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,ei(this,"complete"),ei(this,"abort"),cb(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cb(this,!0)),pr.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?H6(this):this.bb())},n.bb=function(){H6(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<Wa(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var _=this.g.responseText;return h&&0==_.indexOf(h)&&(_=_.substring(h.length)),Goe(_)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=W6.prototype).la=8,n.G=1,n.connect=function(h,_,I,T){Zi(0),this.W=h,this.H=_||{},I&&void 0!==T&&(this.H.OSID=I,this.H.OAID=T),this.F=this.X,this.I=t8(this,null,this.W),ub(this)},n.Ga=function(h){if(this.s)if(this.s=null,1==this.G){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const K=new el(this,this.j,h);let ae=this.o;if(this.S&&(ae?(ae=A(ae),L(ae,this.S)):ae=this.S),null!==this.m||this.O||(K.H=ae,ae=null),this.P)e:{for(var _=0,I=0;I<this.i.length;I++){var T=this.i[I];if(void 0===(T="__data__"in T.map&&"string"==typeof(T=T.map.__data__)?T.length:void 0))break;if(4096<(_+=T)){_=I;break e}if(4096===_||I===this.i.length-1){_=I+1;break e}}_=1e3}else _=1e3;_=Q6(this,K,_),qn(I=za(this.I),"RID",h),qn(I,"CVER",22),this.D&&qn(I,"X-HTTP-Session-Id",this.D),w_(this,I),ae&&(this.O?_="headers="+encodeURIComponent(String(U6(ae)))+"&"+_:this.m&&rS(I,this.m,ae)),nS(this.h,K),this.Ua&&qn(I,"TYPE","init"),this.P?(qn(I,"$req",_),qn(I,"SID","null"),K.T=!0,ZA(K,I,null)):ZA(K,I,_),this.G=2}}else 3==this.G&&(h?K6(this,h):0==this.i.length||S6(this.h)||K6(this))},n.Fa=function(){if(this.u=null,J6(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=f_(y(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Zi(10),lb(this),J6(this))},n.Za=function(){null!=this.C&&(this.C=null,lb(this),oS(this),Zi(19))},n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Zi(2)):(this.j.info("Failed to ping google.com"),Zi(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=r8.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},hb.prototype.g=function(h,_){return new Fo(h,_)},w(Fo,$r),Fo.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fo.prototype.close=function(){iS(this.g)},Fo.prototype.o=function(h){var _=this.g;if("string"==typeof h){var I={};I.__data__=h,h=I}else this.u&&((I={}).__data__=WA(h),h=I);_.i.push(new class{constructor(h,_){this.g=h,this.map=_}}(_.Ya++,h)),3==_.G&&ub(_)},Fo.prototype.N=function(){this.g.l=null,delete this.j,iS(this.g),delete this.g,Fo.aa.N.call(this)},w(i8,KA),w(o8,QA),w(Nf,r8),Nf.prototype.ua=function(){ei(this.g,"a")},Nf.prototype.ta=function(h){ei(this.g,new i8(h))},Nf.prototype.sa=function(h){ei(this.g,new o8)},Nf.prototype.ra=function(){ei(this.g,"b")},hb.prototype.createWebChannel=hb.prototype.g,Fo.prototype.send=Fo.prototype.o,Fo.prototype.open=Fo.prototype.m,Fo.prototype.close=Fo.prototype.close,Dk=Oa.createWebChannelTransport=function(){return new hb},Ck=Oa.getStatEventTarget=function(){return eb()},Tk=Oa.Event=Fu,yT=Oa.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},tb.NO_ERROR=0,tb.TIMEOUT=8,tb.HTTP_ERROR=6,I0=Oa.ErrorCode=tb,I6.COMPLETE="complete",wk=Oa.EventType=I6,m6.EventType=d_,d_.OPEN="a",d_.CLOSE="b",d_.ERROR="c",d_.MESSAGE="d",$r.prototype.listen=$r.prototype.K,Jg=Oa.WebChannel=m6,Oa.FetchXmlHttpFactory=v_,pr.prototype.listenOnce=pr.prototype.L,pr.prototype.getLastError=pr.prototype.Ka,pr.prototype.getLastErrorCode=pr.prototype.Ba,pr.prototype.getStatus=pr.prototype.Z,pr.prototype.getResponseJson=pr.prototype.Oa,pr.prototype.getResponseText=pr.prototype.oa,pr.prototype.send=pr.prototype.ea,pr.prototype.setWithCredentials=pr.prototype.Ha,Ek=Oa.XhrIo=pr}).apply(typeof b0<"u"?b0:typeof self<"u"?self:typeof window<"u"?window:{});const Ak="@firebase/firestore";class Jr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jr.UNAUTHENTICATED=new Jr(null),Jr.GOOGLE_CREDENTIALS=new Jr("google-credentials-uid"),Jr.FIRST_PARTY=new Jr("first-party-uid"),Jr.MOCK_USER=new Jr("mock-user");let Rh="10.14.0";const Dc=new Hs.Vy("@firebase/firestore");function Mh(){return Dc.logLevel}function Ie(n,...e){if(Dc.logLevel<=Hs.$b.DEBUG){const t=e.map(vT);Dc.debug(`Firestore (${Rh}): ${n}`,...t)}}function Ir(n,...e){if(Dc.logLevel<=Hs.$b.ERROR){const t=e.map(vT);Dc.error(`Firestore (${Rh}): ${n}`,...t)}}function Ro(n,...e){if(Dc.logLevel<=Hs.$b.WARN){const t=e.map(vT);Dc.warn(`Firestore (${Rh}): ${n}`,...t)}}function vT(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ze(n="Unexpected state"){const e=`FIRESTORE (${Rh}) INTERNAL ASSERTION FAILED: `+n;throw Ir(e),new Error(e)}function qe(n,e){n||ze()}function Ne(n,e){return n}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends on.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Sk{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _Q{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Jr.UNAUTHENTICATED))}shutdown(){}}class yQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class vQ{constructor(e){this.t=e,this.currentUser=Jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;qe(void 0===this.o);let i=this.i;const o=d=>this.i!==i?(i=this.i,t(d)):Promise.resolve();let s=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Zr,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const d=s;e.enqueueRetryable((0,ue.A)(function*(){yield d.promise,yield o(r.currentUser)}))},c=d=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Zr)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe("string"==typeof r.accessToken),new Sk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(null===e||"string"==typeof e),new Jr(e)}}class bQ{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Jr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class IQ{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new bQ(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Jr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Rk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EQ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){qe(void 0===this.o);const r=o=>{null!=o.error&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Ie("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(qe("string"==typeof t.token),this.R=t.token,new Rk(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function wQ(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Mk{static newId(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=wQ(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function ft(n,e){return n<e?-1:n>e?1:0}function Nh(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Nk(n){return n+"\0"}class Qn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new _e(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qn.fromMillis(Date.now())}static fromDate(e){return Qn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Qn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ft(this.nanoseconds,e.nanoseconds):ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Qe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Qe(e)}static min(){return new Qe(new Qn(0,0))}static max(){return new Qe(new Qn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Zg{constructor(e,t,r){void 0===t?t=0:t>e.length&&ze(),void 0===r?r=e.length-t:r>e.length-t&&ze(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Zg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ut extends Zg{construct(e,t,r){return new Ut(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ut(t)}static emptyPath(){return new Ut([])}}const TQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gn extends Zg{construct(e,t,r){return new Gn(e,t,r)}static isValidIdentifier(e){return TQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Gn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new _e(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new _e(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new _e(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new _e(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gn(t)}static emptyPath(){return new Gn([])}}class Fe{constructor(e){this.path=e}static fromPath(e){return new Fe(Ut.fromString(e))}static fromName(e){return new Fe(Ut.fromString(e).popFirst(5))}static empty(){return new Fe(Ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ut.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fe(new Ut(e.slice()))}}class Ph{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function bT(n){return n.fields.find(e=>2===e.kind)}function tu(n){return n.fields.filter(e=>2!==e.kind)}Ph.UNKNOWN_ID=-1;class nu{constructor(e,t){this.fieldPath=e,this.kind=t}}class Oh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Oh(0,Mo.min())}}function Pk(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Qe.fromTimestamp(1e9===r?new Qn(t+1,0):new Qn(t,r));return new Mo(i,Fe.empty(),e)}function Ok(n){return new Mo(n.readTime,n.key,-1)}class Mo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Mo(Qe.min(),Fe.empty(),-1)}static max(){return new Mo(Qe.max(),Fe.empty(),-1)}}function IT(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Fe.comparator(n.documentKey,e.documentKey),0!==t?t:ft(n.largestBatchId,e.largestBatchId))}const xk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ac(n){return ET.apply(this,arguments)}function ET(){return(ET=(0,ue.A)(function*(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==xk)throw n;Ie("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ze(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.reject(t)}static resolve(e){return new Q((t,r)=>{t(e)})}static reject(e){return new Q((t,r)=>{r(e)})}static waitFor(e){return new Q((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=Q.resolve(!1);for(const r of e)t=t.next(i=>i?Q.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new Q((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const d=c;t(e[d]).next(f=>{s[d]=f,++a,a===o&&r(s)},f=>i(f))}})}static doWhile(e,t){return new Q((r,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):r()};o()})}}class E0{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Zr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Xg(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=wT(r.target.error);this.V.reject(new Xg(e,i))}}static open(e,t,r,i){try{return new E0(t,e.transaction(i,r))}catch(o){throw new Xg(t,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ie("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new SQ(t)}}class Gs{constructor(e,t,r){this.name=e,this.version=t,this.p=r,12.2===Gs.S((0,on.ZQ)())&&Ir("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ie("SimpleDb","Removing database:",e),ru(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,on.zW)())return!1;if(Gs.v())return!0;const e=(0,on.ZQ)(),t=Gs.S(e),r=0<t&&t<10,i=Fk(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}M(e){var t=this;return(0,ue.A)(function*(){return t.db||(Ie("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=s=>{r(s.target.result)},o.onblocked=()=>{i(new Xg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;i("VersionError"===a.name?new _e(ie.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new _e(ie.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Xg(e,a))},o.onupgradeneeded=s=>{Ie("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',s.oldVersion),t.p.O(s.target.result,o.transaction,s.oldVersion,t.version).next(()=>{Ie("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.N&&(t.db.onversionchange=r=>t.N(r)),t.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var o=this;return(0,ue.A)(function*(){const s="readonly"===t;let a=0;for(;;){++a;try{o.db=yield o.M(e);const c=E0.open(o.db,e,s?"readonly":"readwrite",r),d=i(c).next(f=>(c.g(),f)).catch(f=>(c.abort(f),Q.reject(f))).toPromise();return d.catch(()=>{}),yield c.m,d}catch(c){const d=c,f="FirebaseError"!==d.name&&a<3;if(Ie("SimpleDb","Transaction failed with error:",d.message,"Retrying:",f),o.close(),!f)return Promise.reject(d)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Fk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class AQ{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return ru(this.B.delete())}}class Xg extends _e{constructor(e,t){super(ie.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Sc(n){return"IndexedDbTransactionError"===n.name}class SQ{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ie("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ie("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ru(r)}add(e){return Ie("SimpleDb","ADD",this.store.name,e,e),ru(this.store.add(e))}get(e){return ru(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ie("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ie("SimpleDb","DELETE",this.store.name,e),ru(this.store.delete(e))}count(){return Ie("SimpleDb","COUNT",this.store.name),ru(this.store.count())}U(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if("function"==typeof i.getAll){const o=i.getAll(r.range);return new Q((s,a)=>{o.onerror=c=>{a(c.target.error)},o.onsuccess=c=>{s(c.target.result)}})}{const o=this.cursor(r),s=[];return this.W(o,(a,c)=>{s.push(c)}).next(()=>s)}}G(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Q((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}j(e,t){Ie("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const i=this.cursor(r);return this.W(i,(o,s,a)=>a.delete())}J(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Y(e){const t=this.cursor({});return new Q((r,i)=>{t.onerror=o=>{const s=wT(o.target.error);i(s)},t.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}W(e,t){const r=[];return new Q((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const c=new AQ(a),d=t(a.primaryKey,a.value,c);if(d instanceof Q){const f=d.catch(m=>(c.done(),Q.reject(m)));r.push(f)}c.isDone?i():null===c.K?a.continue():a.continue(c.K)}}).next(()=>Q.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ru(n){return new Q((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=wT(r.target.error);t(i)}})}let Vk=!1;function wT(n){const e=Gs.S((0,on.ZQ)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new _e("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Vk||(Vk=!0,setTimeout(()=>{throw r},0)),r}}return n}class RQ{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var t=this;Ie("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ue.A)(function*(){t.task=null;try{Ie("IndexBackfiller",`Documents written: ${yield t.Z.ee()}`)}catch(r){Sc(r)?Ie("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):yield Ac(r)}yield t.X(6e4)}))}}class MQ{constructor(e,t){this.localStore=e,this.persistence=t}ee(e=50){var t=this;return(0,ue.A)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.te(r,e))})()}te(e,t){const r=new Set;let i=t,o=!0;return Q.doWhile(()=>!0===o&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!r.has(s))return Ie("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>t-i)}ne(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.re(i,o)).next(a=>(Ie("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}re(e,t){let r=e;return t.changes.forEach((i,o)=>{const s=Ok(o);IT(s,r)>0&&(r=s)}),new Mo(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let No=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function em(n){return null==n}function tm(n){return 0===n&&1/n==-1/0}function Lk(n){return"number"==typeof n&&Number.isInteger(n)&&!tm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Ri(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Bk(e)),e=NQ(n.get(t),e);return Bk(e)}function NQ(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function Bk(n){return n+"\x01\x01"}function zs(n){const e=n.length;if(qe(e>=2),2===e)return qe("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Ut.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const s=n.indexOf("\x01",o);switch((s<0||s>t)&&ze(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let c;0===i.length?c=a:(i+=a,c=i,i=""),r.push(c);break;case"\x10":i+=n.substring(o,s),i+="\0";break;case"\x11":i+=n.substring(o,s+1);break;default:ze()}o=s+2}return new Ut(r)}const Uk=["userId","batchId"];function w0(n,e){return[n,Ri(e)]}function jk(n,e,t){return[n,Ri(e),t]}const PQ={},OQ=["prefixPath","collectionGroup","readTime","documentId"],xQ=["prefixPath","collectionGroup","documentId"],kQ=["collectionGroup","readTime","prefixPath","documentId"],FQ=["canonicalId","targetId"],VQ=["targetId","path"],LQ=["path","targetId"],BQ=["collectionId","parent"],UQ=["indexId","uid"],jQ=["uid","sequenceNumber"],$Q=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],HQ=["indexId","uid","orderedDocumentKey"],GQ=["userId","collectionPath","documentId"],zQ=["userId","collectionPath","largestBatchId"],WQ=["userId","collectionGroup","largestBatchId"],$k=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],qQ=[...$k,"documentOverlays"],Hk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Gk=Hk,TT=[...Gk,"indexConfiguration","indexState","indexEntries"],KQ=TT,QQ=[...TT,"globals"];class CT extends kk{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function Ur(n,e){const t=Ne(n);return Gs.F(t._e,e)}function zk(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Rc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function qk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Vn{constructor(e,t){this.comparator=e,this.root=t||li.EMPTY}insert(e,t){return new Vn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,li.BLACK,null,null))}remove(e){return new Vn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,li.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new T0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new T0(this.root,e,this.comparator,!1)}getReverseIterator(){return new T0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new T0(this.root,e,this.comparator,!0)}}class T0{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class li{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??li.RED,this.left=i??li.EMPTY,this.right=o??li.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new li(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return li.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return li.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,li.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,li.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ze();const e=this.left.check();if(e!==this.right.check())throw ze();return e+(this.isRed()?0:1)}}li.EMPTY=null,li.RED=!0,li.BLACK=!1,li.EMPTY=new class{constructor(){this.size=0}get key(){throw ze()}get value(){throw ze()}get color(){throw ze()}get left(){throw ze()}get right(){throw ze()}copy(e,t,r,i,o){return this}insert(e,t,r){return new li(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bn{constructor(e){this.comparator=e,this.data=new Vn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Kk(this.data.getIterator())}getIteratorFrom(e){return new Kk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof bn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new bn(this.comparator);return t.data=e,t}}class Kk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function xh(n){return n.hasNext()?n.getNext():void 0}class uo{constructor(e){this.fields=e,e.sort(Gn.comparator)}static empty(){return new uo([])}unionWith(e){let t=new bn(Gn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new uo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Nh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Qk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Qk("Invalid base64 string: "+o):o}}(e);return new fr(t)}static fromUint8Array(e){const t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new fr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fr.EMPTY_BYTE_STRING=new fr("");const JQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xa(n){if(qe(!!n),"string"==typeof n){let e=0;const t=JQ.exec(n);if(qe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yn(n.seconds),nanos:Yn(n.nanos)}}function Yn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ka(n){return"string"==typeof n?fr.fromBase64String(n):fr.fromUint8Array(n)}function C0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function D0(n){const e=n.mapValue.fields.__previous_value__;return C0(e)?D0(e):e}function nm(n){const e=xa(n.mapValue.fields.__local_write_time__.timestampValue);return new Qn(e.seconds,e.nanos)}class ZQ{constructor(e,t,r,i,o,s,a,c,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d}}class Mc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Mc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Mc&&e.projectId===this.projectId&&e.database===this.database}}const Nc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},A0={nullValue:"NULL_VALUE"};function Pc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?C0(n)?4:eF(n)?9007199254740991:M0(n)?10:11:ze()}function Ws(n,e){if(n===e)return!0;const t=Pc(n);if(t!==Pc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return nm(n).isEqual(nm(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=xa(i.timestampValue),a=xa(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,ka(n.bytesValue).isEqual(ka(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Yn(i.geoPointValue.latitude)===Yn(o.geoPointValue.latitude)&&Yn(i.geoPointValue.longitude)===Yn(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Yn(i.integerValue)===Yn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Yn(i.doubleValue),a=Yn(o.doubleValue);return s===a?tm(s)===tm(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Nh(n.arrayValue.values||[],e.arrayValue.values||[],Ws);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(zk(s)!==zk(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!Ws(s[c],a[c])))return!1;return!0}(n,e);default:return ze()}var o}function rm(n,e){return void 0!==(n.values||[]).find(t=>Ws(t,e))}function Oc(n,e){if(n===e)return 0;const t=Pc(n),r=Pc(e);if(t!==r)return ft(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ft(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Yn(o.integerValue||o.doubleValue),c=Yn(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return Yk(n.timestampValue,e.timestampValue);case 4:return Yk(nm(n),nm(e));case 5:return ft(n.stringValue,e.stringValue);case 6:return function(o,s){const a=ka(o),c=ka(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),c=s.split("/");for(let d=0;d<a.length&&d<c.length;d++){const f=ft(a[d],c[d]);if(0!==f)return f}return ft(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ft(Yn(o.latitude),Yn(s.latitude));return 0!==a?a:ft(Yn(o.longitude),Yn(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Jk(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,d,f;const b=null===(a=(o.fields||{}).value)||void 0===a?void 0:a.arrayValue,w=null===(c=(s.fields||{}).value)||void 0===c?void 0:c.arrayValue,D=ft((null===(d=b?.values)||void 0===d?void 0:d.length)||0,(null===(f=w?.values)||void 0===f?void 0:f.length)||0);return 0!==D?D:Jk(b,w)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Nc.mapValue&&s===Nc.mapValue)return 0;if(o===Nc.mapValue)return 1;if(s===Nc.mapValue)return-1;const a=o.fields||{},c=Object.keys(a),d=s.fields||{},f=Object.keys(d);c.sort(),f.sort();for(let m=0;m<c.length&&m<f.length;++m){const y=ft(c[m],f[m]);if(0!==y)return y;const b=Oc(a[c[m]],d[f[m]]);if(0!==b)return b}return ft(c.length,f.length)}(n.mapValue,e.mapValue);default:throw ze()}}function Yk(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ft(n,e);const t=xa(n),r=xa(e),i=ft(t.seconds,r.seconds);return 0!==i?i:ft(t.nanos,r.nanos)}function Jk(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=Oc(t[i],r[i]);if(o)return o}return ft(t.length,r.length)}function kh(n){return DT(n)}function DT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=xa(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ka(n.bytesValue).toBase64():"referenceValue"in n?Fe.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=DT(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${DT(t.fields[s])}`;return i+"}"}(n.mapValue):ze()}function iu(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function AT(n){return!!n&&"integerValue"in n}function im(n){return!!n&&"arrayValue"in n}function Zk(n){return!!n&&"nullValue"in n}function Xk(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function R0(n){return!!n&&"mapValue"in n}function M0(n){var e,t;return"__vector__"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function om(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Rc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=om(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=om(n.arrayValue.values[t]);return e}return Object.assign({},n)}function eF(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}const tF={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function XQ(n){return"nullValue"in n?A0:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?iu(Mc.empty(),Fe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?M0(n)?tF:{mapValue:{}}:ze()}function eY(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?iu(Mc.empty(),Fe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?tF:"mapValue"in n?M0(n)?{mapValue:{}}:Nc:ze()}function nF(n,e){const t=Oc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function rF(n,e){const t=Oc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ui{constructor(e){this.value=e}static empty(){return new ui({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!R0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=om(t)}setAll(e){let t=Gn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=om(s):i.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());R0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ws(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];R0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Rc(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new ui(om(this.value))}}function iF(n){const e=[];return Rc(n.fields,(t,r)=>{const i=new Gn([t]);if(R0(r)){const o=iF(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new uo(e)}class zn{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new zn(e,0,Qe.min(),Qe.min(),Qe.min(),ui.empty(),0)}static newFoundDocument(e,t,r,i){return new zn(e,1,t,Qe.min(),r,i,0)}static newNoDocument(e,t){return new zn(e,2,t,Qe.min(),Qe.min(),ui.empty(),0)}static newUnknownDocument(e,t){return new zn(e,3,t,Qe.min(),Qe.min(),ui.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Qe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ui.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xc{constructor(e,t){this.position=e,this.inclusive=t}}function oF(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],s=n.position[i];if(r=o.field.isKeyField()?Fe.comparator(Fe.fromName(s.referenceValue),t.key):Oc(s,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function sF(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ws(n.position[t],e.position[t]))return!1;return!0}class sm{constructor(e,t="asc"){this.field=e,this.dir=t}}function tY(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class aF{}class jt extends aF{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new nY(e,t,r):"array-contains"===t?new oY(e,r):"in"===t?new fF(e,r):"not-in"===t?new sY(e,r):"array-contains-any"===t?new aY(e,r):new jt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new rY(e,r):new iY(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Oc(t,this.value)):null!==t&&Pc(this.value)===Pc(t)&&this.matchesComparison(Oc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ze()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _n extends aF{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new _n(e,t)}matches(e){return Fh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Fh(n){return"and"===n.op}function ST(n){return"or"===n.op}function RT(n){return cF(n)&&Fh(n)}function cF(n){for(const e of n.filters)if(e instanceof _n)return!1;return!0}function MT(n){if(n instanceof jt)return n.field.canonicalString()+n.op.toString()+kh(n.value);if(RT(n))return n.filters.map(e=>MT(e)).join(",");{const e=n.filters.map(t=>MT(t)).join(",");return`${n.op}(${e})`}}function lF(n,e){return n instanceof jt?(r=n,(i=e)instanceof jt&&r.op===i.op&&r.field.isEqual(i.field)&&Ws(r.value,i.value)):n instanceof _n?function(r,i){return i instanceof _n&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&lF(s,i.filters[a]),!0)}(n,e):void ze();var r,i}function uF(n,e){const t=n.filters.concat(e);return _n.create(t,n.op)}function dF(n){return n instanceof jt?`${(t=n).field.canonicalString()} ${t.op} ${kh(t.value)}`:n instanceof _n?function(t){return t.op.toString()+" {"+t.getFilters().map(dF).join(" ,")+"}"}(n):"Filter";var t}class nY extends jt{constructor(e,t,r){super(e,t,r),this.key=Fe.fromName(r.referenceValue)}matches(e){const t=Fe.comparator(e.key,this.key);return this.matchesComparison(t)}}class rY extends jt{constructor(e,t){super(e,"in",t),this.keys=hF(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class iY extends jt{constructor(e,t){super(e,"not-in",t),this.keys=hF(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function hF(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Fe.fromName(r.referenceValue))}class oY extends jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return im(t)&&rm(t.arrayValue,this.value)}}class fF extends jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&rm(this.value.arrayValue,t)}}class sY extends jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(rm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!rm(this.value.arrayValue,t)}}class aY extends jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!im(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>rm(this.value.arrayValue,r))}}class cY{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function NT(n,e=null,t=[],r=[],i=null,o=null,s=null){return new cY(n,e,t,r,i,o,s)}function ou(n){const e=Ne(n);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>MT(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),em(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>kh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>kh(r)).join(",")),e.ue=t}return e.ue}function am(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!tY(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!lF(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!sF(n.startAt,e.startAt)&&sF(n.endAt,e.endAt)}function N0(n){return Fe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function P0(n,e){return n.filters.filter(t=>t instanceof jt&&t.field.isEqual(e))}function pF(n,e,t){let r=A0,i=!0;for(const o of P0(n,e)){let s=A0,a=!0;switch(o.op){case"<":case"<=":s=XQ(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=A0}nF({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];nF({value:r,inclusive:i},{value:s,inclusive:t.inclusive})<0&&(r=s,i=t.inclusive);break}return{value:r,inclusive:i}}function gF(n,e,t){let r=Nc,i=!0;for(const o of P0(n,e)){let s=Nc,a=!0;switch(o.op){case">=":case">":s=eY(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Nc}rF({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];rF({value:r,inclusive:i},{value:s,inclusive:t.inclusive})>0&&(r=s,i=t.inclusive);break}return{value:r,inclusive:i}}class Fa{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null}}function mF(n,e,t,r,i,o,s,a){return new Fa(n,e,t,r,i,o,s,a)}function Vh(n){return new Fa(n)}function _F(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function PT(n){return null!==n.collectionGroup}function Lh(n){const e=Ne(n);if(null===e.ce){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new bn(Gn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new sm(o,r))}),t.has(Gn.keyField().canonicalString())||e.ce.push(new sm(Gn.keyField(),r))}return e.ce}function Mi(n){const e=Ne(n);return e.le||(e.le=function vF(n,e){if("F"===n.limitType)return NT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new sm(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new xc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new xc(n.startAt.position,n.startAt.inclusive):null;return NT(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,Lh(n))),e.le}function OT(n,e){const t=n.filters.concat([e]);return new Fa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function O0(n,e,t){return new Fa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function cm(n,e){return am(Mi(n),Mi(e))&&n.limitType===e.limitType}function bF(n){return`${ou(Mi(n))}|lt:${n.limitType}`}function Bh(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>dF(i)).join(", ")}]`),em(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>kh(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>kh(i)).join(",")),`Target(${r})`}(Mi(n))}; limitType=${n.limitType})`}function lm(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Fe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of Lh(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(s,a,c){const d=oF(s,a,c);return s.inclusive?d<=0:d<0}(r.startAt,Lh(r),i)||r.endAt&&!function(s,a,c){const d=oF(s,a,c);return s.inclusive?d>=0:d>0}(r.endAt,Lh(r),i)));var r,i}function IF(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function EF(n){return(e,t)=>{let r=!1;for(const i of Lh(n)){const o=lY(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function lY(n,e,t){const r=n.field.isKeyField()?Fe.comparator(e.key,t.key):function(o,s,a){const c=s.data.field(o),d=a.data.field(o);return null!==c&&null!==d?Oc(c,d):ze()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ze()}}class Va{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Rc(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return qk(this.inner)}size(){return this.innerSize}}const uY=new Vn(Fe.comparator);function ho(){return uY}const wF=new Vn(Fe.comparator);function um(...n){let e=wF;for(const t of n)e=e.insert(t.key,t);return e}function TF(n){let e=wF;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function qs(){return dm()}function CF(){return dm()}function dm(){return new Va(n=>n.toString(),(n,e)=>n.isEqual(e))}const dY=new Vn(Fe.comparator),hY=new bn(Fe.comparator);function Ct(...n){let e=hY;for(const t of n)e=e.add(t);return e}const fY=new bn(ft);function xT(){return fY}function kT(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tm(e)?"-0":e}}function DF(n){return{integerValue:""+n}}function AF(n,e){return Lk(e)?DF(e):kT(n,e)}class x0{constructor(){this._=void 0}}function pY(n,e,t){return n instanceof Uh?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&C0(o)&&(o=D0(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof su?RF(n,e):n instanceof au?MF(n,e):function(i,o){const s=SF(i,o),a=NF(s)+NF(i.Pe);return AT(s)&&AT(i.Pe)?DF(a):kT(i.serializer,a)}(n,e)}function gY(n,e,t){return n instanceof su?RF(n,e):n instanceof au?MF(n,e):t}function SF(n,e){return n instanceof jh?AT(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class Uh extends x0{}class su extends x0{constructor(e){super(),this.elements=e}}function RF(n,e){const t=PF(e);for(const r of n.elements)t.some(i=>Ws(i,r))||t.push(r);return{arrayValue:{values:t}}}class au extends x0{constructor(e){super(),this.elements=e}}function MF(n,e){let t=PF(e);for(const r of n.elements)t=t.filter(i=>!Ws(i,r));return{arrayValue:{values:t}}}class jh extends x0{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function NF(n){return Yn(n.integerValue||n.doubleValue)}function PF(n){return im(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class hm{constructor(e,t){this.field=e,this.transform=t}}class _Y{constructor(e,t){this.version=e,this.transformResults=t}}class Jn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function k0(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class F0{}function OF(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Hh(n.key,Jn.none()):new $h(n.key,n.data,Jn.none());{const t=n.data,r=ui.empty();let i=new bn(Gn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new La(n.key,r,new uo(i.toArray()),Jn.none())}}function yY(n,e,t){n instanceof $h?function(i,o,s){const a=i.value.clone(),c=FF(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof La?function(i,o,s){if(!k0(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=FF(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(kF(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function fm(n,e,t,r){return n instanceof $h?function(o,s,a,c){if(!k0(o.precondition,s))return a;const d=o.value.clone(),f=VF(o.fieldTransforms,c,s);return d.setAll(f),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof La?function(o,s,a,c){if(!k0(o.precondition,s))return a;const d=VF(o.fieldTransforms,c,s),f=s.data;return f.setAll(kF(o)),f.setAll(d),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(n,e,t,r):(a=t,k0(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function vY(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=SF(r.transform,i||null);null!=o&&(null===t&&(t=ui.empty()),t.set(r.field,o))}return t||null}function xF(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&Nh(r,i,(o,s)=>function mY(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof su&&i instanceof su||r instanceof au&&i instanceof au?Nh(r.elements,i.elements,Ws):r instanceof jh&&i instanceof jh?Ws(r.Pe,i.Pe):r instanceof Uh&&i instanceof Uh);var r,i}(o,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class $h extends F0{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class La extends F0{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function kF(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function FF(n,e,t){const r=new Map;qe(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,gY(s,a,t[i]))}return r}function VF(n,e,t){const r=new Map;for(const i of n){const o=i.transform,s=t.data.field(i.field);r.set(i.field,pY(o,s,e))}return r}class Hh extends F0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FT extends F0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class VT{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&yY(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=fm(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=fm(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=CF();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;const c=OF(s,a);null!==c&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Qe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ct())}isEqual(e){return this.batchId===e.batchId&&Nh(this.mutations,e.mutations,(t,r)=>xF(t,r))&&Nh(this.baseMutations,e.baseMutations,(t,r)=>xF(t,r))}}class LT{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){qe(e.mutations.length===r.length);let i=dY;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new LT(e,t,r,i)}}class BT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class bY{constructor(e,t){this.count=e,this.unchangedNames=t}}var Rr,Gt;function BF(n){switch(n){default:return ze();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function UF(n){if(void 0===n)return Ir("GRPC error has no .code"),ie.UNKNOWN;switch(n){case Rr.OK:return ie.OK;case Rr.CANCELLED:return ie.CANCELLED;case Rr.UNKNOWN:return ie.UNKNOWN;case Rr.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Rr.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Rr.INTERNAL:return ie.INTERNAL;case Rr.UNAVAILABLE:return ie.UNAVAILABLE;case Rr.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Rr.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Rr.NOT_FOUND:return ie.NOT_FOUND;case Rr.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Rr.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Rr.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Rr.ABORTED:return ie.ABORTED;case Rr.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Rr.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Rr.DATA_LOSS:return ie.DATA_LOSS;default:return ze()}}(Gt=Rr||(Rr={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";function jF(){return new TextEncoder}const IY=new eu([4294967295,4294967295],0);function $F(n){const e=jF().encode(n),t=new Ik;return t.update(e),new Uint8Array(t.digest())}function HF(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new eu([t,r],0),new eu([i,o],0)]}class UT{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new pm(`Invalid padding: ${t}`);if(r<0)throw new pm(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new pm(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new pm(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=eu.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(eu.fromNumber(r)));return 1===i.compare(IY)&&(i=new eu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=$F(e),[r,i]=HF(t);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new UT(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Ie)return;const t=$F(e),[r,i]=HF(t);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class pm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class gm{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,mm.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new gm(Qe.min(),i,new Vn(ft),ho(),Ct())}}class mm{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new mm(r,t,Ct(),Ct(),Ct())}}class L0{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class GF{constructor(e,t){this.targetId=e,this.me=t}}class zF{constructor(e,t,r=fr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class WF{constructor(){this.fe=0,this.ge=KF(),this.pe=fr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ct(),t=Ct(),r=Ct();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ze()}}),new mm(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=KF()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class EY{constructor(e){this.Le=e,this.Be=new Map,this.ke=ho(),this.qe=qF(),this.Qe=new Vn(ft)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:ze()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){const t=e.targetId,r=e.me.count,i=this.Je(t);if(i){const o=i.target;if(N0(o))if(0===r){const s=new Fe(o.path);this.Ue(t,s,zn.newNoDocument(s,Qe.min()))}else qe(1===r);else{const s=this.Ye(t);if(s!==r){const a=this.Ze(e),c=a?this.Xe(a,e,s):1;0!==c&&(this.je(t),this.Qe=this.Qe.insert(t,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let s,a;try{s=ka(r).toUint8Array()}catch(c){if(c instanceof Qk)return Ro("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new UT(s,i,o)}catch(c){return Ro(c instanceof pm?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Ie?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){const t=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&N0(a.target)){const c=new Fe(a.target.path);null!==this.ke.get(c)||this.it(s,c)||this.Ue(s,c,zn.newNoDocument(c,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=Ct();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const d=this.Je(c);return!d||"TargetPurposeLimboResolution"===d.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new gm(e,t,this.Qe,this.ke,r);return this.ke=ho(),this.qe=qF(),this.Qe=new Vn(ft),i}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new WF,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new bn(ft),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Ie("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new WF),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function qF(){return new Vn(Fe.comparator)}function KF(){return new Vn(Fe.comparator)}const wY={asc:"ASCENDING",desc:"DESCENDING"},TY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CY={and:"AND",or:"OR"};class DY{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function jT(n,e){return n.useProto3Json||em(e)?e:{value:e}}function Gh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QF(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function AY(n,e){return Gh(n,e.toTimestamp())}function Er(n){return qe(!!n),Qe.fromTimestamp(function(t){const r=xa(t);return new Qn(r.seconds,r.nanos)}(n))}function $T(n,e){return HT(n,e).canonicalString()}function HT(n,e){const t=(i=n,new Ut(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?t:t.child(e)}function YF(n){const e=Ut.fromString(n);return qe(aV(e)),e}function _m(n,e){return $T(n.databaseId,e.path)}function Ks(n,e){const t=YF(e);if(t.get(1)!==n.databaseId.projectId)throw new _e(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _e(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Fe(XF(t))}function JF(n,e){return $T(n.databaseId,e)}function ZF(n){const e=YF(n);return 4===e.length?Ut.emptyPath():XF(e)}function GT(n){return new Ut(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function XF(n){return qe(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function eV(n,e,t){return{name:_m(n,e),fields:t.value.mapValue.fields}}function tV(n,e,t){const r=Ks(n,e.name),i=Er(e.updateTime),o=e.createTime?Er(e.createTime):Qe.min(),s=new ui({mapValue:{fields:e.fields}}),a=zn.newFoundDocument(r,i,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function ym(n,e){let t;if(e instanceof $h)t={update:eV(n,e.key,e.value)};else if(e instanceof Hh)t={delete:_m(n,e.key)};else if(e instanceof La)t={update:eV(n,e.key,e.data),updateMask:kY(e.fieldMask)};else{if(!(e instanceof FT))return ze();t={verify:_m(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Uh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof su)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof au)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof jh)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ze()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:AY(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:ze()),t;var o}function zT(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Jn.updateTime(Er(o.updateTime)):void 0!==o.exists?Jn.exists(o.exists):Jn.none():Jn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let c=null;"setToServerValue"in a?(qe("REQUEST_TIME"===a.setToServerValue),c=new Uh):"appendMissingElements"in a?c=new su(a.appendMissingElements.values||[]):"removeAllFromArray"in a?c=new au(a.removeAllFromArray.values||[]):"increment"in a?c=new jh(s,a.increment):ze();const d=Gn.fromServerFormat(a.fieldPath);return new hm(d,c)}(n,i)):[];var o;if(e.update){const i=Ks(n,e.update.name),o=new ui({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new uo((e.updateMask.fieldPaths||[]).map(f=>Gn.fromServerFormat(f)));return new La(i,o,s,t,r)}return new $h(i,o,t,r)}if(e.delete){const i=Ks(n,e.delete);return new Hh(i,t)}if(e.verify){const i=Ks(n,e.verify);return new FT(i,t)}return ze()}function nV(n,e){return{documents:[JF(n,e.path)]}}function B0(n,e){const t={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=JF(n,i);const o=function(d){if(0!==d.length)return sV(_n.create(d,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const s=function(d){if(0!==d.length)return d.map(f=>{return{field:kc((y=f).field),direction:PY(y.dir)};var y})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const a=jT(n,e.limit);return null!==a&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt={before:(d=e.startAt).inclusive,values:d.position}),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:t,parent:i};var d}function iV(n){let e=ZF(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){qe(1===r);const f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];t.where&&(o=function(m){const y=oV(m);return y instanceof _n&&RT(y)?y.getFilters():[y]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(y=>{return new sm(zh((w=y).field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction));var w}));let a=null;t.limit&&(a=function(m){let y;return y="object"==typeof m?m.value:m,em(y)?null:y}(t.limit));let c=null;var m;t.startAt&&(c=new xc((m=t.startAt).values||[],!!m.before));let d=null;return t.endAt&&(d=function(m){return new xc(m.values||[],!m.before)}(t.endAt)),mF(e,i,s,o,a,"F",c,d)}function oV(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=zh(t.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=zh(t.unaryFilter.field);return jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=zh(t.unaryFilter.field);return jt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=zh(t.unaryFilter.field);return jt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ze()}}(n):void 0!==n.fieldFilter?jt.create(zh((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ze()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return _n.create(t.compositeFilter.filters.map(r=>oV(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ze()}}(t.compositeFilter.op))}(n):ze();var t}function PY(n){return wY[n]}function OY(n){return TY[n]}function xY(n){return CY[n]}function kc(n){return{fieldPath:n.canonicalString()}}function zh(n){return Gn.fromServerFormat(n.fieldPath)}function sV(n){return n instanceof jt?function(t){if("=="===t.op){if(Xk(t.value))return{unaryFilter:{field:kc(t.field),op:"IS_NAN"}};if(Zk(t.value))return{unaryFilter:{field:kc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Xk(t.value))return{unaryFilter:{field:kc(t.field),op:"IS_NOT_NAN"}};if(Zk(t.value))return{unaryFilter:{field:kc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kc(t.field),op:OY(t.op),value:t.value}}}(n):n instanceof _n?function(t){const r=t.getFilters().map(i=>sV(i));return 1===r.length?r[0]:{compositeFilter:{op:xY(t.op),filters:r}}}(n):ze()}function kY(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function aV(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ba{constructor(e,t,r,i,o=Qe.min(),s=Qe.min(),a=fr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Ba(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class cV{constructor(e){this.ct=e}}function lV(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:U0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:_m(o=n.ct,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:Gh(o,s.version.toTimestamp()),createTime:Gh(o,s.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:cu(e.version)};else{if(!e.isUnknownDocument())return ze();r.unknownDocument={path:t.path.toArray(),version:cu(e.version)}}var o,s;return r}function U0(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function cu(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function lu(n){const e=new Qn(n.seconds,n.nanoseconds);return Qe.fromTimestamp(e)}function uu(n,e){const t=(e.baseMutations||[]).map(o=>zT(n.ct,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const r=e.mutations.map(o=>zT(n.ct,o)),i=Qn.fromMillis(e.localWriteTimeMs);return new VT(e.batchId,i,t,r)}function vm(n){const e=lu(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?lu(n.lastLimboFreeSnapshotVersion):Qe.min();let r;return r=void 0!==n.query.documents?(qe(1===(o=n.query).documents.length),Mi(Vh(ZF(o.documents[0])))):function(o){return Mi(iV(o))}(n.query),new Ba(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,fr.fromBase64String(n.resumeToken));var o}function uV(n,e){const t=cu(e.snapshotVersion),r=cu(e.lastLimboFreeSnapshotVersion);let i;i=N0(e.target)?nV(n.ct,e.target):B0(n.ct,e.target)._t;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ou(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function WT(n){const e=iV({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?O0(e,e.limit,"L"):e}function qT(n,e){return new BT(e.largestBatchId,zT(n.ct,e.overlayMutation))}function dV(n,e){const t=e.path.lastSegment();return[n,Ri(e.path.popLast()),t]}function hV(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:cu(r.readTime),documentKey:Ri(r.documentKey.path),largestBatchId:r.largestBatchId}}class VY{getBundleMetadata(e,t){return fV(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:lu(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return fV(e).put({bundleId:(i=t).id,createTime:cu(Er(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return pV(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:WT(o.bundledQuery),readTime:lu(o.readTime)};var o})}saveNamedQuery(e,t){return pV(e).put({name:(i=t).name,readTime:cu(Er(i.readTime)),bundledQuery:i.bundledQuery});var i}}function fV(n){return Ur(n,"bundles")}function pV(n){return Ur(n,"namedQueries")}class j0{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){return new j0(e,t.uid||"")}getOverlay(e,t){return bm(e).get(dV(this.userId,t)).next(r=>r?qT(this.serializer,r):null)}getOverlays(e,t){const r=qs();return Q.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,s)=>{const a=new BT(t,s);i.push(this.ht(e,a))}),Q.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(s=>i.add(Ri(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(bm(e).j("collectionPathOverlayIndex",a))}),Q.waitFor(o)}getOverlaysForCollection(e,t,r){const i=qs(),o=Ri(t),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return bm(e).U("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const d=qT(this.serializer,c);i.set(d.getKey(),d)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=qs();let s;const a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return bm(e).J({index:"collectionGroupOverlayIndex",range:a},(c,d,f)=>{const m=qT(this.serializer,d);o.size()<i||m.largestBatchId===s?(o.set(m.getKey(),m),s=m.largestBatchId):f.done()}).next(()=>o)}ht(e,t){return bm(e).put(function(i,o,s){const[a,c,d]=dV(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:d,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:ym(i.ct,s.mutation)}}(this.serializer,this.userId,t))}}function bm(n){return Ur(n,"documentOverlays")}class LY{Pt(e){return Ur(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(t=>{const r=t?.value;return r?fr.fromUint8Array(r):fr.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Pt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class du{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Yn(e.integerValue));else if("doubleValue"in e){const r=Yn(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),tm(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),"string"==typeof r&&(r=xa(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(ka(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?eF(e)?this.dt(t,Number.MAX_SAFE_INTEGER):M0(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ze()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const r=e.fields||{};this.dt(t,55);for(const i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;const o=e.fields||{};this.dt(t,53);const s="value",a=(null===(i=null===(r=o[s].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.length)||0;this.dt(t,15),t.At(Yn(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){const r=e.values||[];this.dt(t,50);for(const i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),Fe.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}function BY(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function gV(n){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const s=BY(255&r[o]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}du.vt=new du;class UY{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ft(r.value),r=t.next();this.Mt()}xt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ot(r.value),r=t.next();this.Nt()}Lt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=t.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=t.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const t=this.qt(e),r=gV(t);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Kt(e){const t=this.qt(e),r=gV(t);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const t=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ft(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(t)}Ot(e){const t=255&e;0===t?(this.Gt(0),this.Gt(255)):255===t?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class jY{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class $Y{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Im{constructor(){this.jt=new UY,this.Ht=new jY(this.jt),this.Jt=new $Y(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class hu{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new hu(this.indexId,this.documentKey,this.arrayValue,r)}}function Fc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=mV(n.arrayValue,e.arrayValue),0!==t?t:(t=mV(n.directionalValue,e.directionalValue),0!==t?t:Fe.comparator(n.documentKey,e.documentKey)))}function mV(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class _V{constructor(e){this.Xt=new bn((t,r)=>Gn.comparator(t.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const t of e.filters){const r=t;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(qe(e.collectionGroup===this.collectionId),this.nn)return!1;const t=bT(e);if(void 0!==t&&!this.sn(t))return!1;const r=tu(e);let i=new Set,o=0,s=0;for(;o<r.length&&this.sn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Xt.size>0){const a=this.Xt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const c=r[o];if(!this.on(a,c)||!this._n(this.en[s++],c))return!1}++o}for(;o<r.length;++o)if(s>=this.en.length||!this._n(this.en[s++],r[o]))return!1;return!0}an(){if(this.nn)return null;let e=new bn(Gn.comparator);const t=[];for(const r of this.tn)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)t.push(new nu(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new nu(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new nu(r.field,"asc"===r.dir?0:1)));return new Ph(Ph.UNKNOWN_ID,this.collectionId,t,Oh.empty())}sn(e){for(const t of this.tn)if(this.on(t,e))return!0;return!1}on(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}_n(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function yV(n){var e,t;if(qe(n instanceof jt||n instanceof _n),n instanceof jt){if(n instanceof fF){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>jt.create(n.field,"==",o)))||[];return _n.create(i,"or")}return n}const r=n.filters.map(i=>yV(i));return _n.create(r,n.op)}function HY(n){if(0===n.getFilters().length)return[];const e=YT(yV(n));return qe(vV(e)),KT(e)||QT(e)?[e]:e.getFilters()}function KT(n){return n instanceof jt}function QT(n){return n instanceof _n&&RT(n)}function vV(n){return KT(n)||QT(n)||function(t){if(t instanceof _n&&ST(t)){for(const r of t.getFilters())if(!KT(r)&&!QT(r))return!1;return!0}return!1}(n)}function YT(n){if(qe(n instanceof jt||n instanceof _n),n instanceof jt)return n;if(1===n.filters.length)return YT(n.filters[0]);const e=n.filters.map(r=>YT(r));let t=_n.create(e,n.op);return t=$0(t),vV(t)?t:(qe(t instanceof _n),qe(Fh(t)),qe(t.filters.length>1),t.filters.reduce((r,i)=>JT(r,i)))}function JT(n,e){let t;return qe(n instanceof jt||n instanceof _n),qe(e instanceof jt||e instanceof _n),t=n instanceof jt?e instanceof jt?_n.create([n,e],"and"):bV(n,e):e instanceof jt?bV(e,n):function(i,o){if(qe(i.filters.length>0&&o.filters.length>0),Fh(i)&&Fh(o))return uF(i,o.getFilters());const s=ST(i)?i:o,a=ST(i)?o:i,c=s.filters.map(d=>JT(d,a));return _n.create(c,"or")}(n,e),$0(t)}function bV(n,e){if(Fh(e))return uF(e,n.getFilters());{const t=e.filters.map(r=>JT(n,r));return _n.create(t,"or")}}function $0(n){if(qe(n instanceof jt||n instanceof _n),n instanceof jt)return n;const e=n.getFilters();if(1===e.length)return $0(e[0]);if(cF(n))return n;const t=e.map(i=>$0(i)),r=[];return t.forEach(i=>{i instanceof jt?r.push(i):i instanceof _n&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:_n.create(r,n.op)}class GY{constructor(){this.un=new ZT}addToCollectionParentIndex(e,t){return this.un.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(Mo.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(Mo.min())}updateCollectionGroup(e,t,r){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class ZT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new bn(Ut.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bn(Ut.comparator)).toArray()}}const H0=new Uint8Array(0);class zY{constructor(e,t){this.databaseId=t,this.cn=new ZT,this.ln=new Va(r=>ou(r),(r,i)=>am(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.cn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.cn.add(t)});const o={collectionId:r,parent:Ri(i)};return IV(e).put(o)}return Q.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Nk(t),""],!1,!0);return IV(e).U(i).next(o=>{for(const s of o){if(s.collectionId!==t)break;r.push(zs(s.parent))}return r})}addFieldIndex(e,t){const r=Em(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;delete i.indexId;const o=r.add(i);if(t.indexState){const s=qh(e);return o.next(a=>{s.put(hV(a,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=Em(e),i=qh(e),o=Wh(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Em(e),r=Wh(e),i=qh(e);return t.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,t){return Q.forEach(this.hn(t),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const o=new _V(r).an();if(null!=o)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const r=Wh(e);let i=!0;const o=new Map;return Q.forEach(this.hn(t),s=>this.Pn(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=Ct();const a=[];return Q.forEach(o,(c,d)=>{var J;Ie("IndexedDbIndexManager",`Using index ${J=c,`id=${J.indexId}|cg=${J.collectionGroup}|f=${J.fields.map(re=>`${re.fieldPath}:${re.kind}`).join(",")}`} to execute ${ou(t)}`);const f=function(J,re){const pe=bT(re);if(void 0===pe)return null;for(const Ae of P0(J,pe.fieldPath))switch(Ae.op){case"array-contains-any":return Ae.value.arrayValue.values||[];case"array-contains":return[Ae.value]}return null}(d,c),m=function(J,re){const pe=new Map;for(const Ae of tu(re))for(const k of P0(J,Ae.fieldPath))switch(k.op){case"==":case"in":pe.set(Ae.fieldPath.canonicalString(),k.value);break;case"not-in":case"!=":return pe.set(Ae.fieldPath.canonicalString(),k.value),Array.from(pe.values())}return null}(d,c),y=function(J,re){const pe=[];let Ae=!0;for(const k of tu(re)){const A=0===k.kind?pF(J,k.fieldPath,J.startAt):gF(J,k.fieldPath,J.startAt);pe.push(A.value),Ae&&(Ae=A.inclusive)}return new xc(pe,Ae)}(d,c),b=function(J,re){const pe=[];let Ae=!0;for(const k of tu(re)){const A=0===k.kind?gF(J,k.fieldPath,J.endAt):pF(J,k.fieldPath,J.endAt);pe.push(A.value),Ae&&(Ae=A.inclusive)}return new xc(pe,Ae)}(d,c),w=this.In(c,d,y),D=this.In(c,d,b),S=this.Tn(c,d,m),j=this.En(c.indexId,f,w,y.inclusive,D,b.inclusive,S);return Q.forEach(j,O=>r.G(O,t.limit).next(J=>{J.forEach(re=>{const pe=Fe.fromSegments(re.documentKey);s.has(pe)||(s=s.add(pe),a.push(pe))})}))}).next(()=>a)}return Q.resolve(null)})}hn(e){let t=this.ln.get(e);return t||(t=0===e.filters.length?[e]:HY(_n.create(e.filters,"and")).map(r=>NT(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,t),t)}En(e,t,r,i,o,s,a){const c=(null!=t?t.length:1)*Math.max(r.length,o.length),d=c/(null!=t?t.length:1),f=[];for(let m=0;m<c;++m){const y=t?this.dn(t[m/d]):H0,b=this.An(e,y,r[m%d],i),w=this.Rn(e,y,o[m%d],s),D=a.map(S=>this.An(e,y,S,!0));f.push(...this.createRange(b,w,D))}return f}An(e,t,r,i){const o=new hu(e,Fe.empty(),t,r);return i?o:o.Zt()}Rn(e,t,r,i){const o=new hu(e,Fe.empty(),t,r);return i?o.Zt():o}Pn(e,t){const r=new _V(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.rn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let r=2;const i=this.hn(t);return Q.forEach(i,o=>this.Pn(e,o).next(s=>{s?0!==r&&s.fields.length<function(c){let d=new bn(Gn.comparator),f=!1;for(const m of c.filters)for(const y of m.getFlattenedFilters())y.field.isKeyField()||("array-contains"===y.op||"array-contains-any"===y.op?f=!0:d=d.add(y.field));for(const m of c.orderBy)m.field.isKeyField()||(d=d.add(m.field));return d.size+(f?1:0)}(o)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}Vn(e,t){const r=new Im;for(const i of tu(e)){const o=t.data.field(i.fieldPath);if(null==o)return null;const s=r.Yt(i.kind);du.vt.It(o,s)}return r.zt()}dn(e){const t=new Im;return du.vt.It(e,t.Yt(0)),t.zt()}mn(e,t){const r=new Im;return du.vt.It(iu(this.databaseId,t),r.Yt(function(o){const s=tu(o);return 0===s.length?0:s[s.length-1].kind}(e))),r.zt()}Tn(e,t,r){if(null===r)return[];let i=[];i.push(new Im);let o=0;for(const s of tu(e)){const a=r[o++];for(const c of i)if(this.fn(t,s.fieldPath)&&im(a))i=this.gn(i,s,a);else{const d=c.Yt(s.kind);du.vt.It(a,d)}}return this.pn(i)}In(e,t,r){return this.Tn(e,t,r.position)}pn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].zt();return t}gn(e,t,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const c=new Im;c.seed(a.zt()),du.vt.It(s,c.Yt(t.kind)),o.push(c)}return o}fn(e,t){return!!e.filters.find(r=>r instanceof jt&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Em(e),i=qh(e);return(t?r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.U()).next(o=>{const s=[];return Q.forEach(o,a=>i.get([a.indexId,this.uid]).next(c=>{s.push(function(f,m){const y=m?new Oh(m.sequenceNumber,new Mo(lu(m.readTime),new Fe(zs(m.documentKey)),m.largestBatchId)):Oh.empty(),b=f.fields.map(([w,D])=>new nu(Gn.fromServerFormat(w),D));return new Ph(f.indexId,f.collectionGroup,b,y)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:ft(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Em(e),o=qh(e);return this.yn(e).next(s=>i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>Q.forEach(a,c=>o.put(hV(c.indexId,this.uid,s,r)))))}updateIndexEntries(e,t){const r=new Map;return Q.forEach(t,(i,o)=>{const s=r.get(i.collectionGroup);return(s?Q.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),Q.forEach(a,c=>this.wn(e,i,c).next(d=>{const f=this.Sn(o,c);return d.isEqual(f)?Q.resolve():this.bn(e,o,c,d,f)}))))})}Dn(e,t,r,i){return Wh(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,t.key),documentKey:t.key.path.toArray()})}vn(e,t,r,i){return Wh(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=Wh(e);let o=new bn(Fc);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,t)])},(s,a)=>{o=o.add(new hu(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>o)}Sn(e,t){let r=new bn(Fc);const i=this.Vn(t,e);if(null==i)return r;const o=bT(t);if(null!=o){const s=e.data.field(o.fieldPath);if(im(s))for(const a of s.arrayValue.values||[])r=r.add(new hu(t.indexId,e.key,this.dn(a),i))}else r=r.add(new hu(t.indexId,e.key,H0,i));return r}bn(e,t,r,i,o){Ie("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(c,d,f,m,y){const b=c.getIterator(),w=d.getIterator();let D=xh(b),S=xh(w);for(;D||S;){let j=!1,O=!1;if(D&&S){const J=f(D,S);J<0?O=!0:J>0&&(j=!0)}else null!=D?O=!0:j=!0;j?(m(S),S=xh(w)):O?(y(D),D=xh(b)):(D=xh(b),S=xh(w))}}(i,o,Fc,a=>{s.push(this.Dn(e,t,r,a))},a=>{s.push(this.vn(e,t,r,a))}),Q.waitFor(s)}yn(e){let t=1;return qh(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((s,a)=>Fc(s,a)).filter((s,a,c)=>!a||0!==Fc(s,c[a-1]));const i=[];i.push(e);for(const s of r){const a=Fc(s,e),c=Fc(s,t);if(0===a)i[0]=e.Zt();else if(a>0&&c<0)i.push(s),i.push(s.Zt());else if(c>0)break}i.push(t);const o=[];for(let s=0;s<i.length;s+=2){if(this.Cn(i[s],i[s+1]))return[];o.push(IDBKeyRange.bound([i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,H0,[]],[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,H0,[]]))}return o}Cn(e,t){return Fc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(EV)}getMinOffset(e,t){return Q.mapArray(this.hn(t),r=>this.Pn(e,r).next(i=>i||ze())).next(EV)}}function IV(n){return Ur(n,"collectionParents")}function Wh(n){return Ur(n,"indexEntries")}function Em(n){return Ur(n,"indexConfiguration")}function qh(n){return Ur(n,"indexState")}function EV(n){qe(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;IT(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Mo(e.readTime,e.documentKey,t)}const wV={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ni{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ni(e,Ni.DEFAULT_COLLECTION_PERCENTILE,Ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function TV(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),o=[],s=IDBKeyRange.only(t.batchId);let a=0;const c=r.J({range:s},(f,m,y)=>(a++,y.delete()));o.push(c.next(()=>{qe(1===a)}));const d=[];for(const f of t.mutations){const m=jk(e,f.key.path,t.batchId);o.push(i.delete(m)),d.push(f.key)}return Q.waitFor(o).next(()=>d)}function G0(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ze();e=n.noDocument}return JSON.stringify(e).length}Ni.DEFAULT_COLLECTION_PERCENTILE=10,Ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ni.DEFAULT=new Ni(41943040,Ni.DEFAULT_COLLECTION_PERCENTILE,Ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ni.DISABLED=new Ni(-1,0,0);class z0{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,t,r,i){qe(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new z0(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vc(e).J({index:"userMutationsIndex",range:r},(i,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=Kh(e),s=Vc(e);return s.add({}).next(a=>{qe("number"==typeof a);const c=new VT(a,t,r,i),d=function(b,w,D){const S=D.baseMutations.map(O=>ym(b.ct,O)),j=D.mutations.map(O=>ym(b.ct,O));return{userId:w,batchId:D.batchId,localWriteTimeMs:D.localWriteTime.toMillis(),baseMutations:S,mutations:j}}(this.serializer,this.userId,c),f=[];let m=new bn((y,b)=>ft(y.canonicalString(),b.canonicalString()));for(const y of i){const b=jk(this.userId,y.key.path,a);m=m.add(y.key.path.popLast()),f.push(s.put(d)),f.push(o.put(b,PQ))}return m.forEach(y=>{f.push(this.indexManager.addToCollectionParentIndex(e,y))}),e.addOnCommittedListener(()=>{this.Fn[a]=c.keys()}),Q.waitFor(f).next(()=>c)})}lookupMutationBatch(e,t){return Vc(e).get(t).next(r=>r?(qe(r.userId===this.userId),uu(this.serializer,r)):null)}Mn(e,t){return this.Fn[t]?Q.resolve(this.Fn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Fn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Vc(e).J({index:"userMutationsIndex",range:i},(s,a,c)=>{a.userId===this.userId&&(qe(a.batchId>=r),o=uu(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Vc(e).J({index:"userMutationsIndex",range:t,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vc(e).U("userMutationsIndex",t).next(r=>r.map(i=>uu(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=w0(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Kh(e).J({range:i},(s,a,c)=>{const[d,f,m]=s,y=zs(f);if(d===this.userId&&t.path.isEqual(y))return Vc(e).get(m).next(b=>{if(!b)throw ze();qe(b.userId===this.userId),o.push(uu(this.serializer,b))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new bn(ft);const i=[];return t.forEach(o=>{const s=w0(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=Kh(e).J({range:a},(d,f,m)=>{const[y,b,w]=d,D=zs(b);y===this.userId&&o.path.isEqual(D)?r=r.add(w):m.done()});i.push(c)}),Q.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=w0(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new bn(ft);return Kh(e).J({range:s},(c,d,f)=>{const[m,y,b]=c,w=zs(y);m===this.userId&&r.isPrefixOf(w)?w.length===i&&(a=a.add(b)):f.done()}).next(()=>this.xn(e,a))}xn(e,t){const r=[],i=[];return t.forEach(o=>{i.push(Vc(e).get(o).next(s=>{if(null===s)throw ze();qe(s.userId===this.userId),r.push(uu(this.serializer,s))}))}),Q.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return TV(e._e,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.On(t.batchId)}),Q.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Q.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Kh(e).J({range:r},(o,s,a)=>{if(o[0]===this.userId){const c=zs(o[1]);i.push(c)}else a.done()}).next(()=>{qe(0===i.length)})})}containsKey(e,t){return CV(e,this.userId,t)}Nn(e){return DV(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function CV(n,e,t){const r=w0(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return Kh(n).J({range:o,H:!0},(a,c,d)=>{const[f,m,y]=a;f===e&&m===i&&(s=!0),d.done()}).next(()=>s)}function Vc(n){return Ur(n,"mutations")}function Kh(n){return Ur(n,"documentMutations")}function DV(n){return Ur(n,"mutationQueues")}class fu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new fu(0)}static kn(){return new fu(-1)}}class WY{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.qn(e).next(t=>{const r=new fu(t.highestTargetId);return t.highestTargetId=r.next(),this.Qn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(t=>Qe.fromTimestamp(new Qn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Qn(e,i)))}addTargetData(e,t){return this.Kn(e,t).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(t,r),this.Qn(e,r))))}updateTargetData(e,t){return this.Kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Qh(e).delete(t.targetId)).next(()=>this.qn(e)).next(r=>(qe(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return Qh(e).J((s,a)=>{const c=vm(a);c.sequenceNumber<=t&&null===r.get(c.targetId)&&(i++,o.push(this.removeTargetData(e,c)))}).next(()=>Q.waitFor(o)).next(()=>i)}forEachTarget(e,t){return Qh(e).J((r,i)=>{const o=vm(i);t(o)})}qn(e){return AV(e).get("targetGlobalKey").next(t=>(qe(null!==t),t))}Qn(e,t){return AV(e).put("targetGlobalKey",t)}Kn(e,t){return Qh(e).put(uV(this.serializer,t))}$n(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=ou(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Qh(e).J({range:i,index:"queryTargetsIndex"},(s,a,c)=>{const d=vm(a);am(t,d.target)&&(o=d,c.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=Lc(e);return t.forEach(s=>{const a=Ri(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),Q.waitFor(i)}removeMatchingKeys(e,t,r){const i=Lc(e);return Q.forEach(t,o=>{const s=Ri(o.path);return Q.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=Lc(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Lc(e);let o=Ct();return i.J({range:r,H:!0},(s,a,c)=>{const d=zs(s[1]),f=new Fe(d);o=o.add(f)}).next(()=>o)}containsKey(e,t){const r=Ri(t.path),i=IDBKeyRange.bound([r],[Nk(r)],!1,!0);let o=0;return Lc(e).J({index:"documentTargetsIndex",H:!0,range:i},([s,a],c,d)=>{0!==s&&(o++,d.done())}).next(()=>o>0)}ot(e,t){return Qh(e).get(t).next(r=>r?vm(r):null)}}function Qh(n){return Ur(n,"targets")}function AV(n){return Ur(n,"targetGlobal")}function Lc(n){return Ur(n,"targetDocuments")}function SV([n,e],[t,r]){const i=ft(n,t);return 0===i?ft(e,r):i}class qY{constructor(e){this.Un=e,this.buffer=new bn(SV),this.Wn=0}Gn(){return++this.Wn}zn(e){const t=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();SV(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class RV{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var t=this;Ie("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ue.A)(function*(){t.jn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Sc(r)?Ie("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Ac(r)}yield t.Hn(3e5)}))}}class KY{constructor(e,t){this.Jn=e,this.params=t}calculateTargetCount(e,t){return this.Jn.Yn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Q.resolve(No.oe);const r=new qY(t);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(wV)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wV):this.Xn(e,t))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,t){let r,i,o,s,a,c,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(Ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,s=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,a=Date.now(),this.removeTargets(e,r,t))).next(m=>(o=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(d=Date.now(),Mh()<=Hs.$b.DEBUG&&Ie("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-f}ms\n\tDetermined least recently used ${i} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${m} documents in `+(d-c)+`ms\nTotal Duration: ${d-f}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:m})))}}class QY{constructor(e,t){this.db=e,this.garbageCollector=function MV(n,e){return new KY(n,e)}(this,t)}Yn(e){const t=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}er(e){let t=0;return this.Zn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Zn(e,t){return this.tr(e,(r,i)=>t(i))}addReference(e,t,r){return W0(e,r)}removeReference(e,t,r){return W0(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return W0(e,t)}nr(e,t){return function(i,o){let s=!1;return DV(i).Y(a=>CV(i,a,o).next(c=>(c&&(s=!0),Q.resolve(!c)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.tr(e,(s,a)=>{if(a<=t){const c=this.nr(e,s).next(d=>{if(!d)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,Qe.min()),Lc(e).delete([0,Ri(s.path)])))});i.push(c)}}).next(()=>Q.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return W0(e,t)}tr(e,t){const r=Lc(e);let i,o=No.oe;return r.J({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:d})=>{0===s?(o!==No.oe&&t(new Fe(zs(i)),o),o=d,i=c):o=No.oe}).next(()=>{o!==No.oe&&t(new Fe(zs(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function W0(n,e){return Lc(n).put((i=n.currentSequenceNumber,{targetId:0,path:Ri(e.path),sequenceNumber:i}));var i}class NV{constructor(){this.changes=new Va(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Q.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class YY{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return pu(e).put(r)}removeEntry(e,t,r){return pu(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],U0(s),a[a.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.rr(e,r)))}getEntry(e,t){let r=zn.newInvalidDocument(t);return pu(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(wm(t))},(i,o)=>{r=this.ir(t,o)}).next(()=>r)}sr(e,t){let r={size:0,document:zn.newInvalidDocument(t)};return pu(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(wm(t))},(i,o)=>{r={document:this.ir(t,o),size:G0(o)}}).next(()=>r)}getEntries(e,t){let r=ho();return this._r(e,t,(i,o)=>{const s=this.ir(i,o);r=r.insert(i,s)}).next(()=>r)}ar(e,t){let r=ho(),i=new Vn(Fe.comparator);return this._r(e,t,(o,s)=>{const a=this.ir(o,s);r=r.insert(o,a),i=i.insert(o,G0(s))}).next(()=>({documents:r,ur:i}))}_r(e,t,r){if(t.isEmpty())return Q.resolve();let i=new bn(kV);t.forEach(c=>i=i.add(c));const o=IDBKeyRange.bound(wm(i.first()),wm(i.last())),s=i.getIterator();let a=s.getNext();return pu(e).J({index:"documentKeyIndex",range:o},(c,d,f)=>{const m=Fe.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;a&&kV(a,m)<0;)r(a,null),a=s.getNext();a&&a.isEqual(m)&&(r(a,d),a=s.hasNext()?s.getNext():null),a?f.$(wm(a)):f.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,o){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),U0(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return pu(e).U(IDBKeyRange.bound(a,c,!0)).next(d=>{o?.incrementDocumentReadCount(d.length);let f=ho();for(const m of d){const y=this.ir(Fe.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);y.isFoundDocument()&&(lm(t,y)||i.has(y.key))&&(f=f.insert(y.key,y))}return f})}getAllFromCollectionGroup(e,t,r,i){let o=ho();const s=xV(t,r),a=xV(t,Mo.max());return pu(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,d,f)=>{const m=this.ir(Fe.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);o=o.insert(m.key,m),o.size===i&&f.done()}).next(()=>o)}newChangeBuffer(e){return new JY(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return OV(e).get("remoteDocumentGlobalKey").next(t=>(qe(!!t),t))}rr(e,t){return OV(e).put("remoteDocumentGlobalKey",t)}ir(e,t){if(t){const r=function FY(n,e){let t;if(e.document)t=tV(n.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Fe.fromSegments(e.noDocument.path),i=lu(e.noDocument.readTime);t=zn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ze();{const r=Fe.fromSegments(e.unknownDocument.path),i=lu(e.unknownDocument.version);t=zn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const o=new Qn(i[0],i[1]);return Qe.fromTimestamp(o)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Qe.min()))return r}return zn.newInvalidDocument(e)}}function PV(n){return new YY(n)}class JY extends NV{constructor(e,t){super(),this.cr=e,this.trackRemovals=t,this.lr=new Va(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new bn((o,s)=>ft(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.lr.get(o);if(t.push(this.cr.removeEntry(e,o,a.readTime)),s.isValidDocument()){const c=lV(this.cr.serializer,s);i=i.add(o.path.popLast());const d=G0(c);r+=d-a.size,t.push(this.cr.addEntry(e,o,c))}else if(r-=a.size,this.trackRemovals){const c=lV(this.cr.serializer,s.convertToNoDocument(Qe.min()));t.push(this.cr.addEntry(e,o,c))}}),i.forEach(o=>{t.push(this.cr.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.cr.updateMetadata(e,r)),Q.waitFor(t)}getFromCache(e,t){return this.cr.sr(e,t).next(r=>(this.lr.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.cr.ar(e,t).next(({documents:r,ur:i})=>(i.forEach((o,s)=>{this.lr.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function OV(n){return Ur(n,"remoteDocumentGlobal")}function pu(n){return Ur(n,"remoteDocumentsV14")}function wm(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function xV(n,e){const t=e.documentKey.path.toArray();return[n,U0(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function kV(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=ft(t[o],r[o]),i)return i;return i=ft(t.length,r.length),i||(i=ft(t[t.length-2],r[r.length-2]),i||ft(t[t.length-1],r[r.length-1]))}class ZY{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class FV{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&fm(r.mutation,i,uo.empty(),Qn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ct()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ct()){const i=qs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=um();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const r=qs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ct()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=ho();const s=dm(),a=dm();return t.forEach((c,d)=>{const f=r.get(d.key);i.has(d.key)&&(void 0===f||f.mutation instanceof La)?o=o.insert(d.key,d):void 0!==f?(s.set(d.key,f.mutation.getFieldMask()),fm(f.mutation,d,f.mutation.getFieldMask(),Qn.now())):s.set(d.key,uo.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((d,f)=>s.set(d,f)),t.forEach((d,f)=>{var m;return a.set(d,new ZY(f,null!==(m=s.get(d))&&void 0!==m?m:null))}),a))}recalculateAndSaveOverlays(e,t){const r=dm();let i=new Vn((s,a)=>s-a),o=Ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(c=>{const d=t.get(c);if(null===d)return;let f=r.get(c)||uo.empty();f=a.applyToLocalView(d,f),r.set(c,f);const m=(i.get(a.batchId)||Ct()).add(c);i=i.insert(a.batchId,m)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),d=c.key,f=c.value,m=CF();f.forEach(y=>{if(!o.has(y)){const b=OF(t.get(y),r.get(y));null!==b&&m.set(y,b),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,m))}return Q.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return Fe.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):PT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var s}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):Q.resolve(qs());let a=-1,c=o;return s.next(d=>Q.forEach(d,(f,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),o.get(f)?Q.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{c=c.insert(f,y)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,c,d,Ct())).next(f=>({batchId:a,changes:TF(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Fe(t)).next(r=>{let i=um();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let s=um();return this.indexManager.getCollectionParents(e,o).next(a=>Q.forEach(a,c=>{const d=(m=t,y=c.child(o),new Fa(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt));var m,y;return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(f=>{f.forEach((m,y)=>{s=s.insert(m,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,d)=>{const f=d.getKey();null===s.get(f)&&(s=s.insert(f,zn.newInvalidDocument(f)))});let a=um();return s.forEach((c,d)=>{const f=o.get(c);void 0!==f&&fm(f.mutation,d,uo.empty(),Qn.now()),lm(t,d)&&(a=a.insert(c,d))}),a})}}class XY{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Q.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,{id:(i=t).id,version:i.version,createTime:Er(i.createTime)}),Q.resolve();var i}getNamedQuery(e,t){return Q.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,{name:(i=t).name,query:WT(i.bundledQuery),readTime:Er(i.readTime)}),Q.resolve();var i}}class eJ{constructor(){this.overlays=new Vn(Fe.comparator),this.Ir=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const r=qs();return Q.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),Q.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ir.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),Q.resolve()}getOverlaysForCollection(e,t,r){const i=qs(),o=t.length+1,s=new Fe(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,d=c.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Vn((d,f)=>d-f);const s=this.overlays.getIterator();for(;s.hasNext();){const d=s.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let f=o.get(d.largestBatchId);null===f&&(f=qs(),o=o.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const a=qs(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,f)=>a.set(d,f)),!(a.size()>=i)););return Q.resolve(a)}ht(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new BT(t,r));let o=this.Ir.get(t);void 0===o&&(o=Ct(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}}class tJ{constructor(){this.sessionToken=fr.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}class XT{constructor(){this.Tr=new bn(Xr.Er),this.dr=new bn(Xr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const r=new Xr(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Xr(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){const t=new Fe(new Ut([])),r=new Xr(t,e),i=new Xr(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Fe(new Ut([])),r=new Xr(t,e),i=new Xr(t,e+1);let o=Ct();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Xr(e,0),r=this.Tr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Xr{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Fe.comparator(e.key,t.key)||ft(e.wr,t.wr)}static Ar(e,t){return ft(e.wr,t.wr)||Fe.comparator(e.key,t.key)}}class nJ{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new bn(Xr.Er)}checkEmpty(e){return Q.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const o=this.Sr;this.Sr++;const s=new VT(o,t,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new Xr(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(s)}lookupMutationBatch(e,t){return Q.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.vr(t+1),o=i<0?0:i;return Q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Xr(t,0),i=new Xr(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),Q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new bn(ft);return t.forEach(i=>{const o=new Xr(i,0),s=new Xr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),Q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;Fe.isDocumentKey(o)||(o=o.child(""));const s=new Xr(new Fe(o),0);let a=new bn(ft);return this.br.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(c.wr)),!0)},s),Q.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(r=>{const i=this.Dr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){qe(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.br;return Q.forEach(t.mutations,i=>{const o=new Xr(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){const r=new Xr(t,0),i=this.br.firstAfterOrEqual(r);return Q.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Q.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class rJ{constructor(e){this.Mr=e,this.docs=new Vn(Fe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Q.resolve(r?r.document.mutableCopy():zn.newInvalidDocument(t))}getEntries(e,t){let r=ho();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():zn.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=ho();const s=t.path,a=new Fe(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:d,value:{document:f}}=c.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||IT(Ok(f),r)<=0||(i.has(f.key)||lm(t,f))&&(o=o.insert(f.key,f.mutableCopy()))}return Q.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ze()}Or(e,t){return Q.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new iJ(this)}getSize(e){return Q.resolve(this.size)}}class iJ extends NV{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Q.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class oJ{constructor(e){this.persistence=e,this.Nr=new Va(t=>ou(t),am),this.lastRemoteSnapshotVersion=Qe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new XT,this.targetCount=0,this.kr=fu.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),Q.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new fu(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.Kn(t),Q.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Q.waitFor(o).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const r=this.Nr.get(t)||null;return Q.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),Q.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),Q.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.yr(t);return Q.resolve(r)}containsKey(e,t){return Q.resolve(this.Br.containsKey(t))}}class eC{constructor(e,t){this.qr={},this.overlays={},this.Qr=new No(0),this.Kr=!1,this.Kr=!0,this.$r=new tJ,this.referenceDelegate=e(this),this.Ur=new oJ(this),this.indexManager=new GY,this.remoteDocumentCache=new rJ(r=>this.referenceDelegate.Wr(r)),this.serializer=new cV(t),this.Gr=new XY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new eJ,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new nJ(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){Ie("MemoryPersistence","Starting transaction:",e);const i=new sJ(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return Q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}}class sJ extends kk{constructor(e){super(),this.currentSequenceNumber=e}}class q0{constructor(e){this.persistence=e,this.Jr=new XT,this.Yr=null}static Zr(e){return new q0(e)}get Xr(){if(this.Yr)return this.Yr;throw ze()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),Q.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,r=>{const i=Fe.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,Qe.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return Q.or([()=>Q.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class aJ{constructor(e){this.serializer=e}O(e,t,r,i){const o=new E0("createOrUpgrade",t);var c;r<1&&i>=1&&(e.createObjectStore("owner"),(c=e).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Uk,{unique:!0}),c.createObjectStore("documentMutations"),VV(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=Q.resolve();return r<3&&i>=3&&(0!==r&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),VV(e)),s=s.next(()=>function(c){const d=c.store("targetGlobal"),f={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Qe.min().toTimestamp(),targetCount:0};return d.put("targetGlobalKey",f)}(o))),r<4&&i>=4&&(0!==r&&(s=s.next(()=>function(c,d){return d.store("mutations").U().next(f=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Uk,{unique:!0});const m=d.store("mutations"),y=f.map(b=>m.put(b));return Q.waitFor(y)})}(e,o))),s=s.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(s=s.next(()=>this.ni(o))),r<6&&i>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.ri(o)))),r<7&&i>=7&&(s=s.next(()=>this.ii(o))),r<8&&i>=8&&(s=s.next(()=>this.si(e,o))),r<9&&i>=9&&(s=s.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(s=s.next(()=>this.oi(o))),r<11&&i>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{!function(c){const d=c.createObjectStore("documentOverlays",{keyPath:GQ});d.createIndex("collectionPathOverlayIndex",zQ,{unique:!1}),d.createIndex("collectionGroupOverlayIndex",WQ,{unique:!1})}(e)})),r<13&&i>=13&&(s=s.next(()=>function(c){const d=c.createObjectStore("remoteDocumentsV14",{keyPath:OQ});d.createIndex("documentKeyIndex",xQ),d.createIndex("collectionGroupIndex",kQ)}(e)).next(()=>this._i(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.ai(e,o))),r<15&&i>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:UQ}).createIndex("sequenceNumberIndex",jQ,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:$Q}).createIndex("documentKeyIndex",HQ,{unique:!1})}(e))),r<16&&i>=16&&(s=s.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),r<17&&i>=17&&(s=s.next(()=>{!function(c){c.createObjectStore("globals",{keyPath:"name"})}(e)})),s}ri(e){let t=0;return e.store("remoteDocuments").J((r,i)=>{t+=G0(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.U().next(i=>Q.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",s).next(a=>Q.forEach(a,c=>{qe(c.userId===o.userId);const d=uu(this.serializer,c);return TV(e,o.userId,d).next(()=>{})}))}))}ii(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.J((s,a)=>{const c=new Ut(s),d=[0,Ri(c)];o.push(t.get(d).next(f=>f?Q.resolve():t.put({targetId:0,path:Ri(c),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>Q.waitFor(o))})}si(e,t){e.createObjectStore("collectionParents",{keyPath:BQ});const r=t.store("collectionParents"),i=new ZT,o=s=>{if(i.add(s)){const a=s.lastSegment(),c=s.popLast();return r.put({collectionId:a,parent:Ri(c)})}};return t.store("remoteDocuments").J({H:!0},(s,a)=>{const c=new Ut(s);return o(c.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([s,a,c],d)=>{const f=zs(a);return o(f.popLast())}))}oi(e){const t=e.store("targets");return t.J((r,i)=>{const o=vm(i),s=uV(this.serializer,o);return t.put(s)})}_i(e,t){const r=t.store("remoteDocuments"),i=[];return r.J((o,s)=>{const a=t.store("remoteDocumentsV14"),c=(m=s,m.document?new Fe(Ut.fromString(m.document.name).popFirst(5)):m.noDocument?Fe.fromSegments(m.noDocument.path):m.unknownDocument?Fe.fromSegments(m.unknownDocument.path):ze()).path.toArray(),d={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var m;i.push(a.put(d))}).next(()=>Q.waitFor(i))}ai(e,t){const r=t.store("mutations"),i=PV(this.serializer),o=new eC(q0.Zr,this.serializer.ct);return r.U().next(s=>{const a=new Map;return s.forEach(c=>{var d;let f=null!==(d=a.get(c.userId))&&void 0!==d?d:Ct();uu(this.serializer,c).keys().forEach(m=>f=f.add(m)),a.set(c.userId,f)}),Q.forEach(a,(c,d)=>{const f=new Jr(d),m=j0.lt(this.serializer,f),y=o.getIndexManager(f),b=z0.lt(f,this.serializer,y,o.referenceDelegate);return new FV(i,b,m,y).recalculateAndSaveOverlaysForDocumentKeys(new CT(t,No.oe),c).next()})})}}function VV(n){n.createObjectStore("targetDocuments",{keyPath:VQ}).createIndex("documentTargetsIndex",LQ,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",FQ,{unique:!0}),n.createObjectStore("targetGlobal")}const tC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class nC{constructor(e,t,r,i,o,s,a,c,d,f,m=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ui=o,this.window=s,this.document=a,this.ci=d,this.li=f,this.hi=m,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=y=>Promise.resolve(),!nC.D())throw new _e(ie.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new QY(this,i),this.Ai=t+"main",this.serializer=new cV(c),this.Ri=new Gs(this.Ai,this.hi,new aJ(this.serializer)),this.$r=new LY,this.Ur=new WY(this.referenceDelegate,this.serializer),this.remoteDocumentCache=PV(this.serializer),this.Gr=new VY,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===f&&Ir("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _e(ie.FAILED_PRECONDITION,tC);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new No(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){var t=this;return this.di=function(){var r=(0,ue.A)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(function(){var t=(0,ue.A)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((0,ue.A)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Q0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(t=>{t||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(t=>this.isPrimary&&!t?this.bi(e).next(()=>!1):!!t&&this.Di(e).next(()=>!0))).catch(e=>{if(Sc(e))return Ie("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ie("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Tm(e).get("owner").next(t=>Q.resolve(this.vi(t)))}Ci(e){return Q0(e).delete(this.clientId)}Fi(){var e=this;return(0,ue.A)(function*(){if(e.isPrimary&&!e.Mi(e.Ei,18e5)){e.Ei=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Ur(r,"clientMetadata");return i.U().next(o=>{const s=e.xi(o,18e5),a=o.filter(c=>-1===s.indexOf(c));return Q.forEach(a,c=>i.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Vi)for(const r of t)e.Vi.removeItem(e.Oi(r.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?Q.resolve(!0):Tm(e).get("owner").next(t=>{if(null!==t&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)){if(this.vi(t)&&this.networkEnabled)return!0;if(!this.vi(t)){if(!t.allowTabSynchronization)throw new _e(ie.FAILED_PRECONDITION,tC);return!1}}return!(!this.networkEnabled||!this.inForeground)||Q0(e).U().next(r=>void 0===this.xi(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ie("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ue.A)(function*(){e.Kr=!1,e.Li(),e.Ti&&(e.Ti.cancel(),e.Ti=null),e.Bi(),e.ki(),yield e.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new CT(t,No.oe);return e.bi(r).next(()=>e.Ci(r))}),e.Ri.close(),e.qi()})()}xi(e,t){return e.filter(r=>this.Mi(r.updateTimeMs,t)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Q0(e).U().next(t=>this.xi(t,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,t){return z0.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new zY(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return j0.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,t,r){Ie("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",o=17===(c=this.hi)?QQ:16===c?KQ:15===c?TT:14===c?Gk:13===c?Hk:12===c?qQ:11===c?$k:void ze();var c;let s;return this.Ri.runTransaction(e,i,o,a=>(s=new CT(a,this.Qr?this.Qr.next():No.oe),"readwrite-primary"===t?this.wi(s).next(c=>!!c||this.Si(s)).next(c=>{if(!c)throw Ir(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new _e(ie.FAILED_PRECONDITION,xk);return r(s)}).next(c=>this.Di(s).next(()=>c)):this.Ki(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Ki(e){return Tm(e).get("owner").next(t=>{if(null!==t&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)&&!this.vi(t)&&!(this.li||this.allowTabSynchronization&&t.allowTabSynchronization))throw new _e(ie.FAILED_PRECONDITION,tC)})}Di(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Tm(e).put("owner",t)}static D(){return Gs.D()}bi(e){const t=Tm(e);return t.get("owner").next(r=>this.vi(r)?(Ie("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Q.resolve())}Mi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Ir(`Detected an update time that is in the future: ${e} > ${r}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const t=/(?:Version|Mobile)\/1[456]/;(0,on.nr)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var t;try{const r=null!==(null===(t=this.Vi)||void 0===t?void 0:t.getItem(this.Oi(e)));return Ie("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Ir("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Ir("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Tm(n){return Ur(n,"owner")}function Q0(n){return Ur(n,"clientMetadata")}function rC(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class iC{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=Ct(),i=Ct();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new iC(e,t.fromCache,r,i)}}class cJ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class LV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,on.nr)()?8:Fk((0,on.ZQ)())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new cJ;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(Mh()<=Hs.$b.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",Bh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(Mh()<=Hs.$b.DEBUG&&Ie("QueryEngine","Query:",Bh(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Mh()<=Hs.$b.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",Bh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(t))):Q.resolve())}Yi(e,t){if(_F(t))return Q.resolve(null);let r=Mi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=O0(t,null,"F"),r=Mi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ct(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.ts(t,a);return this.ns(t,d,s,c.readTime)?this.Yi(e,O0(t,null,"F")):this.rs(e,d,t,c)}))})))}Zi(e,t,r,i){return _F(t)||i.isEqual(Qe.min())?Q.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(t,o);return this.ns(t,s,r,i)?Q.resolve(null):(Mh()<=Hs.$b.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Bh(t)),this.rs(e,s,t,Pk(i,-1)).next(a=>a))})}ts(e,t){let r=new bn(EF(e));return t.forEach((i,o)=>{lm(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return Mh()<=Hs.$b.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",Bh(t)),this.Ji.getDocumentsMatchingQuery(e,t,Mo.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class lJ{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Vn(ft),this._s=new Va(o=>ou(o),am),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function BV(n,e,t,r){return new lJ(n,e,t,r)}function UV(n,e){return oC.apply(this,arguments)}function oC(){return(oC=(0,ue.A)(function*(n,e){const t=Ne(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let c=Ct();for(const d of i){s.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}for(const d of o){a.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}return t.localDocuments.getDocuments(r,c).next(d=>({hs:d,removedBatchIds:s,addedBatchIds:a}))})})})).apply(this,arguments)}function jV(n){const e=Ne(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function $V(n,e,t){let r=Ct(),i=Ct();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=ho();return t.forEach((a,c)=>{const d=o.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Qe.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||0===c.version.compareTo(d.version)&&d.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):Ie("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{Ps:s,Is:i}})}function hJ(n,e){const t=Ne(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Yh(n,e){const t=Ne(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,Q.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new Ba(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.os.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function Jh(n,e,t){return sC.apply(this,arguments)}function sC(){return(sC=(0,ue.A)(function*(n,e,t){const r=Ne(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Sc(s))throw s;Ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})).apply(this,arguments)}function Y0(n,e,t){const r=Ne(n);let i=Qe.min(),o=Ct();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,d,f){const m=Ne(c),y=m._s.get(f);return void 0!==y?Q.resolve(m.os.get(y)):m.Ur.getTargetData(d,f)}(r,s,Mi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:Qe.min(),t?o:Ct())).next(a=>(zV(r,IF(e),a),{documents:a,Ts:o})))}function HV(n,e){const t=Ne(n),r=Ne(t.Ur),i=t.os.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.ot(o,e).next(s=>s?s.target:null))}function GV(n,e){const t=Ne(n),r=t.us.get(e)||Qe.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.cs.getAllFromCollectionGroup(i,e,Pk(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(zV(t,e,i),i))}function zV(n,e,t){let r=n.us.get(e)||Qe.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}function aC(){return(aC=(0,ue.A)(function*(n,e,t,r){const i=Ne(n);let o=Ct(),s=ho();for(const d of t){const f=e.Es(d.metadata.name);d.document&&(o=o.add(f));const m=e.ds(d);m.setReadTime(e.As(d.metadata.readTime)),s=s.insert(f,m)}const a=i.cs.newChangeBuffer({trackRemovals:!0}),c=yield Yh(i,(f=r,Mi(Vh(Ut.fromString(`__bundle__/docs/${f}`)))));var f;return i.persistence.runTransaction("Apply bundle documents","readwrite",d=>$V(d,a,s).next(f=>(a.apply(d),f)).next(f=>i.Ur.removeMatchingKeysForTargetId(d,c.targetId).next(()=>i.Ur.addMatchingKeys(d,o,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(d,f.Ps,f.Is)).next(()=>f.Ps)))})).apply(this,arguments)}function pJ(n,e){return cC.apply(this,arguments)}function cC(){return(cC=(0,ue.A)(function*(n,e,t=Ct()){const r=yield Yh(n,Mi(WT(e.bundledQuery))),i=Ne(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const s=Er(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Gr.saveNamedQuery(o,e);const a=r.withResumeToken(fr.EMPTY_BYTE_STRING,s);return i.os=i.os.insert(a.targetId,a),i.Ur.updateTargetData(o,a).next(()=>i.Ur.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Ur.addMatchingKeys(o,t,r.targetId)).next(()=>i.Gr.saveNamedQuery(o,e))})})).apply(this,arguments)}function WV(n,e){return`firestore_clients_${n}_${e}`}function qV(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function lC(n,e){return`firestore_targets_${n}_${e}`}class J0{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Rs(e,t,r){const i=JSON.parse(r);let o,s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(o=new _e(i.error.code,i.error.message))),s?new J0(e,t,i.state,o):(Ir("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Cm{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Rs(e,t){const r=JSON.parse(t);let i,o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new _e(r.error.code,r.error.message))),o?new Cm(e,r.state,i):(Ir("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Z0{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Rs(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,o=xT();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=Lk(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new Z0(e,o):(Ir("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class uC{constructor(e,t){this.clientId=e,this.onlineState=t}static Rs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new uC(t.clientId,t.onlineState):(Ir("SharedClientState",`Failed to parse online state: ${e}`),null)}}class dC{constructor(){this.activeTargetIds=xT()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hC{constructor(e,t,r,i,o){this.window=e,this.ui=t,this.persistenceKey=r,this.ps=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Vn(ft),this.started=!1,this.bs=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Ds=WV(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new dC),this.Cs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ue.A)(function*(){const t=yield e.syncEngine.Qi();for(const i of t){if(i===e.ps)continue;const o=e.getItem(WV(e.persistenceKey,i));if(o){const s=Z0.Rs(i,o);s&&(e.Ss=e.Ss.insert(s.clientId,s))}}e.Ns();const r=e.storage.getItem(e.xs);if(r){const i=e.Ls(r);i&&e.Bs(i)}for(const i of e.bs)e.ws(i);e.bs=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let t=!1;return this.Ss.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,t,r){this.qs(e,t,r),this.Qs(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(lC(this.persistenceKey,e));if(i){const o=Cm.Rs(e,i);o&&(r=o.state)}}return t&&this.Ks.fs(e),this.Ns(),r}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(lC(this.persistenceKey,e))}updateQueryState(e,t,r){this.$s(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Qs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ie("SharedClientState","READ",e,t),t}setItem(e,t){Ie("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ie("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ie("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Ds)return void Ir("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,ue.A)(function*(){if(t.started){if(null!==r.key)if(t.Cs.test(r.key)){if(null==r.newValue){const i=t.Gs(r.key);return t.zs(i,null)}{const i=t.js(r.key,r.newValue);if(i)return t.zs(i.clientId,i)}}else if(t.Fs.test(r.key)){if(null!==r.newValue){const i=t.Hs(r.key,r.newValue);if(i)return t.Js(i)}}else if(t.Ms.test(r.key)){if(null!==r.newValue){const i=t.Ys(r.key,r.newValue);if(i)return t.Zs(i)}}else if(r.key===t.xs){if(null!==r.newValue){const i=t.Ls(r.newValue);if(i)return t.Bs(i)}}else if(r.key===t.vs){const i=function(s){let a=No.oe;if(null!=s)try{const c=JSON.parse(s);qe("number"==typeof c),a=c}catch(c){Ir("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(r.newValue);i!==No.oe&&t.sequenceNumberHandler(i)}else if(r.key===t.Os){const i=t.Xs(r.newValue);yield Promise.all(i.map(o=>t.syncEngine.eo(o)))}}else t.bs.push(r)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,t,r){const i=new J0(this.currentUser,e,t,r),o=qV(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Vs())}Qs(e){const t=qV(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Us(e){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:e}))}$s(e,t,r){const i=lC(this.persistenceKey,e),o=new Cm(e,t,r);this.setItem(i,o.Vs())}Ws(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Os,t)}Gs(e){const t=this.Cs.exec(e);return t?t[1]:null}js(e,t){const r=this.Gs(e);return Z0.Rs(r,t)}Hs(e,t){const r=this.Fs.exec(e),i=Number(r[1]);return J0.Rs(new Jr(void 0!==r[2]?r[2]:null),i,t)}Ys(e,t){const r=this.Ms.exec(e),i=Number(r[1]);return Cm.Rs(i,t)}Ls(e){return uC.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){var t=this;return(0,ue.A)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.no(e.batchId,e.state,e.error);Ie("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,t){const r=t?this.Ss.insert(e,t):this.Ss.remove(e),i=this.ks(this.Ss),o=this.ks(r),s=[],a=[];return o.forEach(c=>{i.has(c)||s.push(c)}),i.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.io(s,a).then(()=>{this.Ss=r})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let t=xT();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class KV{constructor(){this.so=new dC,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new dC,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gJ{_o(e){}shutdown(){}}class QV{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let X0=null;function fC(){return null===X0?X0=268435456+Math.round(2147483648*Math.random()):X0++,"0x"+X0.toString(16)}const mJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _J{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Pi="WebChannelConnection";class yJ extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){const a=fC(),c=this.xo(t,r.toUriEncodedString());Ie("RestConnection",`Sending RPC '${t}' ${a}:`,c,i);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,o,s),this.No(t,c,d,i).then(f=>(Ie("RestConnection",`Received RPC '${t}' ${a}: `,f),f),f=>{throw Ro("RestConnection",`RPC '${t}' ${a} failed with error: `,f,"url: ",c,"request:",i),f})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Rh,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){return`${this.Do}/v1/${r}:${mJ[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){const o=fC();return new Promise((s,a)=>{const c=new Ek;c.setWithCredentials(!0),c.listenOnce(wk.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case I0.NO_ERROR:const f=c.getResponseJson();Ie(Pi,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case I0.TIMEOUT:Ie(Pi,`RPC '${e}' ${o} timed out`),a(new _e(ie.DEADLINE_EXCEEDED,"Request time out"));break;case I0.HTTP_ERROR:const m=c.getStatus();if(Ie(Pi,`RPC '${e}' ${o} failed with status:`,m,"response text:",c.getResponseText()),m>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const b=y?.error;if(b&&b.status&&b.message){const w=function(S){const j=S.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(j)>=0?j:ie.UNKNOWN}(b.status);a(new _e(w,b.message))}else a(new _e(ie.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new _e(ie.UNAVAILABLE,"Connection failed."));break;default:ze()}}finally{Ie(Pi,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);Ie(Pi,`RPC '${e}' ${o} sending request:`,i),c.send(t,"POST",d,r,15)})}Bo(e,t,r){const i=fC(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Dk(),a=Ck(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;void 0!==d&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const f=o.join("");Ie(Pi,`Creating RPC '${e}' stream ${i}: ${f}`,c);const m=s.createWebChannel(f,c);let y=!1,b=!1;const w=new _J({Io:S=>{b?Ie(Pi,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(y||(Ie(Pi,`Opening RPC '${e}' stream ${i} transport.`),m.open(),y=!0),Ie(Pi,`RPC '${e}' stream ${i} sending:`,S),m.send(S))},To:()=>m.close()}),D=(S,j,O)=>{S.listen(j,J=>{try{O(J)}catch(re){setTimeout(()=>{throw re},0)}})};return D(m,Jg.EventType.OPEN,()=>{b||(Ie(Pi,`RPC '${e}' stream ${i} transport opened.`),w.yo())}),D(m,Jg.EventType.CLOSE,()=>{b||(b=!0,Ie(Pi,`RPC '${e}' stream ${i} transport closed`),w.So())}),D(m,Jg.EventType.ERROR,S=>{b||(b=!0,Ro(Pi,`RPC '${e}' stream ${i} transport errored:`,S),w.So(new _e(ie.UNAVAILABLE,"The operation could not be completed")))}),D(m,Jg.EventType.MESSAGE,S=>{var j;if(!b){const O=S.data[0];qe(!!O);const re=O.error||(null===(j=O[0])||void 0===j?void 0:j.error);if(re){Ie(Pi,`RPC '${e}' stream ${i} received error:`,re);const pe=re.status;let Ae=function(P){const L=Rr[P];if(void 0!==L)return UF(L)}(pe),k=re.message;void 0===Ae&&(Ae=ie.INTERNAL,k="Unknown error status: "+pe+" with message "+re.message),b=!0,w.So(new _e(Ae,k)),m.close()}else Ie(Pi,`RPC '${e}' stream ${i} received:`,O),w.bo(O)}}),D(a,Tk.STAT_EVENT,S=>{S.stat===yT.PROXY?Ie(Pi,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===yT.NOPROXY&&Ie(Pi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function YV(){return typeof window<"u"?window:null}function e1(){return typeof document<"u"?document:null}function Dm(n){return new DY(n,!0)}class pC{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&Ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class JV{constructor(e,t,r,i,o,s,a,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new pC(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,ue.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,ue.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){var r=this;return(0,ue.A)(function*(){r.u_(),r.c_(),r.t_.cancel(),r.Yo++,4!==e?r.t_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Ir(t.toString()),Ir("Using maximum backoff delay to prevent overloading the backend."),r.t_.Wo()):t&&t.code===ie.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.l_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.mo(t)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{const i=new _e(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){const r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>1==++this.e_?this.E_(i):this.onNext(i))})}i_(){var e=this;this.state=5,this.t_.Go((0,ue.A)(function*(){e.state=0,e.start()}))}I_(e){return Ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(Ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vJ extends JV{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function RY(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(d=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===d?1:"REMOVE"===d?2:"CURRENT"===d?3:"RESET"===d?4:ze(),i=e.targetChange.targetIds||[],o=function(d,f){return d.useProto3Json?(qe(void 0===f||"string"==typeof f),fr.fromBase64String(f||"")):(qe(void 0===f||f instanceof Buffer||f instanceof Uint8Array),fr.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(d){const f=void 0===d.code?ie.UNKNOWN:UF(d.code);return new _e(f,d.message||"")}(s);t=new zF(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Ks(n,r.document.name),o=Er(r.document.updateTime),s=r.document.createTime?Er(r.document.createTime):Qe.min(),a=new ui({mapValue:{fields:r.document.fields}}),c=zn.newFoundDocument(i,o,s,a);t=new L0(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=Ks(n,r.document),o=r.readTime?Er(r.readTime):Qe.min(),s=zn.newNoDocument(i,o);t=new L0([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=Ks(n,r.document);t=new L0([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ze();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new bY(i,o);t=new GF(r.targetId,s)}}var d;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return Qe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Qe.min():s.readTime?Er(s.readTime):Qe.min()}(e);return this.listener.d_(t,r)}A_(e){const t={};t.database=GT(this.serializer),t.addTarget=function(o,s){let a;const c=s.target;if(a=N0(c)?{documents:nV(o,c)}:{query:B0(o,c)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=QF(o,s.resumeToken);const d=jT(o,s.expectedCount);null!==d&&(a.expectedCount=d)}else if(s.snapshotVersion.compareTo(Qe.min())>0){a.readTime=Gh(o,s.snapshotVersion.toTimestamp());const d=jT(o,s.expectedCount);null!==d&&(a.expectedCount=d)}return a}(this.serializer,e);const r=function NY(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.a_(t)}R_(e){const t={};t.database=GT(this.serializer),t.removeTarget=e,this.a_(t)}}class bJ extends JV{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return qe(!!e.streamToken),this.lastStreamToken=e.streamToken,qe(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function MY(n,e){return n&&n.length>0?(qe(void 0!==e),n.map(t=>function(i,o){let s=Er(i.updateTime?i.updateTime:o);return s.isEqual(Qe.min())&&(s=Er(o)),new _Y(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Er(e.commitTime);return this.listener.g_(r,t)}p_(){const e={};e.database=GT(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>ym(this.serializer,r))};this.a_(t)}}class IJ extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new _e(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,HT(t,r),i,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new _e(ie.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,HT(t,r),i,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new _e(ie.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class EJ{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ir(t),this.D_=!1):Ie("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class wJ{constructor(e,t,r,i,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget((0,ue.A)(function*(){var c;Bc(s)&&(Ie("RemoteStore","Restarting streams for network reachability change."),yield(c=(0,ue.A)(function*(f){const m=Ne(f);m.L_.add(4),yield Zh(m),m.q_.set("Unknown"),m.L_.delete(4),yield Am(m)}),function d(f){return c.apply(this,arguments)})(s))}))}),this.q_=new EJ(r,i)}}function Am(n){return gC.apply(this,arguments)}function gC(){return(gC=(0,ue.A)(function*(n){if(Bc(n))for(const e of n.B_)yield e(!0)})).apply(this,arguments)}function Zh(n){return mC.apply(this,arguments)}function mC(){return(mC=(0,ue.A)(function*(n){for(const e of n.B_)yield e(!1)})).apply(this,arguments)}function t1(n,e){const t=Ne(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),vC(t)?yC(t):tf(t).r_()&&_C(t,e))}function Xh(n,e){const t=Ne(n),r=tf(t);t.N_.delete(e),r.r_()&&ZV(t,e),0===t.N_.size&&(r.r_()?r.o_():Bc(t)&&t.q_.set("Unknown"))}function _C(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}tf(n).A_(e)}function ZV(n,e){n.Q_.xe(e),tf(n).R_(e)}function yC(n){n.Q_=new EY({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),tf(n).start(),n.q_.v_()}function vC(n){return Bc(n)&&!tf(n).n_()&&n.N_.size>0}function Bc(n){return 0===Ne(n).L_.size}function XV(n){n.Q_=void 0}function TJ(n){return bC.apply(this,arguments)}function bC(){return(bC=(0,ue.A)(function*(n){n.q_.set("Online")})).apply(this,arguments)}function CJ(n){return IC.apply(this,arguments)}function IC(){return(IC=(0,ue.A)(function*(n){n.N_.forEach((e,t)=>{_C(n,e)})})).apply(this,arguments)}function DJ(n,e){return EC.apply(this,arguments)}function EC(){return(EC=(0,ue.A)(function*(n,e){XV(n),vC(n)?(n.q_.M_(e),yC(n)):n.q_.set("Unknown")})).apply(this,arguments)}function AJ(n,e,t){return wC.apply(this,arguments)}function wC(){return wC=(0,ue.A)(function*(n,e,t){if(n.q_.set("Online"),e instanceof zF&&2===e.state&&e.cause)try{yield(r=(0,ue.A)(function*(o,s){const a=s.cause;for(const c of s.targetIds)o.N_.has(c)&&(yield o.remoteSyncer.rejectListen(c,a),o.N_.delete(c),o.Q_.removeTarget(c))}),function i(o,s){return r.apply(this,arguments)})(n,e)}catch(r){Ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield n1(n,r)}else if(e instanceof L0?n.Q_.Ke(e):e instanceof GF?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Qe.min()))try{const r=yield jV(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const f=o.N_.get(d);f&&o.N_.set(d,f.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,d)=>{const f=o.N_.get(c);if(!f)return;o.N_.set(c,f.withResumeToken(fr.EMPTY_BYTE_STRING,f.snapshotVersion)),ZV(o,c);const m=new Ba(f.target,c,d,f.sequenceNumber);_C(o,m)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){Ie("RemoteStore","Failed to raise snapshot:",r),yield n1(n,r)}var r}),wC.apply(this,arguments)}function n1(n,e,t){return TC.apply(this,arguments)}function TC(){return(TC=(0,ue.A)(function*(n,e,t){if(!Sc(e))throw e;n.L_.add(1),yield Zh(n),n.q_.set("Offline"),t||(t=()=>jV(n.localStore)),n.asyncQueue.enqueueRetryable((0,ue.A)(function*(){Ie("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Am(n)}))})).apply(this,arguments)}function eL(n,e){return e().catch(t=>n1(n,t,e))}function ef(n){return CC.apply(this,arguments)}function CC(){return(CC=(0,ue.A)(function*(n){const e=Ne(n),t=Uc(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;SJ(e);)try{const i=yield hJ(e.localStore,r);if(null===i){0===e.O_.length&&t.o_();break}r=i.batchId,RJ(e,i)}catch(i){yield n1(e,i)}tL(e)&&nL(e)})).apply(this,arguments)}function SJ(n){return Bc(n)&&n.O_.length<10}function RJ(n,e){n.O_.push(e);const t=Uc(n);t.r_()&&t.V_&&t.m_(e.mutations)}function tL(n){return Bc(n)&&!Uc(n).n_()&&n.O_.length>0}function nL(n){Uc(n).start()}function MJ(n){return DC.apply(this,arguments)}function DC(){return(DC=(0,ue.A)(function*(n){Uc(n).p_()})).apply(this,arguments)}function NJ(n){return AC.apply(this,arguments)}function AC(){return(AC=(0,ue.A)(function*(n){const e=Uc(n);for(const t of n.O_)e.m_(t.mutations)})).apply(this,arguments)}function PJ(n,e,t){return SC.apply(this,arguments)}function SC(){return(SC=(0,ue.A)(function*(n,e,t){const r=n.O_.shift(),i=LT.from(r,e,t);yield eL(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield ef(n)})).apply(this,arguments)}function OJ(n,e){return RC.apply(this,arguments)}function RC(){return RC=(0,ue.A)(function*(n,e){var t;e&&Uc(n).V_&&(yield(t=(0,ue.A)(function*(i,o){if(BF(a=o.code)&&a!==ie.ABORTED){const s=i.O_.shift();Uc(i).s_(),yield eL(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield ef(i)}var a}),function r(i,o){return t.apply(this,arguments)})(n,e)),tL(n)&&nL(n)}),RC.apply(this,arguments)}function rL(n,e){return MC.apply(this,arguments)}function MC(){return(MC=(0,ue.A)(function*(n,e){const t=Ne(n);t.asyncQueue.verifyOperationInProgress(),Ie("RemoteStore","RemoteStore received new credentials");const r=Bc(t);t.L_.add(3),yield Zh(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Am(t)})).apply(this,arguments)}function NC(n,e){return PC.apply(this,arguments)}function PC(){return(PC=(0,ue.A)(function*(n,e){const t=Ne(n);e?(t.L_.delete(2),yield Am(t)):e||(t.L_.add(2),yield Zh(t),t.q_.set("Unknown"))})).apply(this,arguments)}function tf(n){return n.K_||(n.K_=function(t,r,i){const o=Ne(t);return o.w_(),new vJ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:TJ.bind(null,n),Ro:CJ.bind(null,n),mo:DJ.bind(null,n),d_:AJ.bind(null,n)}),n.B_.push(function(){var e=(0,ue.A)(function*(t){t?(n.K_.s_(),vC(n)?yC(n):n.q_.set("Unknown")):(yield n.K_.stop(),XV(n))});return function(t){return e.apply(this,arguments)}}())),n.K_}function Uc(n){return n.U_||(n.U_=function(t,r,i){const o=Ne(t);return o.w_(),new bJ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:MJ.bind(null,n),mo:OJ.bind(null,n),f_:NJ.bind(null,n),g_:PJ.bind(null,n)}),n.B_.push(function(){var e=(0,ue.A)(function*(t){t?(n.U_.s_(),yield ef(n)):(yield n.U_.stop(),n.O_.length>0&&(Ie("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))});return function(t){return e.apply(this,arguments)}}())),n.U_}class OC{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const s=Date.now()+r,a=new OC(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _e(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nf(n,e){if(Ir("AsyncQueue",`${e}: ${n}`),Sc(n))return new _e(ie.UNAVAILABLE,`${e}: ${n}`);throw n}class rf{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Fe.comparator(t.key,r.key):(t,r)=>Fe.comparator(t.key,r.key),this.keyedMap=um(),this.sortedSet=new Vn(this.comparator)}static emptySet(e){return new rf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof rf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new rf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class iL{constructor(){this.W_=new Vn(Fe.comparator)}track(e){const t=e.doc.key,r=this.W_.get(t);r?0!==e.type&&3===r.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==r.type?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.W_=this.W_.remove(t):1===e.type&&2===r.type?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ze():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}}class sf{constructor(e,t,r,i,o,s,a,c,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new sf(e,t,rf.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class xJ{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class kJ{constructor(){this.queries=oL(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(t,r){const i=Ne(t),o=i.queries;i.queries=oL(),o.forEach((s,a)=>{for(const c of a.j_)c.onError(r)})}(this,new _e(ie.ABORTED,"Firestore shutting down"))}}function oL(){return new Va(n=>bF(n),cm)}function xC(n,e){return kC.apply(this,arguments)}function kC(){return(kC=(0,ue.A)(function*(n,e){const t=Ne(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new xJ,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){const a=nf(s,`Initialization of query '${Bh(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&LC(t)})).apply(this,arguments)}function FC(n,e){return VC.apply(this,arguments)}function VC(){return(VC=(0,ue.A)(function*(n,e){const t=Ne(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),0===o.j_.length?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})).apply(this,arguments)}function FJ(n,e){const t=Ne(n);let r=!1;for(const i of e){const s=t.queries.get(i.query);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&LC(t)}function VJ(n,e,t){const r=Ne(n),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(t);r.queries.delete(e)}function LC(n){n.Y_.forEach(e=>{e.next()})}var BC,sL;(sL=BC||(BC={})).ea="default",sL.Cache="cache";class UC{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new sf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=sf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==BC.Cache}}class LJ{constructor(e,t){this.aa=e,this.byteLength=t}ua(){return"metadata"in this.aa}}class aL{constructor(e){this.serializer=e}Es(e){return Ks(this.serializer,e)}ds(e){return e.metadata.exists?tV(this.serializer,e.document,!1):zn.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Er(e)}}class BJ{constructor(e,t,r){this.ca=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=cL(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++t;const r=Ut.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ha(e){const t=new Map,r=new aL(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.Es(i.metadata.name);for(const s of i.metadata.queries){const a=(t.get(s)||Ct()).add(o);t.set(s,a)}}return t}complete(){var e=this;return(0,ue.A)(function*(){const t=yield function fJ(n,e,t,r){return aC.apply(this,arguments)}(e.localStore,new aL(e.serializer),e.documents,e.ca.id),r=e.ha(e.documents);for(const i of e.queries)yield pJ(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Pa:e.collectionGroups,Ia:t}})()}}function cL(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class lL{constructor(e){this.key=e}}class uL{constructor(e){this.key=e}}class dL{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ct(),this.mutatedKeys=Ct(),this.Aa=EF(e),this.Ra=new rf(this.Aa)}get Va(){return this.Ta}ma(e,t){const r=t?t.fa:new iL,i=t?t.Ra:this.Ra;let o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,d="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,m)=>{const y=i.get(f),b=lm(this.query,m)?m:null,w=!!y&&this.mutatedKeys.has(y.key),D=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let S=!1;y&&b?y.data.isEqual(b.data)?w!==D&&(r.track({type:3,doc:b}),S=!0):this.ga(y,b)||(r.track({type:2,doc:b}),S=!0,(c&&this.Aa(b,c)>0||d&&this.Aa(b,d)<0)&&(a=!0)):!y&&b?(r.track({type:0,doc:b}),S=!0):y&&!b&&(r.track({type:1,doc:y}),S=!0,(c||d)&&(a=!0)),S&&(b?(s=s.add(b),o=D?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const f="F"===this.query.limitType?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((f,m)=>function(b,w){const D=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze()}};return D(b)-D(w)}(f.type,m.type)||this.Aa(f.doc,m.doc)),this.pa(r),i=null!=i&&i;const a=t&&!i?this.ya():[],c=0===this.da.size&&this.current&&!i?1:0,d=c!==this.Ea;return this.Ea=c,0!==s.length||d?{snapshot:new sf(this.query,e.Ra,o,s,e.mutatedKeys,0===c,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new iL,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ct(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const t=[];return e.forEach(r=>{this.da.has(r)||t.push(new uL(r))}),this.da.forEach(r=>{e.has(r)||t.push(new lL(r))}),t}ba(e){this.Ta=e.Ts,this.da=Ct();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return sf.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class UJ{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class jJ{constructor(e){this.key=e,this.va=!1}}class $J{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Va(a=>bF(a),cm),this.Ma=new Map,this.xa=new Set,this.Oa=new Vn(Fe.comparator),this.Na=new Map,this.La=new XT,this.Ba={},this.ka=new Map,this.qa=fu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function HJ(n,e){return jC.apply(this,arguments)}function jC(){return(jC=(0,ue.A)(function*(n,e,t=!0){const r=r1(n);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield hL(r,e,t,!0),i})).apply(this,arguments)}function GJ(n,e){return $C.apply(this,arguments)}function $C(){return($C=(0,ue.A)(function*(n,e){const t=r1(n);yield hL(t,e,!0,!1)})).apply(this,arguments)}function hL(n,e,t,r){return HC.apply(this,arguments)}function HC(){return(HC=(0,ue.A)(function*(n,e,t,r){const i=yield Yh(n.localStore,Mi(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t);let a;return r&&(a=yield GC(n,e,o,"current"===s,i.resumeToken)),n.isPrimaryClient&&t&&t1(n.remoteStore,i),a})).apply(this,arguments)}function GC(n,e,t,r,i){return zC.apply(this,arguments)}function zC(){return zC=(0,ue.A)(function*(n,e,t,r,i){n.Ka=(m,y,b)=>{return(w=(0,ue.A)(function*(S,j,O,J){let re=j.view.ma(O);re.ns&&(re=yield Y0(S.localStore,j.query,!1).then(({documents:A})=>j.view.ma(A,re)));const pe=J&&J.targetChanges.get(j.targetId),Ae=J&&null!=J.targetMismatches.get(j.targetId),k=j.view.applyChanges(re,S.isPrimaryClient,pe,Ae);return nD(S,j.targetId,k.wa),k.snapshot}),function D(S,j,O,J){return w.apply(this,arguments)})(n,m,y,b);var w};const o=yield Y0(n.localStore,e,!0),s=new dL(e,o.Ts),a=s.ma(o.documents),c=mm.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),d=s.applyChanges(a,n.isPrimaryClient,c);nD(n,t,d.wa);const f=new UJ(e,t,s);return n.Fa.set(e,f),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),d.snapshot}),zC.apply(this,arguments)}function zJ(n,e,t){return WC.apply(this,arguments)}function WC(){return(WC=(0,ue.A)(function*(n,e,t){const r=Ne(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!cm(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Jh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Xh(r.remoteStore,i.targetId),af(r,i.targetId)}).catch(Ac))):(af(r,i.targetId),yield Jh(r.localStore,i.targetId,!0))})).apply(this,arguments)}function WJ(n,e){return qC.apply(this,arguments)}function qC(){return(qC=(0,ue.A)(function*(n,e){const t=Ne(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&1===i.length&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Xh(t.remoteStore,r.targetId))})).apply(this,arguments)}function KC(){return(KC=(0,ue.A)(function*(n,e,t){const r=fD(n);try{const i=yield function(s,a){const c=Ne(s),d=Qn.now(),f=a.reduce((b,w)=>b.add(w.key),Ct());let m,y;return c.persistence.runTransaction("Locally write mutations","readwrite",b=>{let w=ho(),D=Ct();return c.cs.getEntries(b,f).next(S=>{w=S,w.forEach((j,O)=>{O.isValidDocument()||(D=D.add(j))})}).next(()=>c.localDocuments.getOverlayedDocuments(b,w)).next(S=>{m=S;const j=[];for(const O of a){const J=vY(O,m.get(O.key).overlayedDocument);null!=J&&j.push(new La(O.key,J,iF(J.value.mapValue),Jn.exists(!0)))}return c.mutationQueue.addMutationBatch(b,d,j,a)}).next(S=>{y=S;const j=S.applyToLocalDocumentSet(m,D);return c.documentOverlayCache.saveOverlays(b,S.batchId,j)})}).then(()=>({batchId:y.batchId,changes:TF(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let d=s.Ba[s.currentUser.toKey()];d||(d=new Vn(ft)),d=d.insert(a,c),s.Ba[s.currentUser.toKey()]=d}(r,i.batchId,t),yield Ua(r,i.changes),yield ef(r.remoteStore)}catch(i){const o=nf(i,"Failed to persist write");t.reject(o)}})).apply(this,arguments)}function fL(n,e){return QC.apply(this,arguments)}function QC(){return(QC=(0,ue.A)(function*(n,e){const t=Ne(n);try{const r=yield function dJ(n,e){const t=Ne(n),r=e.snapshotVersion;let i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;const a=[];e.targetChanges.forEach((f,m)=>{const y=i.get(m);if(!y)return;a.push(t.Ur.removeMatchingKeys(o,f.removedDocuments,m).next(()=>t.Ur.addMatchingKeys(o,f.addedDocuments,m)));let b=y.withSequenceNumber(o.currentSequenceNumber);var D,S,j;null!==e.targetMismatches.get(m)?b=b.withResumeToken(fr.EMPTY_BYTE_STRING,Qe.min()).withLastLimboFreeSnapshotVersion(Qe.min()):f.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(f.resumeToken,r)),i=i.insert(m,b),S=b,j=f,(0===(D=y).resumeToken.approximateByteSize()||S.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8||j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0)&&a.push(t.Ur.updateTargetData(o,b))});let c=ho(),d=Ct();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,f))}),a.push($V(o,s,e.documentUpdates).next(f=>{c=f.Ps,d=f.Is})),!r.isEqual(Qe.min())){const f=t.Ur.getLastRemoteSnapshotVersion(o).next(m=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(f)}return Q.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,d)).next(()=>c)}).then(o=>(t.os=i,o))}(t.localStore,e);e.targetChanges.forEach((i,o)=>{const s=t.Na.get(o);s&&(qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?qe(s.va):i.removedDocuments.size>0&&(qe(s.va),s.va=!1))}),yield Ua(t,r,e)}catch(r){yield Ac(r)}})).apply(this,arguments)}function pL(n,e,t){const r=Ne(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const c=Ne(s);c.onlineState=a;let d=!1;c.queries.forEach((f,m)=>{for(const y of m.j_)y.Z_(a)&&(d=!0)}),d&&LC(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function KJ(n,e,t){return YC.apply(this,arguments)}function YC(){return(YC=(0,ue.A)(function*(n,e,t){const r=Ne(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new Vn(Fe.comparator);s=s.insert(o,zn.newNoDocument(o,Qe.min()));const a=Ct().add(o),c=new gm(Qe.min(),new Map,new Vn(ft),s,a);yield fL(r,c),r.Oa=r.Oa.remove(o),r.Na.delete(e),rD(r)}else yield Jh(r.localStore,e,!1).then(()=>af(r,e,t)).catch(Ac)})).apply(this,arguments)}function QJ(n,e){return JC.apply(this,arguments)}function JC(){return(JC=(0,ue.A)(function*(n,e){const t=Ne(n),r=e.batch.batchId;try{const i=yield function uJ(n,e){const t=Ne(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,d,f){const m=d.batch,y=m.keys();let b=Q.resolve();return y.forEach(w=>{b=b.next(()=>f.getEntry(c,w)).next(D=>{const S=d.docVersions.get(w);qe(null!==S),D.version.compareTo(S)<0&&(m.applyToRemoteDocument(D,d),D.isValidDocument()&&(D.setReadTime(d.commitVersion),f.addEntry(D)))})}),b.next(()=>a.mutationQueue.removeMutationBatch(c,m))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Ct();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);tD(t,r,null),eD(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ua(t,i)}catch(i){yield Ac(i)}})).apply(this,arguments)}function YJ(n,e,t){return ZC.apply(this,arguments)}function ZC(){return(ZC=(0,ue.A)(function*(n,e,t){const r=Ne(n);try{const i=yield function(s,a){const c=Ne(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return c.mutationQueue.lookupMutationBatch(d,a).next(m=>(qe(null!==m),f=m.keys(),c.mutationQueue.removeMutationBatch(d,m))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,f,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>c.localDocuments.getDocuments(d,f))})}(r.localStore,e);tD(r,e,t),eD(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ua(r,i)}catch(i){yield Ac(i)}})).apply(this,arguments)}function XC(){return(XC=(0,ue.A)(function*(n,e){const t=Ne(n);Bc(t.remoteStore)||Ie("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const a=Ne(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(t.localStore);if(-1===r)return void e.resolve();const i=t.ka.get(r)||[];i.push(e),t.ka.set(r,i)}catch(r){const i=nf(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}})).apply(this,arguments)}function eD(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function tD(n,e,t){const r=Ne(n);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function af(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||gL(n,r)})}function gL(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);null!==t&&(Xh(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),rD(n))}function nD(n,e,t){for(const r of t)r instanceof lL?(n.La.addReference(r.key,e),ZJ(n,r)):r instanceof uL?(Ie("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||gL(n,r.key)):ze()}function ZJ(n,e){const t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(Ie("SyncEngine","New document in limbo: "+t),n.xa.add(r),rD(n))}function rD(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new Fe(Ut.fromString(e)),r=n.qa.next();n.Na.set(r,new jJ(t)),n.Oa=n.Oa.insert(t,r),t1(n.remoteStore,new Ba(Mi(Vh(t.path)),r,"TargetPurposeLimboResolution",No.oe))}}function Ua(n,e,t){return iD.apply(this,arguments)}function iD(){return iD=(0,ue.A)(function*(n,e,t){const r=Ne(n),i=[],o=[],s=[];var a;r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{s.push(r.Ka(c,e,t).then(d=>{var f;if((d||t)&&r.isPrimaryClient){const m=d?!d.fromCache:null===(f=t?.targetChanges.get(c.targetId))||void 0===f?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){i.push(d);const m=iC.Wi(c.targetId,d);o.push(m)}}))}),yield Promise.all(s),r.Ca.d_(i),yield(a=(0,ue.A)(function*(d,f){const m=Ne(d);try{yield m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>Q.forEach(f,b=>Q.forEach(b.$i,w=>m.persistence.referenceDelegate.addReference(y,b.targetId,w)).next(()=>Q.forEach(b.Ui,w=>m.persistence.referenceDelegate.removeReference(y,b.targetId,w)))))}catch(y){if(!Sc(y))throw y;Ie("LocalStore","Failed to update sequence numbers: "+y)}for(const y of f){const b=y.targetId;if(!y.fromCache){const w=m.os.get(b),S=w.withLastLimboFreeSnapshotVersion(w.snapshotVersion);m.os=m.os.insert(b,S)}}}),function c(d,f){return a.apply(this,arguments)})(r.localStore,o))}),iD.apply(this,arguments)}function XJ(n,e){return oD.apply(this,arguments)}function oD(){return(oD=(0,ue.A)(function*(n,e){const t=Ne(n);if(!t.currentUser.isEqual(e)){Ie("SyncEngine","User change. New user:",e.toKey());const r=yield UV(t.localStore,e);t.currentUser=e,(o=t).ka.forEach(a=>{a.forEach(c=>{c.reject(new _e(ie.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ka.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ua(t,r.hs)}var o})).apply(this,arguments)}function eZ(n,e){const t=Ne(n),r=t.Na.get(e);if(r&&r.va)return Ct().add(r.key);{let i=Ct();const o=t.Ma.get(e);if(!o)return i;for(const s of o){const a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function tZ(n,e){return sD.apply(this,arguments)}function sD(){return(sD=(0,ue.A)(function*(n,e){const t=Ne(n),r=yield Y0(t.localStore,e.query,!0),i=e.view.ba(r);return t.isPrimaryClient&&nD(t,e.targetId,i.wa),i})).apply(this,arguments)}function nZ(n,e){return aD.apply(this,arguments)}function aD(){return(aD=(0,ue.A)(function*(n,e){const t=Ne(n);return GV(t.localStore,e).then(r=>Ua(t,r))})).apply(this,arguments)}function rZ(n,e,t,r){return cD.apply(this,arguments)}function cD(){return(cD=(0,ue.A)(function*(n,e,t,r){const i=Ne(n),o=yield function(a,c){const d=Ne(a),f=Ne(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",m=>f.Mn(m,c).next(y=>y?d.localDocuments.getDocuments(m,y):Q.resolve(null)))}(i.localStore,e);var c;null!==o?("pending"===t?yield ef(i.remoteStore):"acknowledged"===t||"rejected"===t?(tD(i,e,r||null),eD(i,e),c=e,Ne(Ne(i.localStore).mutationQueue).On(c)):ze(),yield Ua(i,o)):Ie("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function lD(){return(lD=(0,ue.A)(function*(n,e){const t=Ne(n);if(r1(t),fD(t),!0===e&&!0!==t.Qa){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield mL(t,r.toArray());t.Qa=!0,yield NC(t.remoteStore,!0);for(const o of i)t1(t.remoteStore,o)}else if(!1===e&&!1!==t.Qa){const r=[];let i=Promise.resolve();t.Ma.forEach((o,s)=>{t.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(af(t,s),Jh(t.localStore,s,!0))),Xh(t.remoteStore,s)}),yield i,yield mL(t,r),function(s){const a=Ne(s);a.Na.forEach((c,d)=>{Xh(a.remoteStore,d)}),a.La.pr(),a.Na=new Map,a.Oa=new Vn(Fe.comparator)}(t),t.Qa=!1,yield NC(t.remoteStore,!1)}})).apply(this,arguments)}function mL(n,e,t){return uD.apply(this,arguments)}function uD(){return(uD=(0,ue.A)(function*(n,e,t){const r=Ne(n),i=[],o=[];for(const s of e){let a;const c=r.Ma.get(s);if(c&&0!==c.length){a=yield Yh(r.localStore,Mi(c[0]));for(const d of c){const f=r.Fa.get(d),m=yield tZ(r,f);m.snapshot&&o.push(m.snapshot)}}else{const d=yield HV(r.localStore,s);a=yield Yh(r.localStore,d),yield GC(r,_L(d),s,!1,a.resumeToken)}i.push(a)}return r.Ca.d_(o),i})).apply(this,arguments)}function _L(n){return mF(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function oZ(n){return t=Ne(n).localStore,Ne(Ne(t).persistence).Qi();var t}function sZ(n,e,t,r){return dD.apply(this,arguments)}function dD(){return(dD=(0,ue.A)(function*(n,e,t,r){const i=Ne(n);if(i.Qa)return void Ie("SyncEngine","Ignoring unexpected query state notification.");const o=i.Ma.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const s=yield GV(i.localStore,IF(o[0])),a=gm.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,fr.EMPTY_BYTE_STRING);yield Ua(i,s,a);break}case"rejected":yield Jh(i.localStore,e,!0),af(i,e,r);break;default:ze()}})).apply(this,arguments)}function aZ(n,e,t){return hD.apply(this,arguments)}function hD(){return(hD=(0,ue.A)(function*(n,e,t){const r=r1(n);if(r.Qa){for(const i of e){if(r.Ma.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){Ie("SyncEngine","Adding an already active target "+i);continue}const o=yield HV(r.localStore,i),s=yield Yh(r.localStore,o);yield GC(r,_L(o),s.targetId,!1,s.resumeToken),t1(r.remoteStore,s)}for(const i of t)r.Ma.has(i)&&(yield Jh(r.localStore,i,!1).then(()=>{Xh(r.remoteStore,i),af(r,i)}).catch(Ac))}})).apply(this,arguments)}function r1(n){const e=Ne(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=fL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KJ.bind(null,e),e.Ca.d_=FJ.bind(null,e.eventManager),e.Ca.$a=VJ.bind(null,e.eventManager),e}function fD(n){const e=Ne(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YJ.bind(null,e),e}let cf=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){var r=this;return(0,ue.A)(function*(){r.serializer=Dm(t.databaseInfo.databaseId),r.sharedClientState=r.Wa(t),r.persistence=r.Ga(t),yield r.persistence.start(),r.localStore=r.za(t),r.gcScheduler=r.ja(t,r.localStore),r.indexBackfillerScheduler=r.Ha(t,r.localStore)})()}ja(t,r){return null}Ha(t,r){return null}za(t){return BV(this.persistence,new LV,t.initialUser,this.serializer)}Ga(t){return new eC(q0.Zr,this.serializer)}Wa(t){return new KV}terminate(){var t=this;return(0,ue.A)(function*(){var r,i;null===(r=t.gcScheduler)||void 0===r||r.stop(),null===(i=t.indexBackfillerScheduler)||void 0===i||i.stop(),t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}return n.provider={build:()=>new n},n})();class pD extends cf{constructor(e,t,r){super(),this.Ja=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ue.A)(function*(){yield t().call(r,e),yield r.Ja.initialize(r,e),yield fD(r.Ja.syncEngine),yield ef(r.Ja.remoteStore),yield r.persistence.yi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(e){return BV(this.persistence,new LV,e.initialUser,this.serializer)}ja(e,t){return new RV(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ha(e,t){const r=new MQ(t,this.persistence);return new RQ(e.asyncQueue,r)}Ga(e){const t=rC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ni.withCacheSize(this.cacheSizeBytes):Ni.DEFAULT;return new nC(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,YV(),e1(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new KV}}class yL extends pD{constructor(e,t){super(e,t,!1),this.Ja=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ue.A)(function*(){yield t().call(r,e);const i=r.Ja.syncEngine;r.sharedClientState instanceof hC&&(r.sharedClientState.syncEngine={no:rZ.bind(null,i),ro:sZ.bind(null,i),io:aZ.bind(null,i),Qi:oZ.bind(null,i),eo:nZ.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.yi(function(){var o=(0,ue.A)(function*(s){yield function iZ(n,e){return lD.apply(this,arguments)}(r.Ja.syncEngine,s),r.gcScheduler&&(s&&!r.gcScheduler.started?r.gcScheduler.start():s||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(s&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():s||r.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}Wa(e){const t=YV();if(!hC.D(t))throw new _e(ie.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=rC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new hC(t,e.asyncQueue,r,e.clientId,e.initialUser)}}let lf=(()=>{class n{initialize(t,r){var i=this;return(0,ue.A)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(r),i.remoteStore=i.createRemoteStore(r),i.eventManager=i.createEventManager(r),i.syncEngine=i.createSyncEngine(r,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=o=>pL(i.syncEngine,o,1),i.remoteStore.remoteSyncer.handleCredentialChange=XJ.bind(null,i.syncEngine),yield NC(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new kJ}createDatastore(t){const r=Dm(t.databaseInfo.databaseId),i=new yJ(t.databaseInfo);return new IJ(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return i=this.localStore,o=this.datastore,s=t.asyncQueue,a=r=>pL(this.syncEngine,r,0),c=QV.D()?new QV:new gJ,new wJ(i,o,s,a,c);var i,o,s,a,c}createSyncEngine(t,r){return function(o,s,a,c,d,f,m){const y=new $J(o,s,a,c,d,f);return m&&(y.Qa=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){var t=this;return(0,ue.A)(function*(){var r,i,o;yield(o=(0,ue.A)(function*(a){const c=Ne(a);Ie("RemoteStore","RemoteStore shutting down."),c.L_.add(5),yield Zh(c),c.k_.shutdown(),c.q_.set("Unknown")}),function s(a){return o.apply(this,arguments)})(t.remoteStore),null===(r=t.datastore)||void 0===r||r.terminate(),null===(i=t.eventManager)||void 0===i||i.terminate()})()}}return n.provider={build:()=>new n},n})();function vL(n,e=10240){let t=0;return{read:()=>(0,ue.A)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ue.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class i1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ir("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class uZ{constructor(e,t){this.Xa=e,this.serializer=t,this.metadata=new Zr,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(r=>{r&&r.ua()?this.metadata.resolve(r.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.aa)}`))},r=>this.metadata.reject(r))}close(){return this.Xa.cancel()}getMetadata(){var e=this;return(0,ue.A)(function*(){return e.metadata.promise})()}Ua(){var e=this;return(0,ue.A)(function*(){return yield e.getMetadata(),e.tu()})()}tu(){var e=this;return(0,ue.A)(function*(){const t=yield e.nu();if(null===t)return null;const r=e.eu.decode(t),i=Number(r);isNaN(i)&&e.ru(`length string (${r}) is not valid number`);const o=yield e.iu(i);return new LJ(JSON.parse(o),t.length+i)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}nu(){var e=this;return(0,ue.A)(function*(){for(;e.su()<0&&!(yield e.ou()););if(0===e.buffer.length)return null;const t=e.su();t<0&&e.ru("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}iu(e){var t=this;return(0,ue.A)(function*(){for(;t.buffer.length<e;)(yield t.ou())&&t.ru("Reached the end of bundle when more is expected.");const r=t.eu.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){var e=this;return(0,ue.A)(function*(){const t=yield e.Xa.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class dZ{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ue.A)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw t.lastTransactionError=new _e(ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),t.lastTransactionError;const r=yield(i=(0,ue.A)(function*(s,a){const c=Ne(s),d={documents:a.map(b=>_m(c.serializer,b))},f=yield c.Lo("BatchGetDocuments",c.serializer.databaseId,Ut.emptyPath(),d,a.length),m=new Map;f.forEach(b=>{const w=function SY(n,e){return"found"in e?function(r,i){qe(!!i.found);const o=Ks(r,i.found.name),s=Er(i.found.updateTime),a=i.found.createTime?Er(i.found.createTime):Qe.min(),c=new ui({mapValue:{fields:i.found.fields}});return zn.newFoundDocument(o,s,a,c)}(n,e):"missing"in e?function(r,i){qe(!!i.missing),qe(!!i.readTime);const o=Ks(r,i.missing),s=Er(i.readTime);return zn.newNoDocument(o,s)}(n,e):ze()}(c.serializer,b);m.set(w.key.toString(),w)});const y=[];return a.forEach(b=>{const w=m.get(b.toString());qe(!!w),y.push(w)}),y}),function o(s,a){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Hh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ue.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const o=Fe.fromPath(i);e.mutations.push(new FT(o,e.precondition(o)))}),yield(r=(0,ue.A)(function*(o,s){const a=Ne(o),c={writes:s.map(d=>ym(a.serializer,d))};yield a.Mo("Commit",a.serializer.databaseId,Ut.emptyPath(),c)}),function i(o,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ze();t=Qe.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new _e(ie.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Qe.min())?Jn.exists(!1):Jn.updateTime(t):Jn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Qe.min()))throw new _e(ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Jn.updateTime(t)}return Jn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class hZ{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this._u=r.maxAttempts,this.t_=new pC(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var e=this;this.t_.Go((0,ue.A)(function*(){const t=new dZ(e.datastore),r=e.cu(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(o=>{e.lu(o)}))}).catch(i=>{e.lu(i)})}))}cu(e){try{const t=this.updateFunction(e);return!em(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!BF(t)}return!1}}class fZ{constructor(e,t,r,i,o){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Jr.UNAUTHENTICATED,this.clientId=Mk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,function(){var a=(0,ue.A)(function*(c){Ie("FirestoreClient","Received user=",c.uid),yield s.authCredentialListener(c),s.user=c});return function(c){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(r,a=>(Ie("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ue.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=nf(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function gD(n,e){return mD.apply(this,arguments)}function mD(){return mD=(0,ue.A)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ie("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ue.A)(function*(o){r.isEqual(o)||(yield UV(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),mD.apply(this,arguments)}function bL(n,e){return _D.apply(this,arguments)}function _D(){return(_D=(0,ue.A)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield yD(n);Ie("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>rL(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>rL(e.remoteStore,i)),n._onlineComponents=e})).apply(this,arguments)}function yD(n){return vD.apply(this,arguments)}function vD(){return(vD=(0,ue.A)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ie("FirestoreClient","Using user provided OfflineComponentProvider");try{yield gD(n,n._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(i=e).name?i.code===ie.FAILED_PRECONDITION||i.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code))throw e;Ro("Error using user provided cache. Falling back to memory cache: "+e),yield gD(n,new cf)}}else Ie("FirestoreClient","Using default OfflineComponentProvider"),yield gD(n,new cf);var i;return n._offlineComponents})).apply(this,arguments)}function o1(n){return bD.apply(this,arguments)}function bD(){return(bD=(0,ue.A)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ie("FirestoreClient","Using user provided OnlineComponentProvider"),yield bL(n,n._uninitializedComponentsProvider._online)):(Ie("FirestoreClient","Using default OnlineComponentProvider"),yield bL(n,new lf))),n._onlineComponents})).apply(this,arguments)}function IL(n){return yD(n).then(e=>e.persistence)}function uf(n){return yD(n).then(e=>e.localStore)}function EL(n){return o1(n).then(e=>e.remoteStore)}function ID(n){return o1(n).then(e=>e.syncEngine)}function df(n){return ED.apply(this,arguments)}function ED(){return(ED=(0,ue.A)(function*(n){const e=yield o1(n),t=e.eventManager;return t.onListen=HJ.bind(null,e.syncEngine),t.onUnlisten=zJ.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=GJ.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=WJ.bind(null,e.syncEngine),t})).apply(this,arguments)}function TL(n,e,t={}){const r=new Zr;return n.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return function(o,s,a,c,d){const f=new i1({next:y=>{f.Za(),s.enqueueAndForget(()=>FC(o,m));const b=y.docs.has(a);!b&&y.fromCache?d.reject(new _e(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&y.fromCache&&c&&"server"===c.source?d.reject(new _e(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:y=>d.reject(y)}),m=new UC(Vh(a.path),f,{includeMetadataChanges:!0,_a:!0});return xC(o,m)}(yield df(n),n.asyncQueue,e,t,r)})),r.promise}function CL(n,e,t={}){const r=new Zr;return n.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return function(o,s,a,c,d){const f=new i1({next:y=>{f.Za(),s.enqueueAndForget(()=>FC(o,m)),y.fromCache&&"server"===c.source?d.reject(new _e(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(y)},error:y=>d.reject(y)}),m=new UC(a,f,{includeMetadataChanges:!0,_a:!0});return xC(o,m)}(yield df(n),n.asyncQueue,e,t,r)})),r.promise}function DL(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const AL=new Map;function wD(n,e,t){if(!t)throw new _e(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function SL(n,e,t,r){if(!0===e&&!0===r)throw new _e(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function RL(n){if(!Fe.isDocumentKey(n))throw new _e(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ML(n){if(Fe.isDocumentKey(n))throw new _e(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function s1(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":ze()}function kt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _e(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=s1(n);throw new _e(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function NL(n,e){if(e<=0)throw new _e(ie.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class PL{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new _e(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new _e(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=DL(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new _e(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new _e(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new _e(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sm{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PL({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new _e(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PL(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new _Q;switch(r.type){case"firstParty":return new IQ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,ue.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=AL.get(t);r&&(Ie("ComponentProvider","Removing Datastore"),AL.delete(t),r.terminate())}(this),Promise.resolve()}}class di{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new di(this.firestore,e,this._query)}}class Wn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}}class Qs extends di{constructor(e,t,r){super(e,t,Vh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new Fe(e))}withConverter(e){return new Qs(this.firestore,e,this._path)}}function xL(n,e,...t){if(n=(0,on.Ku)(n),wD("collection","path",e),n instanceof Sm){const r=Ut.fromString(e,...t);return ML(r),new Qs(n,null,r)}{if(!(n instanceof Wn||n instanceof Qs))throw new _e(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ut.fromString(e,...t));return ML(r),new Qs(n.firestore,null,r)}}function a1(n,e,...t){if(n=(0,on.Ku)(n),1===arguments.length&&(e=Mk.newId()),wD("doc","path",e),n instanceof Sm){const r=Ut.fromString(e,...t);return RL(r),new Wn(n,null,new Fe(r))}{if(!(n instanceof Wn||n instanceof Qs))throw new _e(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ut.fromString(e,...t));return RL(r),new Wn(n.firestore,n instanceof Qs?n.converter:null,new Fe(r))}}function kL(n,e){return n=(0,on.Ku)(n),e=(0,on.Ku)(e),(n instanceof Wn||n instanceof Qs)&&(e instanceof Wn||e instanceof Qs)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function TD(n,e){return n=(0,on.Ku)(n),e=(0,on.Ku)(e),n instanceof di&&e instanceof di&&n.firestore===e.firestore&&cm(n._query,e._query)&&n.converter===e.converter}class FL{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new pC(this,"async_queue_retry"),this.Vu=()=>{const r=e1();r&&Ie("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const t=e1();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=e1();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new Zr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,ue.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(t){if(!Sc(t))throw t;Ie("AsyncQueue","Operation failed with retryable error: "+t)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(r=>{throw this.Eu=r,this.du=!1,Ir("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const i=OC.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ze()}verifyOperationInProgress(){}wu(){var e=this;return(0,ue.A)(function*(){let t;do{t=e.mu,yield t}while(t!==e.mu)})()}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function CD(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const i=t;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(n)}class DZ{constructor(){this._progressObserver={},this._taskCompletionResolver=new Zr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Tn extends Sm{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new FL,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,ue.A)(function*(){if(e._firestoreClient){const t=e._firestoreClient.terminate();e._queue=new FL(t),e._firestoreClient=void 0,yield t}})()}}function Zn(n){if(n._terminated)throw new _e(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||VL(n),n._firestoreClient}function VL(n){var e,t,r;const i=n._freezeSettings(),o=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new ZQ(n._databaseId,c,n._persistenceKey,(f=i).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,DL(f.experimentalLongPollingOptions),f.useFetchStreams));var c,f;n._componentsProvider||!(null===(t=i.localCache)||void 0===t)&&t._offlineComponentProvider&&!(null===(r=i.localCache)||void 0===r)&&r._onlineComponentProvider&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new fZ(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){const c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}function DD(){return(DD=(0,ue.A)(function*(n){Ro("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();LL(n,lf.provider,{build:t=>new yL(t,e.cacheSizeBytes)})})).apply(this,arguments)}function LL(n,e,t){if((n=kt(n,Tn))._firestoreClient||n._terminated)throw new _e(ie.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new _e(ie.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},VL(n)}class Ys{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ys(fr.fromBase64String(e))}catch(t){throw new _e(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ys(fr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ja{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new _e(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gu{constructor(e){this._methodName=e}}class c1{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ft(this._lat,e._lat)||ft(this._long,e._long)}}class l1{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}const VZ=/^__.*__$/;class LZ{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new La(e,this.data,this.fieldMask,t,this.fieldTransforms):new $h(e,this.data,t,this.fieldTransforms)}}class BL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new La(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function UL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze()}}class u1{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new u1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return f1(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(UL(this.Cu)&&VZ.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class BZ{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Dm(e)}Qu(e,t,r,i=!1){return new u1({Cu:e,methodName:t,qu:r,path:Gn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mu(n){const e=n._freezeSettings(),t=Dm(n._databaseId);return new BZ(n._databaseId,!!e.ignoreUndefinedProperties,t)}function d1(n,e,t,r,i,o={}){const s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);OD("Data must be an object, but it was:",s,r);const a=HL(r,s);let c,d;if(o.merge)c=new uo(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){const f=[];for(const m of o.mergeFields){const y=Nm(e,m,t);if(!s.contains(y))throw new _e(ie.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);zL(f,y)||f.push(y)}c=new uo(f),d=s.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,d=s.fieldTransforms;return new LZ(new ui(a),c,d)}class Mm extends gu{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mm}}function jL(n,e,t){return new u1({Cu:3,qu:e.settings.qu,methodName:n._methodName,xu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class AD extends gu{_toFieldTransform(e){return new hm(e.path,new Uh)}isEqual(e){return e instanceof AD}}class SD extends gu{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){const t=jL(this,e,!0),r=this.Ku.map(o=>_u(o,t)),i=new su(r);return new hm(e.path,i)}isEqual(e){return e instanceof SD&&(0,on.bD)(this.Ku,e.Ku)}}class RD extends gu{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){const t=jL(this,e,!0),r=this.Ku.map(o=>_u(o,t)),i=new au(r);return new hm(e.path,i)}isEqual(e){return e instanceof RD&&(0,on.bD)(this.Ku,e.Ku)}}class MD extends gu{constructor(e,t){super(e),this.$u=t}_toFieldTransform(e){const t=new jh(e.serializer,AF(e.serializer,this.$u));return new hm(e.path,t)}isEqual(e){return e instanceof MD&&this.$u===e.$u}}function ND(n,e,t,r){const i=n.Qu(1,e,t);OD("Data must be an object, but it was:",i,r);const o=[],s=ui.empty();Rc(r,(c,d)=>{const f=h1(e,c,t);d=(0,on.Ku)(d);const m=i.Nu(f);if(d instanceof Mm)o.push(f);else{const y=_u(d,m);null!=y&&(o.push(f),s.set(f,y))}});const a=new uo(o);return new BL(s,a,i.fieldTransforms)}function PD(n,e,t,r,i,o){const s=n.Qu(1,e,t),a=[Nm(e,r,t)],c=[i];if(o.length%2!=0)throw new _e(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)a.push(Nm(e,o[y])),c.push(o[y+1]);const d=[],f=ui.empty();for(let y=a.length-1;y>=0;--y)if(!zL(d,a[y])){const b=a[y];let w=c[y];w=(0,on.Ku)(w);const D=s.Nu(b);if(w instanceof Mm)d.push(b);else{const S=_u(w,D);null!=S&&(d.push(b),f.set(b,S))}}const m=new uo(d);return new BL(f,m,s.fieldTransforms)}function $L(n,e,t,r=!1){return _u(t,n.Qu(r?4:3,e))}function _u(n,e){if(GL(n=(0,on.Ku)(n)))return OD("Unsupported field value:",e,n),HL(n,e);if(n instanceof gu)return function(r,i){if(!UL(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let c=_u(a,i.Lu(s));null==c&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if(null===(r=(0,on.Ku)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return AF(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=Qn.fromDate(r);return{timestampValue:Gh(i.serializer,o)}}if(r instanceof Qn){const o=new Qn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gh(i.serializer,o)}}if(r instanceof c1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ys)return{bytesValue:QF(i.serializer,r._byteString)};if(r instanceof Wn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:$T(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof l1)return a=i,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:r.toArray().map(c=>{if("number"!=typeof c)throw a.Bu("VectorValues must only contain numeric values.");return kT(a.serializer,c)})}}}}};var a;throw i.Bu(`Unsupported field value: ${s1(r)}`)}(n,e)}function HL(n,e){const t={};return qk(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rc(n,(r,i)=>{const o=_u(i,e.Mu(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function GL(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Qn||n instanceof c1||n instanceof Ys||n instanceof Wn||n instanceof gu||n instanceof l1)}function OD(n,e,t){if(!GL(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=s1(t);throw e.Bu("an object"===r?n+" a custom object":n+" "+r)}var i}function Nm(n,e,t){if((e=(0,on.Ku)(e))instanceof ja)return e._internalPath;if("string"==typeof e)return h1(n,e);throw f1("Field path arguments must be of type string or ",n,!1,void 0,t)}const UZ=new RegExp("[~\\*/\\[\\]]");function h1(n,e,t){if(e.search(UZ)>=0)throw f1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ja(...e.split("."))._internalPath}catch{throw f1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function f1(n,e,t,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new _e(ie.INVALID_ARGUMENT,a+n+c)}function zL(n,e){return n.some(t=>t.isEqual(e))}class Pm{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new jZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(p1("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class jZ extends Pm{data(){return super.data()}}function p1(n,e){return"string"==typeof e?h1(n,e):e instanceof ja?e._internalPath:e._delegate._internalPath}function WL(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new _e(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xD{}class Om extends xD{}function jc(n,e,...t){let r=[];e instanceof xD&&r.push(e),r=r.concat(t),function(o){const s=o.filter(c=>c instanceof hf).length,a=o.filter(c=>c instanceof xm).length;if(s>1||s>0&&a>0)throw new _e(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class xm extends Om{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new xm(e,t,r)}_apply(e){const t=this._parse(e);return YL(e._query,t),new di(e.firestore,e.converter,OT(e._query,t))}_parse(e){const t=mu(e.firestore);return function(o,s,a,c,d,f,m){let y;if(d.isKeyField()){if("array-contains"===f||"array-contains-any"===f)throw new _e(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if("in"===f||"not-in"===f){QL(m,f);const b=[];for(const w of m)b.push(KL(c,o,w));y={arrayValue:{values:b}}}else y=KL(c,o,m)}else"in"!==f&&"not-in"!==f&&"array-contains-any"!==f||QL(m,f),y=$L(a,"where",m,"in"===f||"not-in"===f);return jt.create(d,f,y)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class hf extends xD{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new hf(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:_n.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const c of a)YL(s,c),s=OT(s,c)}(e._query,t),new di(e.firestore,e.converter,OT(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class kD extends Om{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new kD(e,t)}_apply(e){const t=function(i,o,s){if(null!==i.startAt)throw new _e(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new _e(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sm(o,s)}(e._query,this._field,this._direction);return new di(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Fa(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class g1 extends Om{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new g1(e,t,r)}_apply(e){return new di(e.firestore,e.converter,O0(e._query,this._limit,this._limitType))}}class m1 extends Om{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new m1(e,t,r)}_apply(e){const t=qL(e,this.type,this._docOrFields,this._inclusive);return new di(e.firestore,e.converter,(o=t,new Fa((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)));var i,o}}class _1 extends Om{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new _1(e,t,r)}_apply(e){const t=qL(e,this.type,this._docOrFields,this._inclusive);return new di(e.firestore,e.converter,(o=t,new Fa((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)));var i,o}}function qL(n,e,t,r){if(t[0]=(0,on.Ku)(t[0]),t[0]instanceof Pm)return function(o,s,a,c,d){if(!c)throw new _e(ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const f=[];for(const m of Lh(o))if(m.field.isKeyField())f.push(iu(s,c.key));else{const y=c.data.field(m.field);if(C0(y))throw new _e(ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===y){const b=m.field.canonicalString();throw new _e(ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}f.push(y)}return new xc(f,d)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=mu(n.firestore);return function(s,a,c,d,f,m){const y=s.explicitOrderBy;if(f.length>y.length)throw new _e(ie.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let w=0;w<f.length;w++){const D=f[w];if(y[w].field.isKeyField()){if("string"!=typeof D)throw new _e(ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof D}`);if(!PT(s)&&-1!==D.indexOf("/"))throw new _e(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${D}' contains a slash.`);const S=s.path.child(Ut.fromString(D));if(!Fe.isDocumentKey(S))throw new _e(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${S}' is not because it contains an odd number of segments.`);const j=new Fe(S);b.push(iu(a,j))}else{const S=$L(c,d,D);b.push(S)}}return new xc(b,m)}(n._query,n.firestore._databaseId,i,e,t,r)}}function KL(n,e,t){if("string"==typeof(t=(0,on.Ku)(t))){if(""===t)throw new _e(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PT(e)&&-1!==t.indexOf("/"))throw new _e(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ut.fromString(t));if(!Fe.isDocumentKey(r))throw new _e(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return iu(n,new Fe(r))}if(t instanceof Wn)return iu(n,t._key);throw new _e(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${s1(t)}.`)}function QL(n,e){if(!Array.isArray(n)||0===n.length)throw new _e(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YL(n,e){const t=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new _e(ie.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class FD{convertValue(e,t="none"){switch(Pc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ka(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ze()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Rc(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=null===(i=null===(r=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.map(s=>Yn(s.doubleValue));return new l1(o)}convertGeoPoint(e){return new c1(Yn(e.latitude),Yn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=D0(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(nm(e));default:return null}}convertTimestamp(e){const t=xa(e);return new Qn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ut.fromString(e);qe(aV(r));const i=new Mc(r.get(1),r.get(3)),o=new Fe(r.popFirst(5));return i.isEqual(t)||Ir(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function y1(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class YZ extends FD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ys(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,t)}}class yu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $a extends Pm{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new km(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(p1("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class km extends $a{data(e={}){return super.data(e)}}class $c{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new yu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new km(this._firestore,this._userDataWriter,r.key,r,new yu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new km(i._firestore,i._userDataWriter,a.doc.key,a.doc,new yu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const c=new km(i._firestore,i._userDataWriter,a.doc.key,a.doc,new yu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return 0!==a.type&&(d=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),f=s.indexOf(a.doc.key)),{type:ZZ(a.type),doc:c,oldIndex:d,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ZZ(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze()}}function ZL(n,e){return n instanceof $a&&e instanceof $a?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof $c&&e instanceof $c&&n._firestore===e._firestore&&TD(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Hc extends FD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ys(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,t)}}function XL(n,e,t){n=kt(n,Wn);const r=kt(n.firestore,Tn),i=y1(n.converter,e,t);return ff(r,[d1(mu(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Jn.none())])}function e4(n,e,t,...r){n=kt(n,Wn);const i=kt(n.firestore,Tn),o=mu(i);let s;return s="string"==typeof(e=(0,on.Ku)(e))||e instanceof ja?PD(o,"updateDoc",n._key,e,t,r):ND(o,"updateDoc",n._key,e),ff(i,[s.toMutation(n._key,Jn.exists(!0))])}function t4(n,...e){var t,r,i;n=(0,on.Ku)(n);let o={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof e[s]||CD(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(CD(e[s])){const m=e[s];e[s]=null===(t=m.next)||void 0===t?void 0:t.bind(m),e[s+1]=null===(r=m.error)||void 0===r?void 0:r.bind(m),e[s+2]=null===(i=m.complete)||void 0===i?void 0:i.bind(m)}let c,d,f;if(n instanceof Wn)d=kt(n.firestore,Tn),f=Vh(n._key.path),c={next:m=>{e[s]&&e[s](VD(d,n,m))},error:e[s+1],complete:e[s+2]};else{const m=kt(n,di);d=kt(m.firestore,Tn),f=m._query;const y=new Hc(d);c={next:b=>{e[s]&&e[s](new $c(d,y,m,b))},error:e[s+1],complete:e[s+2]},WL(n._query)}return function(y,b,w,D){const S=new i1(D),j=new UC(b,S,w);return y.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return xC(yield df(y),j)})),()=>{S.Za(),y.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return FC(yield df(y),j)}))}}(Zn(d),f,a,c)}function ff(n,e){return function(r,i){const o=new Zr;return r.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return function qJ(n,e,t){return KC.apply(this,arguments)}(yield ID(r),i,o)})),o.promise}(Zn(n),e)}function VD(n,e,t){const r=t.docs.get(e._key),i=new Hc(n);return new $a(n,i,e._key,r,new yu(t.hasPendingWrites,t.fromCache),e.converter)}const mX={maxAttempts:5};class n4{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=mu(e)}set(e,t,r){this._verifyNotCommitted();const i=Gc(e,this._firestore),o=y1(i.converter,t,r),s=d1(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,r);return this._mutations.push(s.toMutation(i._key,Jn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=Gc(e,this._firestore);let s;return s="string"==typeof(t=(0,on.Ku)(t))||t instanceof ja?PD(this._dataReader,"WriteBatch.update",o._key,t,r,i):ND(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(s.toMutation(o._key,Jn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Gc(e,this._firestore);return this._mutations=this._mutations.concat(new Hh(t._key,Jn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _e(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Gc(n,e){if((n=(0,on.Ku)(n)).firestore!==e)throw new _e(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class _X extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=mu(t)}get(t){const r=Gc(t,this._firestore),i=new YZ(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||1!==o.length)return ze();const s=o[0];if(s.isFoundDocument())return new Pm(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new Pm(this._firestore,i,r._key,null,r.converter);throw ze()})}set(t,r,i){const o=Gc(t,this._firestore),s=y1(o.converter,r,i),a=d1(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,i);return this._transaction.set(o._key,a),this}update(t,r,i,...o){const s=Gc(t,this._firestore);let a;return a="string"==typeof(r=(0,on.Ku)(r))||r instanceof ja?PD(this._dataReader,"Transaction.update",s._key,r,i,o):ND(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(t){const r=Gc(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Gc(e,this._firestore),r=new Hc(this._firestore);return super.get(e).then(i=>new $a(this._firestore,r,t._key,i._document,new yu(!1,!1),t.converter))}}function BD(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new _e("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function s4(){if(typeof Uint8Array>"u")throw new _e("unimplemented","Uint8Arrays are not available in this environment.")}function a4(){if(!function YQ(){return typeof atob<"u"}())throw new _e("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){Rh=Dh.SDK_VERSION,(0,Dh._registerComponent)(new yk.uA("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Tn(new vQ(r.getProvider("auth-internal")),new EQ(r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new _e(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mc(d.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,Dh.registerVersion)(Ak,"4.7.3",e),(0,Dh.registerVersion)(Ak,"4.7.3","esm2017")}();class Fm{constructor(e){this._delegate=e}static fromBase64String(e){return a4(),new Fm(Ys.fromBase64String(e))}static fromUint8Array(e){return s4(),new Fm(Ys.fromUint8Array(e))}toBase64(){return a4(),this._delegate.toBase64()}toUint8Array(){return s4(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function UD(n){return function AX(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class SX{enableIndexedDbPersistence(e,t){return function SZ(n,e){Ro("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return LL(n,lf.provider,{build:r=>new pD(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function RZ(n){return DD.apply(this,arguments)}(e._delegate)}clearIndexedDbPersistence(e){return function MZ(n){if(n._initialized&&!n._terminated)throw new _e(ie.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Zr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ue.A)(function*(){try{yield(t=(0,ue.A)(function*(i){if(!Gs.D())return Promise.resolve();const o=i+"main";yield Gs.delete(o)}),function r(i){return t.apply(this,arguments)})(rC(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class c4{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Mc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ro("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function OL(n,e,t,r={}){var i;const o=(n=kt(n,Sm))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Jr.MOCK_USER;else{a=(0,on.Fy)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new _e(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Jr(d)}n._authCredentials=new yQ(new Sk(a,c))}}(this._delegate,e,t,r)}enableNetwork(){return function PZ(n){return function pZ(n){return n.asyncQueue.enqueue((0,ue.A)(function*(){const e=yield IL(n),t=yield EL(n);return e.setNetworkEnabled(!0),function(i){const o=Ne(i);return o.L_.delete(0),Am(o)}(t)}))}(Zn(n=kt(n,Tn)))}(this._delegate)}disableNetwork(){return function OZ(n){return function gZ(n){return n.asyncQueue.enqueue((0,ue.A)(function*(){const e=yield IL(n),t=yield EL(n);return e.setNetworkEnabled(!1),(r=(0,ue.A)(function*(o){const s=Ne(o);s.L_.add(0),yield Zh(s),s.q_.set("Offline")}),function i(o){return r.apply(this,arguments)})(t);var r}))}(Zn(n=kt(n,Tn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,SL("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function NZ(n){return function(t){const r=new Zr;return t.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return function JJ(n,e){return XC.apply(this,arguments)}(yield ID(t),r)})),r.promise}(Zn(n=kt(n,Tn)))}(this._delegate)}onSnapshotsInSync(e){return function aX(n,e){return function vZ(n,e){const t=new i1(e);return n.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return i=yield df(n),o=t,Ne(i).Y_.add(o),void o.next();var i,o})),()=>{t.Za(),n.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return i=yield df(n),o=t,void Ne(i).Y_.delete(o);var i,o}))}}(Zn(n=kt(n,Tn)),CD(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new _e("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new pf(this,xL(this._delegate,e))}catch(t){throw Ki(t,"collection()","Firestore.collection()")}}doc(e){try{return new Xo(this,a1(this._delegate,e))}catch(t){throw Ki(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Qi(this,function CZ(n,e){if(n=kt(n,Sm),wD("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new _e(ie.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new di(n,null,(r=e,new Fa(Ut.emptyPath(),r)));var r}(this._delegate,e))}catch(t){throw Ki(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function yX(n,e,t){n=kt(n,Tn);const r=Object.assign(Object.assign({},mX),t);return function(o){if(o.maxAttempts<1)throw new _e(ie.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){const c=new Zr;return o.asyncQueue.enqueueAndForget((0,ue.A)(function*(){const d=yield function wL(n){return o1(n).then(e=>e.datastore)}(o);new hZ(o.asyncQueue,d,a,s,c).au()})),c.promise}(Zn(n),i=>e(new _X(n,i)),r)}(this._delegate,t=>e(new l4(this,t)))}batch(){return Zn(this._delegate),new u4(new n4(this._delegate,e=>ff(this._delegate,e)))}loadBundle(e){return function xZ(n,e){const t=Zn(n=kt(n,Tn)),r=new DZ;return function bZ(n,e,t,r){const i=function(s,a){let c;return c="string"==typeof s?jF().encode(s):s,f=function(f,m){if(f instanceof Uint8Array)return vL(f,m);if(f instanceof ArrayBuffer)return vL(new Uint8Array(f),m);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new uZ(f,a);var f}(t,Dm(e));n.asyncQueue.enqueueAndForget((0,ue.A)(function*(){!function cZ(n,e,t){const r=Ne(n);var i;(i=(0,ue.A)(function*(s,a,c){try{const d=yield a.getMetadata();if(yield function(w,D){const S=Ne(w),j=Er(D.createTime);return S.persistence.runTransaction("hasNewerBundle","readonly",O=>S.Gr.getBundleMetadata(O,D.id)).then(O=>!!O&&O.createTime.compareTo(j)>=0)}(s.localStore,d))return yield a.close(),c._completeWith({taskState:"Success",documentsLoaded:(w=d).totalDocuments,bytesLoaded:w.totalBytes,totalDocuments:w.totalDocuments,totalBytes:w.totalBytes}),Promise.resolve(new Set);c._updateProgress(cL(d));const f=new BJ(d,s.localStore,a.serializer);let m=yield a.Ua();for(;m;){const b=yield f.la(m);b&&c._updateProgress(b),m=yield a.Ua()}const y=yield f.complete();return yield Ua(s,y.Ia,void 0),yield function(w,D){const S=Ne(w);return S.persistence.runTransaction("Save bundle","readwrite",j=>S.Gr.saveBundleMetadata(j,D))}(s.localStore,d),c._completeWith(y.progress),Promise.resolve(y.Pa)}catch(d){return Ro("SyncEngine",`Loading bundle failed with ${d}`),c._failWith(d),Promise.resolve(new Set)}var w}),function o(s,a,c){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield ID(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function kZ(n,e){return function IZ(n,e){return n.asyncQueue.enqueue((0,ue.A)(function*(){return function(r,i){const o=Ne(r);return o.persistence.runTransaction("Get named query","readonly",s=>o.Gr.getNamedQuery(s,i))}(yield uf(n),e)}))}(Zn(n=kt(n,Tn)),e).then(t=>t?new di(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Qi(this,t):null)}}class b1 extends FD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fm(new Ys(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Xo.forKey(t,this.firestore,null)}}class l4{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new b1(e)}get(e){const t=bu(e);return this._delegate.get(t).then(r=>new Vm(this._firestore,new $a(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=bu(e);return r?(BD("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=bu(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=bu(e);return this._delegate.delete(t),this}}class u4{constructor(e){this._delegate=e}set(e,t,r){const i=bu(e);return r?(BD("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=bu(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=bu(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class vu{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new km(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Lm(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=vu.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new vu(e,new b1(e),t),i.set(t,o)),o}}vu.INSTANCES=new WeakMap;class Xo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new b1(e)}static forPath(e,t,r){if(e.length%2!=0)throw new _e("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Xo(t,new Wn(t._delegate,r,new Fe(e)))}static forKey(e,t,r){return new Xo(t,new Wn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new pf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new pf(this.firestore,xL(this._delegate,e))}catch(t){throw Ki(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,on.Ku)(e))instanceof Wn&&kL(this._delegate,e)}set(e,t){t=BD("DocumentReference.set",t);try{return t?XL(this._delegate,e,t):XL(this._delegate,e)}catch(r){throw Ki(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?e4(this._delegate,e):e4(this._delegate,e,t,...r)}catch(i){throw Ki(i,"updateDoc()","DocumentReference.update()")}}delete(){return function oX(n){return ff(kt(n.firestore,Tn),[new Hh(n._key,Jn.none())])}(this._delegate)}onSnapshot(...e){const t=d4(e),r=h4(e,i=>new Vm(this.firestore,new $a(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return t4(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function eX(n){n=kt(n,Wn);const e=kt(n.firestore,Tn),t=Zn(e),r=new Hc(e);return function mZ(n,e){const t=new Zr;return n.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return(r=(0,ue.A)(function*(o,s,a){try{const c=yield function(f,m){const y=Ne(f);return y.persistence.runTransaction("read document","readonly",b=>y.localDocuments.getDocument(b,m))}(o,s);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new _e(ie.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const d=nf(c,`Failed to get document '${s} from cache`);a.reject(d)}}),function i(o,s,a){return r.apply(this,arguments)})(yield uf(n),e,t);var r})),t.promise}(t,n._key).then(i=>new $a(e,r,n._key,i,new yu(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function tX(n){n=kt(n,Wn);const e=kt(n.firestore,Tn);return TL(Zn(e),n._key,{source:"server"}).then(t=>VD(e,n,t))}(this._delegate):function XZ(n){n=kt(n,Wn);const e=kt(n.firestore,Tn);return TL(Zn(e),n._key).then(t=>VD(e,n,t))}(this._delegate),t.then(r=>new Vm(this.firestore,new $a(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Xo(this.firestore,this._delegate.withConverter(e?vu.getInstance(this.firestore,e):null))}}function Ki(n,e,t){return n.message=n.message.replace(e,t),n}function d4(n){for(const e of n)if("object"==typeof e&&!UD(e))return e;return{}}function h4(n,e){var t,r;let i;return i=UD(n[0])?n[0]:UD(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Vm{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Xo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return ZL(this._delegate,e._delegate)}}class Lm extends Vm{data(e){const t=this._delegate.data(e);return this._delegate._converter||function mQ(n,e){n||ze()}(void 0!==t),t}}class Qi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new b1(e)}where(e,t,r){try{return new Qi(this.firestore,jc(this._delegate,function $Z(n,e,t){const r=e,i=p1("where",n);return xm._create(i,r,t)}(e,t,r)))}catch(i){throw Ki(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Qi(this.firestore,jc(this._delegate,function HZ(n,e="asc"){const t=e,r=p1("orderBy",n);return kD._create(r,t)}(e,t)))}catch(r){throw Ki(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Qi(this.firestore,jc(this._delegate,function GZ(n){return NL("limit",n),g1._create("limit",n,"F")}(e)))}catch(t){throw Ki(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Qi(this.firestore,jc(this._delegate,function zZ(n){return NL("limitToLast",n),g1._create("limitToLast",n,"L")}(e)))}catch(t){throw Ki(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Qi(this.firestore,jc(this._delegate,function WZ(...n){return m1._create("startAt",n,!0)}(...e)))}catch(t){throw Ki(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Qi(this.firestore,jc(this._delegate,function qZ(...n){return m1._create("startAfter",n,!1)}(...e)))}catch(t){throw Ki(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Qi(this.firestore,jc(this._delegate,function KZ(...n){return _1._create("endBefore",n,!1)}(...e)))}catch(t){throw Ki(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Qi(this.firestore,jc(this._delegate,function QZ(...n){return _1._create("endAt",n,!0)}(...e)))}catch(t){throw Ki(t,"endAt()","Query.endAt()")}}isEqual(e){return TD(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function rX(n){n=kt(n,di);const e=kt(n.firestore,Tn),t=Zn(e),r=new Hc(e);return function _Z(n,e){const t=new Zr;return n.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return(r=(0,ue.A)(function*(o,s,a){try{const c=yield Y0(o,s,!0),d=new dL(s,c.Ts),f=d.ma(c.documents),m=d.applyChanges(f,!1);a.resolve(m.snapshot)}catch(c){const d=nf(c,`Failed to execute query '${s} against cache`);a.reject(d)}}),function i(o,s,a){return r.apply(this,arguments)})(yield uf(n),e,t);var r})),t.promise}(t,n._query).then(i=>new $c(e,r,n,i))}(this._delegate):"server"===e?.source?function iX(n){n=kt(n,di);const e=kt(n.firestore,Tn),t=Zn(e),r=new Hc(e);return CL(t,n._query,{source:"server"}).then(i=>new $c(e,r,n,i))}(this._delegate):function nX(n){n=kt(n,di);const e=kt(n.firestore,Tn),t=Zn(e),r=new Hc(e);return WL(n._query),CL(t,n._query).then(i=>new $c(e,r,n,i))}(this._delegate),t.then(r=>new jD(this.firestore,new $c(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=d4(e),r=h4(e,i=>new jD(this.firestore,new $c(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return t4(this._delegate,t,r)}withConverter(e){return new Qi(this.firestore,this._delegate.withConverter(e?vu.getInstance(this.firestore,e):null))}}class MX{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Lm(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class jD{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Qi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Lm(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new MX(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Lm(this._firestore,r))})}isEqual(e){return ZL(this._delegate,e._delegate)}}class pf extends Qi{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Xo(this.firestore,e):null}doc(e){try{return new Xo(this.firestore,void 0===e?a1(this._delegate):a1(this._delegate,e))}catch(t){throw Ki(t,"doc()","CollectionReference.doc()")}}add(e){return function sX(n,e){const t=kt(n.firestore,Tn),r=a1(n),i=y1(n.converter,e);return ff(t,[d1(mu(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Jn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Xo(this.firestore,t))}isEqual(e){return kL(this._delegate,e._delegate)}withConverter(e){return new pf(this.firestore,this._delegate.withConverter(e?vu.getInstance(this.firestore,e):null))}}function bu(n){return kt(n,Wn)}class $D{constructor(...e){this._delegate=new ja(...e)}static documentId(){return new $D(Gn.keyField().canonicalString())}isEqual(e){return(e=(0,on.Ku)(e))instanceof ja&&this._delegate._internalPath.isEqual(e._internalPath)}}class Iu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function bX(){return new AD("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Iu(e)}static delete(){const e=function vX(){return new Mm("deleteField")}();return e._methodName="FieldValue.delete",new Iu(e)}static arrayUnion(...e){const t=function IX(...n){return new SD("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Iu(t)}static arrayRemove(...e){const t=function EX(...n){return new RD("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Iu(t)}static increment(e){const t=function wX(n){return new MD("increment",n)}(e);return t._methodName="FieldValue.increment",new Iu(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const NX={Firestore:c4,GeoPoint:c1,Timestamp:Qn,Blob:Fm,Transaction:l4,WriteBatch:u4,DocumentReference:Xo,DocumentSnapshot:Vm,Query:Qi,QueryDocumentSnapshot:Lm,QuerySnapshot:jD,CollectionReference:pf,FieldPath:$D,FieldValue:Iu,setLogLevel:function RX(n){!function gQ(n){Dc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function f4(n,e){return function xX(n,e=_0){return new lt(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function HD(n,e){return f4(n,e).pipe(ye(t=>({payload:t,type:"query"})))}!function OX(n){(function PX(n,e){n.INTERNAL.registerComponent(new yk.uA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},NX)))})(n,(e,t)=>new c4(e,t,new SX)),n.registerVersion("@firebase/firestore-compat","0.3.38")}(Xl.A);class p4{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:o}=y4(r,t);return new _4(i,o,this.afs)}snapshotChanges(){return function kX(n,e){return f4(n,e).pipe(Og(void 0),_T(),ye(t=>{const[r,i]=t;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(So)}valueChanges(e={}){return this.snapshotChanges().pipe(ye(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return R(this.ref.get(e)).pipe(So)}}function I1(n,e){return HD(n,e).pipe(Og(void 0),_T(),ye(t=>{const[r,i]=t,o=i.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,c)=>{const d=o.find(m=>m.doc.ref.isEqual(a.ref)),f=r?.payload.docs.find(m=>m.ref.isEqual(a.ref));d&&JSON.stringify(d.doc.metadata)===JSON.stringify(a.metadata)||!d&&f&&JSON.stringify(f.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function g4(n,e,t){return I1(n,t).pipe(Zv((r,i)=>function FX(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function VX(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return GD(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return GD(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return GD(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(o=>o.payload),e),[]),fn(),ye(r=>r.map(i=>({type:i.type,payload:i}))))}function GD(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function m4(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class _4{ref;query;afs;constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=I1(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(ye(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Og(void 0),_T(),br(([r,i])=>i.length>0||!r),ye(([,r])=>r),So)}auditTrail(e){return this.stateChanges(e).pipe(Zv((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=m4(e);return g4(this.query,t,this.afs.schedulers.outsideAngular).pipe(So)}valueChanges(e={}){return HD(this.query,this.afs.schedulers.outsideAngular).pipe(ye(t=>t.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),So)}get(e){return R(this.query.get(e)).pipe(So)}add(e){return this.ref.add(e)}doc(e){return new p4(this.ref.doc(e),this.afs)}}class LX{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?I1(this.query,this.afs.schedulers.outsideAngular).pipe(ye(t=>t.filter(r=>e.indexOf(r.type)>-1)),br(t=>t.length>0),So):I1(this.query,this.afs.schedulers.outsideAngular).pipe(So)}auditTrail(e){return this.stateChanges(e).pipe(Zv((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=m4(e);return g4(this.query,t,this.afs.schedulers.outsideAngular).pipe(So)}valueChanges(e={}){return HD(this.query,this.afs.schedulers.outsideAngular).pipe(ye(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),So)}get(e){return R(this.query.get(e)).pipe(So)}}const BX=new xe("angularfire2.enableFirestorePersistence"),UX=new xe("angularfire2.firestore.persistenceSettings"),jX=new xe("angularfire2.firestore.settings"),$X=new xe("angularfire2.firestore.use-emulator");function y4(n,e=(t=>t)){return{query:e(n),ref:n}}let HX=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,r,i,o,s,a,c,d,f,m,y,b,w,D,S,j,O){this.schedulers=c;const J=gT(t,a,r),re=f;m&&_k(J,a,y,w,D,S,b,j),[this.firestore,this.persistenceEnabled$]=ak(`${J.name}.firestore`,"AngularFirestore",J.name,()=>{const pe=a.runOutsideAngular(()=>J.firestore());if(o&&pe.settings(o),re&&pe.useEmulator(...re),i&&!Wv(s)){const Ae=()=>{try{return R(pe.enablePersistence(d||void 0).then(()=>!0,()=>!1))}catch(k){return typeof console<"u"&&console.warn(k),q(!1)}};return[pe,a.runOutsideAngular(Ae)]}return[pe,q(!1)]},[o,re,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:s}=y4(i,r),a=this.schedulers.ngZone.run(()=>o);return new _4(a,s,this)}collectionGroup(t,r){const i=r||(s=>s),o=this.firestore.collectionGroup(t);return new LX(i(o),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new p4(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||n)(ve(y0),ve(v0,8),ve(BX,8),ve(jX,8),ve(Ta),ve(Nt),ve(ok),ve(UX,8),ve($X,8),ve(mT,8),ve(dk,8),ve(hk,8),ve(fk,8),ve(pk,8),ve(gk,8),ve(mk,8),ve(rk,8))};static \u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),zc=(()=>{class n{constructor(t,r,i){this.afs=t,this.afAuth=r,this.router=i,this.afAuth.authState.subscribe(o=>{o?(this.userData=o,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}SignIn(t,r){return this.afAuth.signInWithEmailAndPassword(t,r).then(i=>{this.SetUserData(i.user),this.afAuth.authState.subscribe(o=>{o&&this.router.navigate(["dashboard"])})}).catch(i=>{window.alert(i.message)})}SignUp(t,r){return this.afAuth.createUserWithEmailAndPassword(t,r).then(i=>{this.SendVerificationMail(),this.SetUserData(i.user)}).catch(i=>{window.alert(i.message)})}SendVerificationMail(){return this.afAuth.currentUser.then(t=>t.sendEmailVerification()).then(()=>{this.router.navigate(["verify-email-address"])})}ForgotPassword(t){return this.afAuth.sendPasswordResetEmail(t).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(r=>{window.alert(r)})}get isLoggedIn(){const t=JSON.parse(localStorage.getItem("user"));return null!==t&&!1!==t.emailVerified}SetUserData(t){return this.afs.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified},{merge:!0})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.userData=null,this.router.navigate(["sign-in"])})}static{this.\u0275fac=function(r){return new(r||n)(ve(HX),ve(mT),ve(Ao))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const GX=function(){return["/forgot-password"]},zX=function(){return["/register-user"]};let WX=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}open(t){}static{this.\u0275fac=function(r){return new(r||n)(H(zc))}}static{this.\u0275cmp=Kn({type:n,selectors:[["app-sign-in"]],decls:20,vars:4,consts:[[1,"d-flex","align-items-center","justify-content-center",2,"min-height","100vh"],[1,"w-100",2,"max-width","400px"],[1,"card"],[1,"card-body",3,"keydown.enter"],[1,"card-title"],["type","email","required","","placeholder","email",1,"form-control","mb-3"],["emailRef",""],["type","password","required","","placeholder","password",1,"form-control","mb-3"],["passwordRef",""],["type","submit",1,"form-control","mb-3","btn","btn-primary",3,"click"],["className","w-100 text-center mt-2"],[3,"routerLink"],["className","w-100 text-center mt-4"]],template:function(r,i){if(1&r){const o=ao();he(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),At("keydown.enter",function(){Ar(o);const a=Qr(7),c=Qr(9);return zr(i.authService.SignIn(a.value,c.value))}),he(4,"h2",4),Ke(5,"Log in"),we(),wt(6,"input",5,6)(8,"input",7,8),he(10,"button",9),At("click",function(){Ar(o);const a=Qr(7),c=Qr(9);return zr(i.authService.SignIn(a.value,c.value))}),Ke(11,"Log in"),we(),he(12,"div",10)(13,"a",11),Ke(14,"Forgot password?"),we()()()(),he(15,"div",12)(16,"span"),Ke(17,"Need an account? "),he(18,"a",11),Ke(19,"Sign Up"),we()()()()()}2&r&&(je(13),We("routerLink",zl(2,GX)),je(5),We("routerLink",zl(3,zX)))},dependencies:[Cc]})}}return n})(),v4=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||n)(H(zc))}}static{this.\u0275cmp=Kn({type:n,selectors:[["app-sign-up"]],decls:19,vars:0,consts:[[1,"d-flex","justify-content-center","align-items-center",2,"min-height","100vh"],[1,"w-100",2,"max-width","400px"],[1,"card"],[1,"card-body"],[1,"card-title"],["type","email","required","","placeholder","Email address",1,"form-control","mb-3"],["emailRef",""],["type","password","required","","placeholder","Password",1,"form-control","mb-3"],["passwordRef",""],["type","password","required","","placeholder","Password confirmation",1,"form-control","mb-3"],["passwordConfirmationRef",""],[1,"form-control","mb-3","btn","btn-primary",3,"click"],["className","w-100 text-center mt-4"],["routerLink","/sign-in",1,"redirect"]],template:function(r,i){if(1&r){const o=ao();he(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),Ke(5,"Sign up"),we(),wt(6,"input",5,6)(8,"input",7,8)(10,"input",9,10),he(12,"button",11),At("click",function(){Ar(o);const a=Qr(7),c=Qr(9);return zr(i.authService.SignUp(a.value,c.value))}),Ke(13,"Sign up"),we()()(),he(14,"div",12)(15,"span"),Ke(16,"Already have an account? "),he(17,"a",13),Ke(18,"Log-In"),we()()()()()}},dependencies:[Cc]})}}return n})(),b4=(()=>{class n{constructor(t){this.authService=t,this.title="Aibit"}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||n)(H(zc))}}static{this.\u0275cmp=Kn({type:n,selectors:[["app-dashboard"]],decls:103,vars:1,consts:[["role","main",1,"content"],[1,"card","highlight-card","card-small"],["id","rocket","xmlns","http://www.w3.org/2000/svg","width","101.678","height","101.678","viewBox","0 0 101.678 101.678"],["id","Group_83","data-name","Group 83","transform","translate(-141 -696)"],["id","Ellipse_8","data-name","Ellipse 8","cx","50.839","cy","50.839","r","50.839","transform","translate(143 699)","fill","#fff","stroke","#1976d2","stroke-width","3"],["id","Group_47","data-name","Group 47","transform","translate(165.185 720.185)"],["d","M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17 s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4 c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562 C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829 c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91 v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4 s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019,0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665 C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2 S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4 s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2 s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z","fill","#00ccff"],[1,"card-container"],["target","_blank","rel","noopener","href","http://notes.toidamme.com:3302",1,"card"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","-4 0 60 60",1,"material-icons"],["id","People","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["id","Icon-3","transform","translate(-4.000000, 0.000000)","fill","#000000"],["d","M37,42 C37.553,42 38,42.448 38,43 C38,43.552 37.553,44 37,44 L23,44 C22.448,44 22,43.552 22,43 C22,42.448 22.448,42 23,42 L37,42 Z M43,38 L23,38 C22.448,38 22,37.552 22,37 C22,36.448 22.448,36 23,36 L43,36 C43.553,36 44,36.448 44,37 C44,37.552 43.553,38 43,38 L43,38 Z M45,32 L23,32 C22.448,32 22,31.552 22,31 C22,30.448 22.448,30 23,30 L45,30 C45.553,30 46,30.448 46,31 C46,31.552 45.553,32 45,32 L45,32 Z M22,25 C22,24.448 22.448,24 23,24 L41,24 C41.553,24 42,24.448 42,25 C42,25.552 41.553,26 41,26 L23,26 C22.448,26 22,25.552 22,25 L22,25 Z M22,19 C22,18.448 22.448,18 23,18 L43,18 C43.553,18 44,18.448 44,19 C44,19.552 43.553,20 43,20 L23,20 C22.448,20 22,19.552 22,19 L22,19 Z M18,43 C18,43.552 17.552,44 17,44 L15,44 C14.448,44 14,43.552 14,43 C14,42.448 14.448,42 15,42 L17,42 C17.552,42 18,42.448 18,43 L18,43 Z M18,37 C18,37.552 17.552,38 17,38 L15,38 C14.448,38 14,37.552 14,37 C14,36.448 14.448,36 15,36 L17,36 C17.552,36 18,36.448 18,37 L18,37 Z M18,31 C18,31.552 17.552,32 17,32 L15,32 C14.448,32 14,31.552 14,31 C14,30.448 14.448,30 15,30 L17,30 C17.552,30 18,30.448 18,31 L18,31 Z M18,25 C18,25.552 17.552,26 17,26 L15,26 C14.448,26 14,25.552 14,25 C14,24.448 14.448,24 15,24 L17,24 C17.552,24 18,24.448 18,25 L18,25 Z M18,19 C18,19.552 17.552,20 17,20 L15,20 C14.448,20 14,19.552 14,19 C14,18.448 14.448,18 15,18 L17,18 C17.552,18 18,18.448 18,19 L18,19 Z M18,5 C18,4.448 18.448,4 19,4 L21,4 C21.552,4 22,4.448 22,5 C22,5.552 21.552,6 21,6 L19,6 C18.448,6 18,5.552 18,5 L18,5 Z M28,5 C28,4.448 28.448,4 29,4 L31,4 C31.553,4 32,4.448 32,5 C32,5.552 31.553,6 31,6 L29,6 C28.448,6 28,5.552 28,5 L28,5 Z M38,5 C38,4.448 38.447,4 39,4 L41,4 C41.553,4 42,4.448 42,5 C42,5.552 41.553,6 41,6 L39,6 C38.447,6 38,5.552 38,5 L38,5 Z M15,8 C15.551,8 16,8.449 16,9 C16,9.551 15.551,10 15,10 C14.449,10 14,9.551 14,9 C14,8.449 14.449,8 15,8 L15,8 Z M12,9 C12,10.654 13.346,12 15,12 C16.654,12 18,10.654 18,9 C18,7.698 17.162,6.599 16,6.184 L16,1 C16,0.448 15.552,0 15,0 C14.448,0 14,0.448 14,1 L14,6.184 C12.838,6.599 12,7.698 12,9 L12,9 Z M45,8 C45.552,8 46,8.449 46,9 C46,9.551 45.552,10 45,10 C44.448,10 44,9.551 44,9 C44,8.449 44.448,8 45,8 L45,8 Z M42,9 C42,10.654 43.346,12 45,12 C46.654,12 48,10.654 48,9 C48,7.698 47.161,6.599 46,6.184 L46,1 C46,0.448 45.553,0 45,0 C44.447,0 44,0.448 44,1 L44,6.184 C42.839,6.599 42,7.698 42,9 L42,9 Z M35,8 C35.552,8 36,8.449 36,9 C36,9.551 35.552,10 35,10 C34.448,10 34,9.551 34,9 C34,8.449 34.448,8 35,8 L35,8 Z M32,9 C32,10.654 33.346,12 35,12 C36.654,12 38,10.654 38,9 C38,7.698 37.161,6.599 36,6.184 L36,1 C36,0.448 35.553,0 35,0 C34.447,0 34,0.448 34,1 L34,6.184 C32.839,6.599 32,7.698 32,9 L32,9 Z M25,8 C25.551,8 26,8.449 26,9 C26,9.551 25.551,10 25,10 C24.449,10 24,9.551 24,9 C24,8.449 24.449,8 25,8 L25,8 Z M22,9 C22,10.654 23.346,12 25,12 C26.654,12 28,10.654 28,9 C28,7.698 27.162,6.599 26,6.184 L26,1 C26,0.448 25.552,0 25,0 C24.448,0 24,0.448 24,1 L24,6.184 C22.838,6.599 22,7.698 22,9 L22,9 Z M51,58 L9,58 C7.878,58 6.714,57.085 6.233,56 L53.767,56 C53.286,57.085 52.122,58 51,58 L51,58 Z M6,54 L54,54 L54,52 L6,52 L6,54 Z M51,4 L49,4 C48.447,4 48,4.448 48,5 C48,5.552 48.447,6 49,6 L51,6 C52.458,6 54,7.542 54,9 L54,50 L6,50 L6,9 C6,7.542 7.542,6 9,6 L11,6 C11.552,6 12,5.552 12,5 C12,4.448 11.552,4 11,4 L9,4 C6.43,4 4,6.43 4,9 L4,55 C4,57.57 6.43,60 9,60 L51,60 C53.57,60 56,57.57 56,55 L56,9 C56,6.43 53.57,4 51,4 L51,4 Z","id","notes"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24",1,"material-icons"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["target","_blank","rel","noopener","href","http://chess.toidamme.com:3301",1,"card"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 512 512",1,"material-icons"],["d","M100.807,213.441c-5.014,0-9.08,4.066-9.08,9.08c0,5.014,4.066,9.07,9.08,9.07c5.015,0,9.08-4.056,9.08-9.07\n            C109.887,217.507,105.822,213.441,100.807,213.441z",1,"st0"],["d","M449.433,436.201c1.488-3.446,2.367-7.492,2.357-11.907c0.01-4.295-0.738-8.311-2.107-11.887 c-1.188-3.127-2.817-5.914-4.685-8.331c-3.276-4.245-7.212-7.412-11.038-10.039c-2.878-1.978-5.724-3.647-8.292-5.185 c-3.866-2.277-7.122-4.325-8.84-5.973c-0.859-0.8-1.329-1.448-1.538-1.848c-0.08-0.15-0.11-0.25-0.14-0.36l-0.17-1.528v-0.02 c-0.07-0.729-1.628-15.723-1.628-37.69c0-25.023,2.038-59.126,10.349-91.332c5.963-23.145,8.621-44.632,8.621-64.411 c0.01-26.321-4.735-49.627-12.627-69.695c-11.837-30.128-30.736-52.952-51.185-68.277c-10.229-7.672-20.848-13.465-31.256-17.391 c-10.409-3.916-20.608-5.964-30.098-5.964c-0.7,0-1.389,0.031-2.078,0.06c-1.588-2.168-3.806-4.955-6.644-7.921 c-2.996-3.137-6.662-6.464-11.028-9.38c-4.375-2.918-9.47-5.424-15.273-6.723c-1.219-0.27-2.448-0.4-3.647-0.4 c-2.138-0.01-4.175,0.409-6.024,1.079c-3.486,1.278-6.303,3.346-8.781,5.704c-4.314,4.175-7.781,9.389-10.898,14.983 c-4.645,8.372-8.361,17.601-10.998,24.834c-1.319,3.636-2.358,6.752-3.077,8.97c-7.831,3.836-15.463,8.921-22.875,14.644 c-12.726,9.83-24.774,21.577-35.402,32.355c-5.295,5.384-10.239,10.539-14.664,15.074c-4.435,4.505-8.372,8.41-11.548,11.228 l-0.16,0.15l-0.16,0.159c0,0-0.958,0.95-2.656,2.637c-5.965,5.904-20.998,20.768-35.612,35.053 c-7.312,7.152-14.514,14.155-20.408,19.808c-2.937,2.817-5.554,5.304-7.682,7.292c-2.118,1.977-3.786,3.486-4.645,4.215 c-4.186,3.526-7.391,7.512-9.529,11.787c-2.138,4.286-3.167,8.851-3.157,13.276c0,5.194,1.369,10.149,3.646,14.564 c3.427,6.634,8.821,12.147,15.294,16.103c6.493,3.946,14.146,6.374,22.237,6.374c1.468,0,2.956-0.1,4.435-0.27 c0.359,1.987,0.979,3.896,1.838,5.674c2.038,4.175,5.234,7.701,9.27,10.298c4.035,2.588,8.971,4.216,14.344,4.206 c4.745,0.009,9.77-1.299,14.485-4.046c6.812-3.966,13.126-8.682,20.427-12.507c7.323-3.826,15.494-6.862,26.203-7.651 c7.212-0.52,14.324-1.459,21.146-2.758c-0.189,3.016-0.698,5.904-1.548,8.801c-1.828,6.323-5.234,12.736-9.62,19.829 c-6.542,10.648-15.214,22.706-22.395,38.359c-7.183,15.633-12.746,34.892-13.276,59.606v0.21c0,0.24-0.03,0.39-0.08,0.55 c-0.09,0.3-0.3,0.779-0.979,1.548c-0.599,0.659-1.528,1.478-2.757,2.388c-2.157,1.578-5.175,3.346-8.51,5.344 c-5.015,3.018-10.849,6.564-15.783,11.998c-2.457,2.706-4.666,5.944-6.224,9.73c-1.559,3.775-2.427,8.07-2.427,12.696 c-0.02,5.903,1.558,11.098,4.016,15.184c1.838,3.056,4.096,5.494,6.393,7.392c1.468,1.209,2.936,2.178,4.354,3.016l-11.357,19.13 V512h315.051v-42.983l-11.348-19.11c2.148-1.268,4.435-2.926,6.613-5.114C445.876,442.535,447.954,439.678,449.433,436.201z M190.39,337.467c6.294-17.681,15.504-30.907,23.715-43.873c4.096-6.473,7.951-12.906,10.868-19.878 c2.918-6.942,4.835-14.505,4.825-22.756c0-0.57-0.03-1.14-0.05-1.698c1.488-0.46,2.957-0.949,4.396-1.448 c6.133-2.148,11.696-4.676,16.502-7.672c4.805-3.008,8.91-6.454,11.887-10.868l-13.465-8.981c-1.119,1.729-3.467,3.966-6.973,6.124 c-5.224,3.276-12.866,6.373-21.697,8.72c-8.86,2.337-18.93,3.996-29.168,4.725c-13.266,0.929-23.935,4.915-32.565,9.47 c-8.64,4.555-15.394,9.609-21.007,12.826c-2.448,1.409-4.525,1.858-6.384,1.878c-1.398,0-2.707-0.289-3.916-0.769 c-1.797-0.729-3.346-1.987-4.335-3.316c-1.019-1.339-1.379-2.668-1.369-3.437c0.01-0.568,0.111-0.899,0.41-1.368l-0.62-0.41 c1.079-0.639,2.148-1.318,3.177-2.078c2.218-1.618,5.754-3.936,9.689-6.414c5.924-3.725,12.826-7.871,18.221-11.058 c2.696-1.608,5.024-2.967,6.672-3.926c0.819-0.48,1.478-0.86,1.918-1.119c0.45-0.26,0.69-0.399,0.69-0.399l-8.081-14.006 c-0.031,0.02-7.032,4.056-15.324,9.03c-4.146,2.498-8.611,5.204-12.707,7.792c-4.105,2.578-7.811,4.995-10.588,7.013 c-4.485,3.247-9.071,4.534-13.725,4.555c-3.196,0-6.424-0.66-9.45-1.848c-4.555-1.788-8.63-4.824-11.378-8.291 c-1.378-1.738-2.447-3.566-3.136-5.384c-0.69-1.818-1.039-3.606-1.048-5.354c0.019-1.998,0.439-3.956,1.478-6.054 c1.039-2.088,2.737-4.345,5.474-6.653c1.479-1.258,3.536-3.146,6.234-5.654c9.31-8.751,25.702-24.774,39.817-38.649 c13.376-13.146,24.654-24.334,25.803-25.462c4.905-4.385,10.498-10.129,16.792-16.593c9.529-9.829,20.578-21.297,32.105-31.496 c11.528-10.219,23.585-19.119,34.543-23.894l3.476-1.509l1.049-3.636l0.009-0.03c0.161-0.589,4.056-13.665,9.81-26.122 c2.847-6.213,6.214-12.277,9.43-16.272c1.578-2.018,3.127-3.477,4.255-4.246c0.58-0.38,1.019-0.589,1.318-0.699 c0.3-0.1,0.44-0.11,0.52-0.11l0.12,0.01h0.021c3.376,0.75,6.703,2.318,9.81,4.385c4.654,3.098,8.71,7.292,11.487,10.69 c1.389,1.698,2.467,3.186,3.177,4.215c0.359,0.519,0.619,0.918,0.779,1.178l0.18,0.279l0.02,0.04l2.696,4.496l5.194-0.629 c1.639-0.19,3.377-0.3,5.185-0.3c9.5-0.02,21.278,2.847,33.394,8.84c18.211,8.981,37.16,24.884,51.485,47.569 c14.305,22.696,24.105,52.164,24.124,88.745c0,18.32-2.487,38.439-8.121,60.366c-8.81,34.234-10.849,69.476-10.849,95.377 c0,12.956,0.52,23.545,0.979,30.488h-22.885c-3.476-14.954-4.884-29.658-4.884-44.173c-0.01-25.122,4.186-49.676,8.881-73.551 c4.675-23.885,9.869-47.07,11.497-69.675v-0.01c0.17-2.458,0.26-4.955,0.26-7.502c0-11.897-1.888-24.763-5.854-37.499 c-5.953-19.08-16.572-37.97-32.855-52.274c-8.141-7.142-17.71-13.106-28.679-17.251c-10.948-4.146-23.296-6.473-36.931-6.463 v16.172c15.754,0.01,28.859,3.526,39.887,9.33c8.281,4.366,15.404,10.04,21.478,16.662c9.11,9.919,15.842,21.956,20.258,34.453 c4.435,12.487,6.533,25.422,6.523,36.87c0,2.178-0.08,4.295-0.22,6.363v-0.009c-1.478,20.907-6.483,43.593-11.238,67.717 c-4.735,24.134-9.18,49.737-9.19,76.668c0,14.375,1.298,29.119,4.495,44.173H183.299 C184.297,358.535,186.894,347.288,190.39,337.467z M432.211,495.827H149.514v-22.366l11.838-19.938h259.032l11.828,19.938V495.827z M433.889,431.176c-0.748,1.259-1.717,2.318-2.817,3.237c-1.658,1.389-3.626,2.368-5.144,2.957c-0.22,0.09-0.409,0.15-0.6,0.22 v-0.239H156.667v0.34c-0.34-0.121-0.7-0.251-1.119-0.41c-1.958-0.789-4.525-2.218-6.313-4.216 c-0.899-1.008-1.639-2.128-2.197-3.506c-0.54-1.378-0.92-3.036-0.93-5.264c0.01-2.477,0.41-4.425,1.06-6.154 c0.569-1.518,1.348-2.867,2.367-4.195c1.778-2.308,4.326-4.475,7.382-6.573c2.287-1.568,4.825-3.077,7.422-4.626 c3.906-2.348,7.951-4.685,11.588-8.041c1.798-1.668,3.516-3.666,4.834-6.154c0.08-0.15,0.13-0.309,0.2-0.46h219.814 c0.909,1.838,2.048,3.456,3.286,4.846c1.628,1.808,3.406,3.296,5.234,4.635c3.196,2.327,6.554,4.245,9.77,6.173 c4.815,2.867,9.23,5.764,12.077,8.961c1.438,1.598,2.518,3.216,3.266,5.034c0.75,1.828,1.199,3.895,1.209,6.553 C435.597,427.451,434.888,429.478,433.889,431.176z",1,"st0"],["target","_blank","rel","noopener","href","http://shop.toidamme.com:3300",1,"card"],["xmlns","http://www.w3.org/2000/svg","width","21.813","height","23.453","viewBox","0 0 48 48",2,"margin-right","8px"],["fill-rule","evenodd","clip-rule","evenodd","d","M9 18H11V28H37V18H39V28H40.5C40.7761 28 41 28.2239 41 28.5V29.5C41 29.7761 40.7761 30 40.5 30H7.5C7.22386 30 7 29.7761 7 29.5V28.5C7 28.2239 7.22386 28 7.5 28H9V18ZM10 33V40H38V33H10ZM9 31C8.44772 31 8 31.4477 8 32V41C8 41.5523 8.44772 42 9 42H39C39.5523 42 40 41.5523 40 41V32C40 31.4477 39.5523 31 39 31H9Z","fill","#333333"],["fill-rule","evenodd","clip-rule","evenodd","d","M10.1888 8L8.04354 13.9129C8.01478 13.9922 8 14.0761 8 14.1609V16.551C8 17.3592 8.64747 18 9.42857 18C10.2097 18 10.8571 17.3592 10.8571 16.551C10.8571 15.9987 11.3049 15.551 11.8571 15.551C12.4094 15.551 12.8571 15.9987 12.8571 16.551C12.8571 17.3592 13.5046 18 14.2857 18C15.0668 18 15.7143 17.3592 15.7143 16.551C15.7143 15.9987 16.162 15.551 16.7143 15.551C17.2666 15.551 17.7143 15.9987 17.7143 16.551C17.7143 17.3592 18.3618 18 19.1429 18C19.9236 18 20.5708 17.3598 20.5714 16.5522C20.5719 16.0003 21.0195 15.553 21.5714 15.553C22.1234 15.553 22.571 16.0003 22.5714 16.5522C22.5721 17.3598 23.2193 18 24 18C24.7811 18 25.4286 17.3592 25.4286 16.551C25.4286 15.9987 25.8763 15.551 26.4286 15.551C26.9809 15.551 27.4286 15.9987 27.4286 16.551C27.4286 17.3592 28.076 18 28.8571 18C29.6379 18 30.2851 17.3598 30.2857 16.5522C30.2862 16.0003 30.7337 15.553 31.2857 15.553C31.8377 15.553 32.2853 16.0003 32.2857 16.5522C32.2864 17.3598 32.9336 18 33.7143 18C34.4954 18 35.1429 17.3592 35.1429 16.551C35.1429 15.9987 35.5906 15.551 36.1429 15.551C36.6951 15.551 37.1429 15.9987 37.1429 16.551C37.1429 17.3592 37.7903 18 38.5714 18C39.3525 18 40 17.3592 40 16.551V14.1609C40 14.0761 39.9852 13.9922 39.9565 13.9129L37.8112 8H10.1888ZM37.7764 7.90395L37.7763 7.9037L37.9181 7.85225L37.7763 7.90369C37.7763 7.90378 37.7763 7.90387 37.7764 7.90395ZM36.1429 18.9856C35.5233 19.6115 34.6656 20 33.7143 20C32.7629 20 31.9053 19.6115 31.2857 18.9856C30.6662 19.6115 29.8085 20 28.8571 20C27.9058 20 27.0481 19.6115 26.4286 18.9856C25.809 19.6115 24.9514 20 24 20C23.0486 20 22.191 19.6115 21.5714 18.9856C20.9519 19.6115 20.0942 20 19.1429 20C18.1915 20 17.3338 19.6115 16.7143 18.9856C16.0947 19.6115 15.2371 20 14.2857 20C13.3344 20 12.4767 19.6115 11.8571 18.9856C11.2376 19.6115 10.3799 20 9.42857 20C7.52715 20 6 18.4479 6 16.551V14.1609C6 13.8438 6.05528 13.529 6.16345 13.2308L8.34363 7.22159C8.60829 6.4921 9.30012 6 10.0819 6H37.9181C38.6999 6 39.3917 6.4921 39.6564 7.2216L41.8366 13.2308C41.9447 13.529 42 13.8438 42 14.1609V16.551C42 18.4479 40.4728 20 38.5714 20C37.6201 20 36.7624 19.6115 36.1429 18.9856Z","fill","#333333"],["d","M12 25.5C12 25.2239 12.2239 25 12.5 25H15.5C15.7761 25 16 25.2239 16 25.5V27.5C16 27.7761 15.7761 28 15.5 28H12.5C12.2239 28 12 27.7761 12 27.5V25.5Z","fill","#333333"],["d","M14 26.5C14 26.2239 14.2239 26 14.5 26H17.5C17.7761 26 18 26.2239 18 26.5V27.5C18 27.7761 17.7761 28 17.5 28H14.5C14.2239 28 14 27.7761 14 27.5V26.5Z","fill","#333333"],["d","M22 26.5C22 27.3284 21.3284 28 20.5 28C19.6716 28 19 27.3284 19 26.5C19 25.6716 19.6716 25 20.5 25C21.3284 25 22 25.6716 22 26.5Z","fill","#333333"],["target","_blank","rel","noopener","href","http://games.toidamme.com:3303/",1,"card"],["type","text/css"],["d","M512,19.25c0-10.1-8.195-18.279-18.287-18.279H308.866v73.652c4.586-2.558,9.865-4.008,15.481-4.008 c17.623,0,31.919,14.287,31.919,31.923c0,17.619-14.288,31.914-31.919,31.914c-5.616,0-10.895-1.458-15.481-3.999v73.644h73.652 c-2.549,4.586-4.008,9.864-4.008,15.476c0,17.635,14.288,31.923,31.923,31.923c17.627,0,31.914-14.288,31.914-31.923 c0-5.612-1.458-10.89-3.999-15.476H512V19.25z",1,"st0"],["d","M429.616,275.37h-92.794c-3.25,0-6.256,1.718-7.901,4.504l0.09-0.154l-0.106,0.171 c-0.839,1.426-1.263,3.038-1.263,4.643c0,1.531,0.391,3.078,1.157,4.464l5.849,10.532c1.311,2.37,1.954,4.863,1.963,7.583 c-0.008,4.203-1.621,8.08-4.586,11.062c-2.981,2.965-6.866,4.578-11.062,4.594c-4.203-0.017-8.088-1.629-11.078-4.594l0.012,0.017 c-2.974-2.998-4.582-6.883-4.59-11.078c0.008-2.713,0.651-5.213,1.958-7.591l5.853-10.524c0.77-1.386,1.157-2.924,1.157-4.464 c0-1.605-0.424-3.217-1.276-4.66c-1.649-2.793-4.655-4.504-7.9-4.504h-69.432v-37.184c12.548-0.196,24.4-5.14,33.278-14.035 c9.09-9.066,14.125-21.227,14.116-34.072c0.008-12.862-5.03-25.023-14.116-34.081c-8.871-8.896-20.726-13.832-33.278-14.027V81.416 c-0.004-5.066-4.11-9.172-9.176-9.172H34.548c-9.204-0.007-17.94,3.601-24.432,10.109C3.669,88.805,0.008,97.659,0,106.798v369.686 c-0.008,9.196,3.608,17.928,10.116,24.428c6.452,6.443,15.293,10.108,24.432,10.117h369.726 c9.115-0.008,17.961-3.674,24.404-10.117c6.509-6.5,10.117-15.224,10.109-24.428V284.542 C438.788,279.476,434.682,275.37,429.616,275.37z M28.37,106.798c0-2.118,0.986-3.559,1.792-4.366 c0.835-0.831,2.272-1.825,4.386-1.825h172.747v73.603c0,1.776,0.941,3.413,2.468,4.317c0.782,0.456,1.657,0.685,2.537,0.685 c0.839,0,1.674-0.204,2.432-0.627l10.528-5.849c2.969-1.646,6.203-2.485,9.608-2.485c5.29,0,10.271,2.061,14.014,5.8 c3.747,3.755,5.808,8.74,5.808,14.027c0,5.286-2.061,10.264-5.8,14.01c-3.751,3.747-8.732,5.808-14.022,5.808 c-3.409,0-6.639-0.839-9.604-2.485l-10.536-5.849c-0.753-0.423-1.592-0.627-2.427-0.627c-0.88,0-1.756,0.228-2.537,0.693 c-1.527,0.896-2.468,2.533-2.468,4.309v73.603h-45.575c0.09-1.133,0.134-2.264,0.134-3.38c0-11.77-4.582-22.824-12.894-31.124 c-8.304-8.317-19.358-12.894-31.128-12.894c-11.766,0-22.819,4.578-31.12,12.886c-8.32,8.3-12.902,19.362-12.898,31.124 c0,1.124,0.044,2.249,0.134,3.389H28.37V106.798z M207.296,482.666H34.548c-2.114,0-3.551-0.994-4.366-1.8 c-0.826-0.831-1.812-2.273-1.812-4.382V303.725h73.599c1.772,0,3.413-0.937,4.313-2.46c0.9-1.532,0.925-3.422,0.062-4.969 l-5.844-10.532c-1.65-2.974-2.485-6.207-2.489-9.604c0.004-5.287,2.07-10.271,5.8-14.019c3.758-3.738,8.74-5.808,14.022-5.808 c5.282,0,10.264,2.07,14.01,5.8c3.743,3.755,5.808,8.74,5.812,14.018c-0.004,3.413-0.844,6.647-2.477,9.604l-5.857,10.532 c-0.864,1.556-0.838,3.446,0.062,4.969c0.9,1.531,2.542,2.468,4.313,2.468h73.599v45.59c-1.133-0.089-2.26-0.13-3.376-0.13 c-11.774,0-22.828,4.578-31.12,12.886c-8.324,8.308-12.902,19.362-12.894,31.124c-0.008,11.762,4.57,22.824,12.887,31.124 c8.3,8.317,19.354,12.894,31.128,12.894c1.124,0,2.252-0.041,3.376-0.13V482.666z M410.424,476.484 c0,2.109-0.993,3.543-1.808,4.366c-0.831,0.823-2.265,1.817-4.374,1.817H231.496v-73.603c0-1.776-0.936-3.413-2.468-4.309 c-0.782-0.465-1.658-0.692-2.537-0.692c-0.835,0-1.674,0.204-2.428,0.627l-10.544,5.849c-2.961,1.645-6.191,2.484-9.6,2.484 c-5.282,0-10.264-2.068-14.01-5.8c-3.743-3.747-5.808-8.732-5.812-14.019c0.004-5.294,2.07-10.271,5.808-14.018 c3.744-3.739,8.724-5.808,14.015-5.816c3.385,0,6.618,0.839,9.6,2.484l10.54,5.857c0.758,0.424,1.592,0.628,2.432,0.628 c0.879,0,1.755-0.229,2.537-0.684c1.527-0.904,2.468-2.542,2.468-4.318v-73.611h45.578c-0.089,1.132-0.134,2.265-0.134,3.388 c-0.004,11.754,4.574,22.808,12.886,31.116c8.308,8.325,19.366,12.903,31.132,12.903c11.766,0,22.82-4.578,31.129-12.894 c8.316-8.3,12.886-19.354,12.886-31.124c0-1.124-0.041-2.248-0.13-3.388h45.582V476.484z",1,"st0"],["target","_blank","rel","noopener","href","http://travel.toidamme.com:3304",1,"card"],["xmlns","http://www.w3.org/2000/svg","enable-background","new 0 0 24 24","height","24px","viewBox","0 0 512 512","width","24px","fill","#000000",1,"material-icons"],["fill","none","height","24","width","24"],["d","M461.913,0H83.478C55.86,0,33.391,22.469,33.391,50.087v38.957H16.696C7.475,89.044,0,96.519,0,105.739 s7.475,16.696,16.696,16.696h16.696v66.783H16.696C7.475,189.217,0,196.693,0,205.913c0,9.22,7.475,16.696,16.696,16.696h16.696 v66.783H16.696C7.475,289.391,0,296.867,0,306.087s7.475,16.696,16.696,16.696h16.696v66.783H16.696 C7.475,389.565,0,397.04,0,406.261s7.475,16.696,16.696,16.696h16.696v38.956C33.391,489.531,55.86,512,83.478,512h378.435 C489.531,512,512,489.531,512,461.913V50.087C512,22.469,489.531,0,461.913,0z M133.565,478.609H83.478 c-9.206,0-16.696-7.49-16.696-16.696v-38.956h16.696c9.22,0,16.696-7.475,16.696-16.696s-7.475-16.696-16.696-16.696H66.783 v-66.783h16.696c9.22,0,16.696-7.475,16.696-16.696s-7.475-16.696-16.696-16.696H66.783v-66.783h16.696 c9.22,0,16.696-7.475,16.696-16.696c0-9.22-7.475-16.696-16.696-16.696H66.783v-66.783h16.696c9.22,0,16.696-7.475,16.696-16.696 s-7.475-16.696-16.696-16.696H66.783V50.087c0-9.206,7.49-16.696,16.696-16.696h50.087V478.609z M478.609,461.913 c0,9.206-7.49,16.696-16.696,16.696H166.957V33.391h294.956c9.206,0,16.696,7.49,16.696,16.696V461.913z"],["d","M426.519,223.678c-13.007-14.458-31.014-22.42-50.702-22.42c-20.965,0-39.234,9.257-53.034,26.82 c-13.801-17.563-32.069-26.82-53.034-26.82c-19.689,0-37.696,7.962-50.703,22.42c-12.269,13.638-19.027,31.826-19.027,51.213 c0,41.805,31.826,67.606,75.876,103.318c10.852,8.797,23.152,18.77,36.023,29.801c3.127,2.68,6.995,4.019,10.865,4.019 c3.87,0,7.739-1.34,10.866-4.019c12.87-11.03,25.17-21.003,36.023-29.801c44.05-35.711,75.876-61.513,75.876-103.318 C445.547,255.505,438.789,237.316,426.519,223.678z M348.642,352.271c-7.948,6.443-16.66,13.507-25.859,21.195 c-9.199-7.688-17.911-14.751-25.859-21.195c-42.894-34.775-63.514-52.59-63.514-77.38c0-19.508,12.735-40.241,36.339-40.241 c26.86,0,36.527,31.8,36.978,33.337c2.042,7.17,8.583,12.164,16.046,12.164c7.487,0,14.047-4.942,16.066-12.151 c0.397-1.361,10.042-33.349,36.981-33.349c23.603,0,36.339,20.733,36.339,40.241C412.156,299.68,391.536,317.496,348.642,352.271z "],["d","M428.522,89.044H217.043c-9.22,0-16.696,7.475-16.696,16.696s7.475,16.696,16.696,16.696h211.478 c9.22,0,16.696-7.475,16.696-16.696S437.742,89.044,428.522,89.044z"],["title","Find a Local Meetup","href","https://www.youtube.com/@Aibit.Moments","target","_blank","rel","noopener",1,"circle-link"],["width","800px","height","800px","viewBox","0 0 72 72","xmlns","http://www.w3.org/2000/svg"],["fill","none","fill-rule","evenodd"],["d","M36,72 L36,72 C55.882251,72 72,55.882251 72,36 L72,36 C72,16.117749 55.882251,-3.65231026e-15 36,0 L36,0 C16.117749,3.65231026e-15 -2.4348735e-15,16.117749 0,36 L0,36 C2.4348735e-15,55.882251 16.117749,72 36,72 Z","fill","#FF0002"],["d","M31.044,42.269916 L31.0425,28.6877416 L44.0115,35.5022437 L31.044,42.269916 Z M59.52,26.3341627 C59.52,26.3341627 59.0505,23.003199 57.612,21.5363665 C55.7865,19.610299 53.7405,19.6012352 52.803,19.4894477 C46.086,19 36.0105,19 36.0105,19 L35.9895,19 C35.9895,19 25.914,19 19.197,19.4894477 C18.258,19.6012352 16.2135,19.610299 14.3865,21.5363665 C12.948,23.003199 12.48,26.3341627 12.48,26.3341627 C12.48,26.3341627 12,30.2467232 12,34.1577731 L12,37.8256098 C12,41.7381703 12.48,45.6492202 12.48,45.6492202 C12.48,45.6492202 12.948,48.9801839 14.3865,50.4470165 C16.2135,52.3730839 18.612,52.3126583 19.68,52.5135736 C23.52,52.8851913 36,53 36,53 C36,53 46.086,52.9848936 52.803,52.4954459 C53.7405,52.3821478 55.7865,52.3730839 57.612,50.4470165 C59.0505,48.9801839 59.52,45.6492202 59.52,45.6492202 C59.52,45.6492202 60,41.7381703 60,37.8256098 L60,34.1577731 C60,30.2467232 59.52,26.3341627 59.52,26.3341627 L59.52,26.3341627 Z","fill","#FFF"],["title","Join the Conversation on Discord","href","https://www.facebook.com/profile.php?id=61561619573107","target","_blank","rel","noopener",1,"circle-link"],["width","800px","height","800px","viewBox","126.445 2.281 589 589","xmlns","http://www.w3.org/2000/svg"],["cx","420.945","cy","296.781","r","294.5","fill","#3c5a9a"],["d","M516.704 92.677h-65.239c-38.715 0-81.777 16.283-81.777 72.402.189 19.554 0 38.281 0 59.357H324.9v71.271h46.174v205.177h84.847V294.353h56.002l5.067-70.117h-62.531s.14-31.191 0-40.249c0-22.177 23.076-20.907 24.464-20.907 10.981 0 32.332.032 37.813 0V92.677h-.032z","fill","#ffffff"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 1600 900"],["fill","#ffffff","width","1600","height","900"],["id","a","x1","0","x2","0","y1","1","y2","0"],["offset","0","stop-color","#0FF"],["offset","1","stop-color","#CF6"],["id","b","x1","0","x2","0","y1","0","y2","1"],["offset","0","stop-color","#F00"],["offset","1","stop-color","#FC0"],["fill","#FFF","fill-opacity","0","stroke-miterlimit","10"],["stroke","url(#a)","stroke-width","2"],["transform","translate(0 0)","d","M1409 581 1450.35 511 1490 581z"],["stroke-width","4","transform","rotate(0 800 450)","cx","500","cy","100","r","40"],["transform","translate(0 0)","d","M400.86 735.5h-83.73c0-23.12 18.74-41.87 41.87-41.87S400.86 712.38 400.86 735.5z"],["stroke","url(#b)","stroke-width","4"],["transform","translate(0 0)","d","M149.8 345.2 118.4 389.8 149.8 434.4 181.2 389.8z"],["stroke-width","8","transform","rotate(0 1089 759)","x","1039","y","709","width","100","height","100"],["transform","rotate(0 1400 132)","d","M1426.8 132.4 1405.7 168.8 1363.7 168.8 1342.7 132.4 1363.7 96 1405.7 96z"]],template:function(r,i){1&r&&(he(0,"div",0)(1,"div",1),qr(),he(2,"svg",2)(3,"title"),Ke(4,"Network"),we(),he(5,"g",3),wt(6,"circle",4),he(7,"g",5),wt(8,"path",6),we()()(),Gi(),he(9,"span"),Ke(10),we()(),he(11,"h2"),Ke(12,"Products"),we(),he(13,"div",7)(14,"a",8),qr(),he(15,"svg",9)(16,"g",10)(17,"g",11),wt(18,"path",12),we()()(),Gi(),he(19,"span"),Ke(20,"Universal Notes"),we(),qr(),he(21,"svg",13),wt(22,"path",14),we()(),Gi(),he(23,"a",15),qr(),he(24,"svg",16)(25,"g"),wt(26,"path",17)(27,"path",18),we()(),Gi(),he(28,"span"),Ke(29,"Chess Club"),we(),qr(),he(30,"svg",13),wt(31,"path",14),we()(),Gi(),he(32,"a",19),qr(),he(33,"svg",20),wt(34,"path",21)(35,"path",22)(36,"path",23)(37,"path",24)(38,"path",25),we(),Gi(),he(39,"span"),Ke(40,"Internal Market"),we(),qr(),he(41,"svg",13),wt(42,"path",14),we()(),Gi(),he(43,"a",26),qr(),he(44,"svg",16)(45,"style",27),Ke(46," .st0 { fill: #000000; } "),we(),he(47,"g"),wt(48,"path",28)(49,"path",29),we()(),Gi(),he(50,"span"),Ke(51,"Interesting Games"),we(),qr(),he(52,"svg",13),wt(53,"path",14),we()(),Gi(),he(54,"a",30),qr(),he(55,"svg",31)(56,"g"),wt(57,"rect",32),we(),he(58,"g")(59,"g"),wt(60,"path",33),we()(),he(61,"g")(62,"g"),wt(63,"path",34),we()(),he(64,"g")(65,"g"),wt(66,"path",35),we()()(),Gi(),he(67,"span"),Ke(68,"Travel Diary"),we(),qr(),he(69,"svg",13),wt(70,"path",14),we()()(),Gi(),he(71,"div",7)(72,"a",36),qr(),he(73,"svg",37)(74,"g",38),wt(75,"path",39)(76,"path",40),we(),he(77,"title"),Ke(78,"YouTube Channel"),we()()(),Gi(),he(79,"a",41),qr(),he(80,"svg",42),wt(81,"circle",43)(82,"path",44),he(83,"title"),Ke(84,"Facebook Fan Page"),we()()()(),he(85,"svg",45),wt(86,"rect",46),he(87,"defs")(88,"linearGradient",47),wt(89,"stop",48)(90,"stop",49),we(),he(91,"linearGradient",50),wt(92,"stop",51)(93,"stop",52),we()(),he(94,"g",53)(95,"g",54),wt(96,"path",55)(97,"circle",56)(98,"path",57),we(),he(99,"g",58),wt(100,"path",59)(101,"rect",60)(102,"path",61),we()()()()),2&r&&(je(10),$l("",i.title," is serving !!!"))},styles:['[_nghost-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;font-size:14px;color:#333;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:8px 0}p[_ngcontent-%COMP%]{margin:0}.content[_ngcontent-%COMP%]{display:flex;margin:82px auto 32px;padding:0 16px;max-width:960px;flex-direction:column;align-items:center;background-image:url(/assets/background.svg);background-position:center;background-repeat:no-repeat}svg.material-icons[_ngcontent-%COMP%]{height:24px;width:auto}svg.material-icons[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}.card[_ngcontent-%COMP%]   svg.material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#888}.card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:16px}.card[_ngcontent-%COMP%]{all:unset;border-radius:4px;border:1px solid #eee;background-color:#fafafa;height:40px;width:200px;margin:0 8px 16px;padding:16px;display:flex;flex-direction:row;justify-content:center;align-items:center;transition:all .2s ease-in-out;line-height:24px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child){margin-right:0}.card.card-small[_ngcontent-%COMP%]{height:16px;width:168px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card){cursor:pointer}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover{transform:translateY(-3px);box-shadow:0 4px 17px #00000059}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#696767}.card.highlight-card[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff;font-weight:600;border:none;width:auto;min-width:30%;position:relative}.card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:60px}svg#rocket[_ngcontent-%COMP%]{width:80px;position:absolute;left:-10px;top:-24px}svg#rocket-smoke[_ngcontent-%COMP%]{height:calc(100vh - 95px);position:absolute;top:10px;right:180px;z-index:-10}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover{color:#1976d2;text-decoration:none}a[_ngcontent-%COMP%]:hover{color:#125699}.terminal[_ngcontent-%COMP%]{position:relative;width:80%;max-width:600px;border-radius:6px;padding-top:45px;margin-top:8px;overflow:hidden;background-color:#0f0f10}.terminal[_ngcontent-%COMP%]:before{content:"\\2022\\2022\\2022";position:absolute;top:0;left:0;height:4px;background:rgb(58,58,58);color:#c2c3c4;width:100%;font-size:2rem;line-height:0;padding:14px 0;text-indent:4px}.terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;color:#fff;padding:0 1rem 1rem;margin:0}.circle-link[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:40px;margin:8px;background-color:#fff;border:1px solid #eeeeee;display:flex;justify-content:center;align-items:center;cursor:pointer;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d;transition:1s ease-out}.circle-link[_ngcontent-%COMP%]:hover{transform:translateY(-.25rem);box-shadow:0 3px 15px #0003}footer[_ngcontent-%COMP%]{margin-top:8px;display:flex;align-items:center;line-height:20px}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}.github-star-badge[_ngcontent-%COMP%]{color:#24292e;display:flex;align-items:center;font-size:12px;padding:3px 10px;border:1px solid rgba(27,31,35,.2);border-radius:3px;background-image:linear-gradient(-180deg,#fafbfc,#eff3f6 90%);margin-left:4px;font-weight:600}.github-star-badge[_ngcontent-%COMP%]:hover{background-image:linear-gradient(-180deg,#f0f3f6,#e6ebf1 90%);border-color:#1b1f2359;background-position:-.5em}.github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{height:16px;width:16px;margin-right:4px}svg#clouds[_ngcontent-%COMP%]{position:fixed;bottom:-160px;left:-230px;z-index:-10;width:1920px}@media screen and (max-width: 767px){.card-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%]:not(.highlight-card){height:16px;margin:8px 0}.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:72px}svg#rocket-smoke[_ngcontent-%COMP%]{right:120px;transform:rotate(-5deg)}}@media screen and (max-width: 575px){svg#rocket-smoke[_ngcontent-%COMP%]{display:none;visibility:hidden}}']})}}return n})(),qX=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||n)(H(zc))}}static{this.\u0275cmp=Kn({type:n,selectors:[["app-forgot-password"]],decls:17,vars:0,consts:[[1,"d-flex","justify-content-center","align-items-center",2,"min-height","100vh"],[1,"w-100",2,"max-width","550px"],[1,"card"],[1,"card-body"],[1,"card-title"],["type","text","required","","placeholder","Registed email",1,"form-control","mb-3"],["emailRef",""],["type","submit","value","Reset password",1,"btn","btn-primary",3,"click"],[1,"w-100","text-center","mt-4"],["routerLink","/sign-in",1,"redirect"]],template:function(r,i){if(1&r){const o=ao();he(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),Ke(5,"Reset password"),we(),he(6,"p"),Ke(7,"Please enter your email address to request a password reset"),we(),wt(8,"input",5,6),he(10,"input",7),At("click",function(){Ar(o);const a=Qr(9);return zr(i.authService.ForgotPassword(a.value))}),we()()(),he(11,"div",8)(12,"span"),Ke(13,"Go back to "),he(14,"a",9),Ke(15,"Log-In"),we(),Ke(16," ?"),we()()()()}},dependencies:[Cc]})}}return n})();function KX(n,e){if(1&n&&(he(0,"div",4)(1,"p",9),Ke(2,"We have sent a confirmation email to "),he(3,"strong"),Ke(4),we(),Ke(5,"."),we(),he(6,"p",9),Ke(7,"Please check your email and click on the link to verfiy your email address."),we()()),2&n){const t=e.ngIf;je(4),zi(t.email)}}let QX=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||n)(H(zc))}}static{this.\u0275cmp=Kn({type:n,selectors:[["app-verify-email"]],decls:15,vars:1,consts:[[1,"displayTable"],[1,"displayTableCell"],[1,"authBlock"],["class","formGroup",4,"ngIf"],[1,"formGroup"],["type","button",1,"btn","btnPrimary",3,"click"],[1,"fas","fa-redo-alt"],[1,"redirectToLogin"],["routerLink","/sign-in",1,"redirect"],[1,"text-center"]],template:function(r,i){1&r&&(he(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),Ke(4,"Thank You for Registering"),we(),Ze(5,KX,8,1,"div",3),he(6,"div",4)(7,"button",5),At("click",function(){return i.authService.SendVerificationMail()}),wt(8,"i",6),Ke(9," Resend Verification Email "),we()()(),he(10,"div",7)(11,"span"),Ke(12,"Go back to?"),he(13,"span",8),Ke(14," Sign in"),we()()()()()),2&r&&(je(5),We("ngIf",i.authService.userData))},dependencies:[Us,Cc]})}}return n})();const zD=(n,e)=>!0;function YX(n,e){if(1&n&&(he(0,"div",2)(1,"div",8)(2,"div",9),wt(3,"img",10),he(4,"div",11)(5,"h1"),Ke(6,"Hello: "),he(7,"strong"),Ke(8),we()(),he(9,"p"),Ke(10,"User ID: "),he(11,"strong"),Ke(12),we()(),he(13,"p"),Ke(14,"Email: "),he(15,"strong"),Ke(16),we()(),he(17,"p"),Ke(18,"Email Verified: "),he(19,"strong"),Ke(20),we()()()()()()),2&n){const t=e.ngIf;je(3),hg("src",t.photoURL?t.photoURL:"/assets/male_avatar.png",OI),hg("alt",t.displayName),je(5),zi(t.displayName?t.displayName:"User"),je(4),zi(t.uid),je(4),zi(t.email),je(4),zi(t.emailVerified)}}const JX=[{path:"",component:b4,canActivate:[zD]},{path:"sign-up",component:v4},{path:"sign-in",component:WX},{path:"register-user",component:v4},{path:"dashboard",component:b4,canActivate:[zD]},{path:"profile",component:(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||n)(H(zc))}}static{this.\u0275cmp=Kn({type:n,selectors:[["app-profile"]],decls:9,vars:1,consts:[[2,"height","64px"],[1,"container-fluid","justify-content-center","align-items-center"],[1,"row"],["role","main",1,"col-md-9","ml-sm-auto","col-lg-10","px-4"],[1,"inner-adjust"],[1,"pt-3","pb-2","mb-3","border-bottom"],[1,"h2"],["class","row",4,"ngIf"],[1,"col-md-12"],[1,"media"],["width","64px","height","64px",1,"align-self-start","mr-5","img-thumbnail","rounded-circle",3,"src","alt"],[1,"media-body"]],template:function(r,i){1&r&&(wt(0,"div",0),he(1,"div",1)(2,"div",2)(3,"main",3)(4,"div",4)(5,"div",5)(6,"h1",6),Ke(7,"User Profile"),we()(),Ze(8,YX,21,6,"div",7),we()()()()),2&r&&(je(8),We("ngIf",i.authService.userData))},dependencies:[Us]})}}return n})(),canActivate:[zD]},{path:"forgot-password",component:qX},{path:"verify-email-address",component:QX}];let ZX=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({imports:[Z2.forRoot(JX),Z2]})}}return n})();const XX=function(){return["/profile"]};function eee(n,e){if(1&n){const t=ao();he(0,"div",10)(1,"form",11)(2,"li",12)(3,"a",13)(4,"strong"),Ke(5),we()()(),he(6,"li",12)(7,"a",14),At("click",function(){return Ar(t),zr(ht().SignOut())}),Ke(8,"Sign Out"),we()()()()}if(2&n){const t=e.ngIf;je(3),We("routerLink",zl(2,XX)),je(2),zi(t.displayName?t.displayName:t.email)}}const tee=function(){return["/sign-in"]},nee=function(){return["/sign-up"]};function ree(n,e){1&n&&(he(0,"div",11)(1,"li",12)(2,"a",13)(3,"strong"),Ke(4,"Sign In"),we()()(),he(5,"li",12)(6,"a",13),Ke(7,"Sign Up"),we()()()),2&n&&(je(2),We("routerLink",zl(2,tee)),je(4),We("routerLink",zl(3,nee)))}const iee=function(){return["/"]};let oee=(()=>{class n{constructor(t){this.authService=t,this.title="Aibit"}SignOut(){console.log("Sign out is clicked!"),this.authService.SignOut()}static{this.\u0275fac=function(r){return new(r||n)(H(zc))}}static{this.\u0275cmp=Kn({type:n,selectors:[["app-header"]],decls:12,vars:4,consts:[[1,"navbar","navbar-expand-sm","navbar-light","bg-gradient-light"],[1,"container-fluid","toolbar","decorative"],[1,"navbar-brand",3,"routerLink"],["width","40","src","/assets/logo.svg","alt","logo","aria-hidden","true",1,"brand-logo"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],[1,"spacer"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],["class","row",4,"ngIf","ngIfElse"],["LoginSignupTemplate",""],[1,"row"],[1,"d-flex","navbar-nav"],[1,"nav-item"],[1,"nav-link",3,"routerLink"],[1,"nav-link",2,"cursor","pointer",3,"click"]],template:function(r,i){if(1&r&&(he(0,"nav",0)(1,"div",1)(2,"a",2),wt(3,"img",3),we(),he(4,"button",4),wt(5,"span",5),we(),wt(6,"div",6),he(7,"div")(8,"div",7),Ze(9,eee,9,3,"div",8),Ze(10,ree,8,4,"ng-template",null,9,Yo),we()()()()),2&r){const o=Qr(11);je(2),We("routerLink",zl(3,iee)),je(7),We("ngIf",i.authService.userData)("ngIfElse",o)}},dependencies:[Us,Cc],styles:[".decorative[_ngcontent-%COMP%]{background-image:url(/assets/decorative-waves.svg);background-position:center;background-repeat:no-repeat;background-size:auto 64px}.toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#1976d2;color:#fff;font-weight:600}.toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 16px}.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]{height:40px;margin:0 8px}.toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]{height:40px;margin:0 16px}.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]:hover{opacity:.8}.spacer[_ngcontent-%COMP%]{flex:1}"]})}}return n})(),see=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Kn({type:n,selectors:[["app-footer"]],decls:6,vars:0,consts:[[1,"spacer"]],template:function(r,i){1&r&&(he(0,"footer")(1,"span"),Ke(2,"Doing tasks more easily with supporting of computer applications is an art itself !!!"),we(),wt(3,"div",0),he(4,"span"),Ke(5,"Copyright 2018 \xa9"),we()())},styles:["footer[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#1976d2a0;color:#fff;font-weight:600;padding:10px}.spacer[_ngcontent-%COMP%]{flex:1}"]})}}return n})(),aee=(()=>{class n{constructor(){this.title="Aibit"}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Kn({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(r,i){1&r&&wt(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[oT,oee,see],styles:['[_nghost-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;font-size:14px;color:#333;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:8px 0}p[_ngcontent-%COMP%]{margin:0}.content[_ngcontent-%COMP%]{display:flex;margin:82px auto 32px;padding:0 16px;max-width:960px;flex-direction:column;align-items:center}svg.material-icons[_ngcontent-%COMP%]{height:24px;width:auto}svg.material-icons[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}.card[_ngcontent-%COMP%]   svg.material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#888}.card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:16px}.card[_ngcontent-%COMP%]{all:unset;border-radius:4px;border:1px solid #eee;background-color:#fafafa;height:40px;width:200px;margin:0 8px 16px;padding:16px;display:flex;flex-direction:row;justify-content:center;align-items:center;transition:all .2s ease-in-out;line-height:24px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child){margin-right:0}.card.card-small[_ngcontent-%COMP%]{height:16px;width:168px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card){cursor:pointer}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover{transform:translateY(-3px);box-shadow:0 4px 17px #00000059}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#696767}.card.highlight-card[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff;font-weight:600;border:none;width:auto;min-width:30%;position:relative}.card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:60px}svg#rocket[_ngcontent-%COMP%]{width:80px;position:absolute;left:-10px;top:-24px}svg#rocket-smoke[_ngcontent-%COMP%]{height:calc(100vh - 95px);position:absolute;top:10px;right:180px;z-index:-10}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover{color:#1976d2;text-decoration:none}a[_ngcontent-%COMP%]:hover{color:#125699}.terminal[_ngcontent-%COMP%]{position:relative;width:80%;max-width:600px;border-radius:6px;padding-top:45px;margin-top:8px;overflow:hidden;background-color:#0f0f10}.terminal[_ngcontent-%COMP%]:before{content:"\\2022\\2022\\2022";position:absolute;top:0;left:0;height:4px;background:rgb(58,58,58);color:#c2c3c4;width:100%;font-size:2rem;line-height:0;padding:14px 0;text-indent:4px}.terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;color:#fff;padding:0 1rem 1rem;margin:0}.circle-link[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:40px;margin:8px;background-color:#fff;border:1px solid #eeeeee;display:flex;justify-content:center;align-items:center;cursor:pointer;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d;transition:1s ease-out}.circle-link[_ngcontent-%COMP%]:hover{transform:translateY(-.25rem);box-shadow:0 3px 15px #0003}footer[_ngcontent-%COMP%]{margin-top:8px;display:flex;align-items:center;line-height:20px}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}.github-star-badge[_ngcontent-%COMP%]{color:#24292e;display:flex;align-items:center;font-size:12px;padding:3px 10px;border:1px solid rgba(27,31,35,.2);border-radius:3px;background-image:linear-gradient(-180deg,#fafbfc,#eff3f6 90%);margin-left:4px;font-weight:600}.github-star-badge[_ngcontent-%COMP%]:hover{background-image:linear-gradient(-180deg,#f0f3f6,#e6ebf1 90%);border-color:#1b1f2359;background-position:-.5em}.github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{height:16px;width:16px;margin-right:4px}svg#clouds[_ngcontent-%COMP%]{position:fixed;bottom:-160px;left:-230px;z-index:-10;width:1920px}@media screen and (max-width: 767px){.card-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%]:not(.highlight-card){height:16px;margin:8px 0}.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:72px}svg#rocket-smoke[_ngcontent-%COMP%]{right:120px;transform:rotate(-5deg)}}@media screen and (max-width: 575px){svg#rocket-smoke[_ngcontent-%COMP%]{display:none;visibility:hidden}}']})}}return n})();const cee=["addListener","removeListener"],lee=["addEventListener","removeEventListener"],uee=["on","off"];function hi(n,e,t,r){if(C(t)&&(r=t,t=void 0),r)return hi(n,e,t).pipe($w(r));const[i,o]=function fee(n){return C(n.addEventListener)&&C(n.removeEventListener)}(n)?lee.map(s=>a=>n[s](e,a,t)):function dee(n){return C(n.addListener)&&C(n.removeListener)}(n)?cee.map(I4(n,e)):function hee(n){return C(n.on)&&C(n.off)}(n)?uee.map(I4(n,e)):[];if(!i&&$t(n))return an(s=>hi(s,e,t))(De(n));if(!i)throw new TypeError("Invalid event target");return new lt(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function I4(n,e){return t=>r=>n[t](e,r)}const{isArray:gee}=Array;function w4(n){return 1===n.length&&gee(n[0])?n[0]:n}function WD(...n){const e=is(n),t=w4(n);return t.length?new lt(r=>{let i=t.map(()=>[]),o=t.map(()=>!1);r.add(()=>{i=o=null});for(let s=0;!r.closed&&s<t.length;s++)De(t[s]).subscribe(te(r,a=>{if(i[s].push(a),i.every(c=>c.length)){const c=i.map(d=>d.shift());r.next(e?e(...c):c),i.some((d,f)=>!d.length&&o[f])&&r.complete()}},()=>{o[s]=!0,!i[s].length&&r.complete()}));return()=>{i=o=null}}):en}function qD(...n){const e=is(n);return z((t,r)=>{const i=n.length,o=new Array(i);let s=n.map(()=>!1),a=!1;for(let c=0;c<i;c++)De(n[c]).subscribe(te(r,d=>{o[c]=d,!a&&!s[c]&&(s[c]=!0,(a=s.every(Zt))&&(s=null))},$e));t.subscribe(te(r,c=>{if(a){const d=[c,...o];r.next(e?e(...d):d)}}))})}Error,Math,Math,Math;const Wne=["*"],Ere=["dialog"];function Du(n){return"string"==typeof n}function Au(n){return null!=n}function If(n){return(n||document.body).getBoundingClientRect()}const i5={animation:!0,transitionTimerDelayMs:5},pie=()=>{},{transitionTimerDelayMs:gie}=i5,Jm=new Map,go=(n,e,t,r)=>{let i=r.context||{};const o=Jm.get(e);if(o)switch(r.runningTransition){case"continue":return en;case"stop":n.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),Jm.delete(e)}const s=t(e,r.animation,i)||pie;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>s()),q(void 0).pipe(function hie(n){return e=>new lt(t=>e.subscribe({next:s=>n.run(()=>t.next(s)),error:s=>n.run(()=>t.error(s)),complete:()=>n.run(()=>t.complete())}))}(n));const a=new G,c=new G,d=a.pipe(function _ee(...n){return e=>Ng(e,q(...n))}(!0));Jm.set(e,{transition$:a,complete:()=>{c.next(),c.complete()},context:i});const f=function fie(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const m=hi(e,"transitionend").pipe(hr(d),br(({target:b})=>b===e));(function T4(...n){return 1===(n=w4(n)).length?De(n[0]):new lt(function mee(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push(De(n[r]).subscribe(te(e,i=>{if(t){for(let o=0;o<t.length;o++)o!==r&&t[o].unsubscribe();t=null}e.next(i)})))}}(n))})(function E4(n=0,e,t=QK){let r=-1;return null!=e&&(rs(e)?t=e:r=e),new lt(i=>{let o=function pee(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(f+gie).pipe(hr(d)),m,c).pipe(hr(d)).subscribe(()=>{Jm.delete(e),n.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};let L1=(()=>{class n{constructor(){this.animation=i5.animation}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),f5=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})(),p5=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})(),_5=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})(),y5=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})();var Cn=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(Cn||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const C5=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function D5(n){const e=Array.from(n.querySelectorAll(C5)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let B5=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})(),$5=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})();class Pu{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let poe=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(ci(1)).subscribe(()=>{go(this._zone,this._el.nativeElement,(t,r)=>{r&&If(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return go(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(r){return new(r||n)(H(un),H(Nt))}}static{this.\u0275cmp=Kn({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,i){2&r&&(jl("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),Yt("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Ko],decls:0,vars:0,template:function(r,i){},encapsulation:2})}}return n})();class H5{update(e){}close(e){}dismiss(e){}}const goe=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],moe=["animation","backdropClass"];class _oe{_applyWindowOptions(e,t){goe.forEach(r=>{Au(t[r])&&(e[r]=t[r])})}_applyBackdropOptions(e,t){moe.forEach(r=>{Au(t[r])&&(e[r]=t[r])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(hr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(hr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new G,this._dismissed=new G,this._hidden=new G,e.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function t5(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():q(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),WD(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var HA=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(HA||{});let yoe=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new G,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Xe,this.shown=new G,this.hidden=new G}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Du(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(ci(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},s=WD(go(this._zone,t,()=>t.classList.remove("show"),r),go(this._zone,this._dialogEl.nativeElement,()=>{},r));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const t={animation:this.animation,runningTransition:"continue"};WD(go(this._zone,this._elRef.nativeElement,(o,s)=>{s&&If(o),o.classList.add("show")},t),go(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{hi(t,"keydown").pipe(hr(this._closed$),br(i=>i.which===Cn.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(HA.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;hi(this._dialogEl.nativeElement,"mousedown").pipe(hr(this._closed$),Br(()=>r=!1),Ve(()=>hi(t,"mouseup").pipe(hr(this._closed$),ci(1))),br(({target:i})=>t===i)).subscribe(()=>{r=!0}),hi(t,"click").pipe(hr(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(HA.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=D5(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&go(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(r){return new(r||n)(H(Lr),H(un),H(Nt))}}static{this.\u0275cmp=Kn({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(r,i){if(1&r&&Wl(Ere,7),2&r){let o;pn(o=function gn(){return function g$(n,e){return n[no].queries[e].queryList}(me(),fy())}())&&(i._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,i){2&r&&(hn("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),jl("modal d-block"+(i.windowClass?" "+i.windowClass:"")),Yt("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Ko],ngContentSelectors:Wne,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(r,i){1&r&&(function hN(n){const e=me()[nr][Dr];if(!e.projection){const r=e.projection=ba(n?n.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=n?VU(o,n):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}(),he(0,"div",0,1)(2,"div",2),function fN(n,e=0,t){const r=me(),i=Bt(),o=Xd(i,Mt+n,16,null,t||null);null===o.projection&&(o.projection=e),gp(),(!r[Io]||xs())&&32!=(32&o.flags)&&function B8(n,e,t){gR(e[dt],0,e,t,EI(n,t,e),lR(t.parent||e[Dr],t,e))}(i,r,o)}(3),we()()),2&r&&jl("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}}return n})(),voe=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:o,paddingRight:s}=i;if(t>0){const a=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${a+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=s),i.overflow=o}}static{this.\u0275fac=function(r){return new(r||n)(ve(Lr))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),boe=(()=>{class n{constructor(t,r,i,o,s,a,c){this._applicationRef=t,this._injector=r,this._environmentInjector=i,this._document=o,this._scrollBar=s,this._rendererFactory=a,this._ngZone=c,this._activeWindowCmptHasChanged=new G,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Xe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const d=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{n.runOutsideAngular(()=>{const i=hi(e,"focusin").pipe(hr(t),ye(o=>o.target));hi(e,"keydown").pipe(hr(t),br(o=>o.which===Cn.Tab),qD(i)).subscribe(([o,s])=>{const[a,c]=D5(e);(s===a||s===e)&&o.shiftKey&&(c.focus(),o.preventDefault()),s===c&&!o.shiftKey&&(a.focus(),o.preventDefault())}),r&&hi(e,"click").pipe(hr(t),qD(i),ye(o=>o[1])).subscribe(o=>o.focus())})})(this._ngZone,d.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(d.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const o=i.container instanceof HTMLElement?i.container:Au(i.container)?this._document.querySelector(i.container):this._document.body,s=this._rendererFactory.createRenderer(null,null);if(!o)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const a=new H5,c=(t=i.injector||t).get(so,null)||this._environmentInjector,d=this._getContentRef(t,c,r,a,i);let f=!1!==i.backdrop?this._attachBackdrop(o):void 0,m=this._attachWindowComponent(o,d.nodes),y=new _oe(m,d,f,i.beforeDismiss);return this._registerModalRef(y),this._registerWindowCmpt(m),y.hidden.pipe(ci(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=b=>{y.close(b)},a.dismiss=b=>{y.dismiss(b)},a.update=b=>{y.update(b)},y.update(i),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),f&&f.instance&&f.changeDetectorRef.detectChanges(),m.changeDetectorRef.detectChanges(),y}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=hw(poe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=hw(yoe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_getContentRef(t,r,i,o,s){return i?i instanceof ir?this._createFromTemplateRef(i,o):Du(i)?this._createFromString(i):this._createFromComponent(t,r,i,o,s):new Pu([])}_createFromTemplateRef(t,r){const o=t.createEmbeddedView({$implicit:r,close(s){r.close(s)},dismiss(s){r.dismiss(s)}});return this._applicationRef.attachView(o),new Pu([o.rootNodes],o)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new Pu([[r]])}_createFromComponent(t,r,i,o,s){const c=hw(i,{environmentInjector:r,elementInjector:ai.create({providers:[{provide:H5,useValue:o}],parent:t})}),d=c.location.nativeElement;return s.scrollable&&d.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new Pu([[d]],c.hostView,c)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(r){return new(r||n)(ve(yc),ve(ai),ve(so),ve(Lr),ve(voe),ve(JI),ve(Nt))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ioe=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}static{this.\u0275fac=function(r){return new(r||n)(ve(L1))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Eoe=(()=>{class n{constructor(t,r,i){this._injector=t,this._modalStack=r,this._config=i}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(r){return new(r||n)(ve(ai),ve(boe),ve(Ioe))}}static{this.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),G5=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({providers:[Eoe]})}}return n})(),q5=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})(),t6=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})(),n6=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})(),r6=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})(),i6=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})(),o6=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})(),s6=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})(),a6=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})(),c6=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})();new xe("live announcer delay",{providedIn:"root",factory:function Voe(){return 100}});let l6=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})(),u6=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})();const Boe=[f5,p5,_5,y5,B5,$5,G5,q5,u6,t6,n6,r6,i6,o6,s6,a6,c6,l6];let Uoe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({imports:[Boe,f5,p5,_5,y5,B5,$5,G5,q5,u6,t6,n6,r6,i6,o6,s6,a6,c6,l6]})}}return n})();const joe_firebase={apiKey:"AIzaSyCyUQKXj4y30YlEI1kjrA4Cq36VoK9YsRw",authDomain:"auth-development-a3663.firebaseapp.com",projectId:"auth-development-a3663",storageBucket:"auth-development-a3663.appspot.com",messagingSenderId:"925325853760",appId:"1:925325853760:web:cf9a8856fcad89d0518ba5"};let $oe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n,bootstrap:[aee]})}static{this.\u0275inj=Wt({providers:[zc],imports:[cW,ZX,Uoe,lQ.initializeApp(joe_firebase)]})}}return n})();sW().bootstrapModule($oe).catch(n=>console.error(n))},73:()=>{const ki=":";Error;const Pt=function(B,...U){if(Pt.translate){const de=Pt.translate(B,U);B=de[0],U=de[1]}let ee=bi(B[0],B.raw[0]);for(let de=1;de<B.length;de++)ee+=U[de-1]+bi(B[de],B.raw[de]);return ee},Sn=":";function bi(B,U){return U.charAt(0)===Sn?B.substring(function yo(B,U){for(let ee=1,de=1;ee<B.length;ee++,de++)if("\\"===U[de])de++;else if(B[ee]===ki)return ee;throw new Error(`Unterminated $localize metadata block in "${U}".`)}(B,U)+1):B}globalThis.$localize=Pt},345:(ki,gr,ct)=>{ct.d(gr,{A:()=>Ln});var C=ct(76),Ye=ct(362),Be=ct(852),se=ct(41);class St{constructor(nt,gt){this._delegate=nt,this.firebase=gt,(0,Be._addComponent)(nt,new Ye.uA("app-compat",()=>this,"PUBLIC")),this.container=nt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this._delegate.automaticDataCollectionEnabled=nt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(nt=>{this._delegate.checkDestroyed(),nt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Be.deleteApp)(this._delegate)))}_getService(nt,gt=Be._DEFAULT_ENTRY_NAME){var sr;this._delegate.checkDestroyed();const ar=this._delegate.container.getProvider(nt);return!ar.isInitialized()&&"EXPLICIT"===(null===(sr=ar.getComponent())||void 0===sr?void 0:sr.instantiationMode)&&ar.initialize(),ar.getImmediate({identifier:gt})}_removeServiceInstance(nt,gt=Be._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(nt).clearInstance(gt)}_addComponent(nt){(0,Be._addComponent)(this._delegate,nt)}_addOrOverwriteComponent(nt){(0,Be._addOrOverwriteComponent)(this._delegate,nt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const In=new C.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),fe=function bt(){const Lt=function mr(Lt){const nt={},gt={__esModule:!0,initializeApp:function sn(Je,Bn={}){const Kt=Be.initializeApp(Je,Bn);if((0,C.gR)(nt,Kt.name))return nt[Kt.name];const ge=new Lt(Kt,gt);return nt[Kt.name]=ge,ge},app:ar,registerVersion:Be.registerVersion,setLogLevel:Be.setLogLevel,onLog:Be.onLog,apps:null,SDK_VERSION:Be.SDK_VERSION,INTERNAL:{registerComponent:function zt(Je){const Bn=Je.name,Kt=Bn.replace("-compat","");if(Be._registerComponent(Je)&&"PUBLIC"===Je.type){const ge=(yn=ar())=>{if("function"!=typeof yn[Kt])throw In.create("invalid-app-argument",{appName:Bn});return yn[Kt]()};void 0!==Je.serviceProps&&(0,C.zw)(ge,Je.serviceProps),gt[Kt]=ge,Lt.prototype[Kt]=function(...yn){return this._getService.bind(this,Bn).apply(this,Je.multipleInstances?yn:[])}}return"PUBLIC"===Je.type?gt[Kt]:null},removeApp:function sr(Je){delete nt[Je]},useAsService:function Mr(Je,Bn){return"serverAuth"===Bn?null:Bn},modularAPIs:Be}};function ar(Je){if(!(0,C.gR)(nt,Je=Je||Be._DEFAULT_ENTRY_NAME))throw In.create("no-app",{appName:Je});return nt[Je]}return gt.default=gt,Object.defineProperty(gt,"apps",{get:function Et(){return Object.keys(nt).map(Je=>nt[Je])}}),ar.App=Lt,gt}(St);return Lt.INTERNAL=Object.assign(Object.assign({},Lt.INTERNAL),{createFirebaseNamespace:bt,extendNamespace:function nt(gt){(0,C.zw)(Lt,gt)},createSubscribe:C.tD,ErrorFactory:C.FA,deepExtend:C.zw}),Lt}(),Te=new se.Vy("@firebase/app-compat");try{const Lt=(0,C.mS)();if(void 0!==Lt.firebase){Te.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const nt=Lt.firebase.SDK_VERSION;nt&&nt.indexOf("LITE")>=0&&Te.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const Ln=fe;!function Ft(Lt){(0,Be.registerVersion)("@firebase/app-compat","0.2.43",Lt)}()},852:(ki,gr,ct)=>{ct.r(gr),ct.d(gr,{FirebaseError:()=>se.g,SDK_VERSION:()=>na,_DEFAULT_ENTRY_NAME:()=>Nr,_addComponent:()=>an,_addOrOverwriteComponent:()=>Xt,_apps:()=>Pr,_clearComponents:()=>is,_components:()=>vn,_getProvider:()=>Ts,_isFirebaseApp:()=>rs,_isFirebaseServerApp:()=>Ii,_registerComponent:()=>en,_removeServiceInstance:()=>eo,_serverApps:()=>Mn,deleteApp:()=>Qa,getApp:()=>Uu,getApps:()=>Ka,initializeApp:()=>qa,initializeServerApp:()=>ra,onLog:()=>M,registerVersion:()=>R,setLogLevel:()=>V});var C=ct(467),Ye=ct(362),Be=ct(41),se=ct(76);const St=(ne,F)=>F.some(X=>ne instanceof X);let An,In;const fe=new WeakMap,Te=new WeakMap,$e=new WeakMap,It=new WeakMap,Ft=new WeakMap;let nt={get(ne,F,X){if(ne instanceof IDBTransaction){if("done"===F)return Te.get(ne);if("objectStoreNames"===F)return ne.objectStoreNames||$e.get(ne);if("store"===F)return X.objectStoreNames[1]?void 0:X.objectStore(X.objectStoreNames[0])}return sn(ne[F])},set:(ne,F,X)=>(ne[F]=X,!0),has:(ne,F)=>ne instanceof IDBTransaction&&("done"===F||"store"===F)||F in ne};function ar(ne){return"function"==typeof ne?function sr(ne){return ne!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function bt(){return In||(In=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ne)?function(...F){return ne.apply(Et(this),F),sn(fe.get(this))}:function(...F){return sn(ne.apply(Et(this),F))}:function(F,...X){const ke=ne.call(Et(this),F,...X);return $e.set(ke,F.sort?F.sort():[F]),sn(ke)}}(ne):(ne instanceof IDBTransaction&&function Lt(ne){if(Te.has(ne))return;const F=new Promise((X,ke)=>{const at=()=>{ne.removeEventListener("complete",pt),ne.removeEventListener("error",mt),ne.removeEventListener("abort",mt)},pt=()=>{X(),at()},mt=()=>{ke(ne.error||new DOMException("AbortError","AbortError")),at()};ne.addEventListener("complete",pt),ne.addEventListener("error",mt),ne.addEventListener("abort",mt)});Te.set(ne,F)}(ne),St(ne,function mr(){return An||(An=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ne,nt):ne)}function sn(ne){if(ne instanceof IDBRequest)return function Ln(ne){const F=new Promise((X,ke)=>{const at=()=>{ne.removeEventListener("success",pt),ne.removeEventListener("error",mt)},pt=()=>{X(sn(ne.result)),at()},mt=()=>{ke(ne.error),at()};ne.addEventListener("success",pt),ne.addEventListener("error",mt)});return F.then(X=>{X instanceof IDBCursor&&fe.set(X,ne)}).catch(()=>{}),Ft.set(F,ne),F}(ne);if(It.has(ne))return It.get(ne);const F=ar(ne);return F!==ne&&(It.set(ne,F),Ft.set(F,ne)),F}const Et=ne=>Ft.get(ne),Je=["get","getKey","getAll","getAllKeys","count"],Bn=["put","add","delete","clear"],Kt=new Map;function ge(ne,F){if(!(ne instanceof IDBDatabase)||F in ne||"string"!=typeof F)return;if(Kt.get(F))return Kt.get(F);const X=F.replace(/FromIndex$/,""),ke=F!==X,at=Bn.includes(X);if(!(X in(ke?IDBIndex:IDBObjectStore).prototype)||!at&&!Je.includes(X))return;const pt=function(){var mt=(0,C.A)(function*(Ot,...Un){const Li=this.transaction(Ot,at?"readwrite":"readonly");let Qt=Li.store;return ke&&(Qt=Qt.index(Un.shift())),(yield Promise.all([Qt[X](...Un),at&&Li.done]))[0]});return function(Un){return mt.apply(this,arguments)}}();return Kt.set(F,pt),pt}!function gt(ne){nt=ne(nt)}(ne=>({...ne,get:(F,X,ke)=>ge(F,X)||ne.get(F,X,ke),has:(F,X)=>!!ge(F,X)||ne.has(F,X)}));class yn{constructor(F){this.container=F}getPlatformInfoString(){return this.container.getProviders().map(X=>{if(function Zt(ne){const F=ne.getComponent();return"VERSION"===F?.type}(X)){const ke=X.getImmediate();return`${ke.library}/${ke.version}`}return null}).filter(X=>X).join(" ")}}const Hr="@firebase/app",vi="0.10.13",lt=new Be.Vy("@firebase/app"),Nr="[DEFAULT]",Fi={[Hr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Pr=new Map,Mn=new Map,vn=new Map;function an(ne,F){try{ne.container.addComponent(F)}catch(X){lt.debug(`Component ${F.name} failed to register with FirebaseApp ${ne.name}`,X)}}function Xt(ne,F){ne.container.addOrOverwriteComponent(F)}function en(ne){const F=ne.name;if(vn.has(F))return lt.debug(`There were multiple attempts to register component ${F}.`),!1;vn.set(F,ne);for(const X of Pr.values())an(X,ne);for(const X of Mn.values())an(X,ne);return!0}function Ts(ne,F){const X=ne.container.getProvider("heartbeat").getImmediate({optional:!0});return X&&X.triggerHeartbeat(),ne.container.getProvider(F)}function eo(ne,F,X=Nr){Ts(ne,F).clearInstance(X)}function rs(ne){return void 0!==ne.options}function Ii(ne){return void 0!==ne.settings}function is(){vn.clear()}const ti=new se.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Vi{constructor(F,X,ke){this._isDeleted=!1,this._options=Object.assign({},F),this._config=Object.assign({},X),this._name=X.name,this._automaticDataCollectionEnabled=X.automaticDataCollectionEnabled,this._container=ke,this.container.addComponent(new Ye.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(F){this.checkDestroyed(),this._automaticDataCollectionEnabled=F}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(F){this._isDeleted=F}checkDestroyed(){if(this.isDeleted)throw ti.create("app-deleted",{appName:this._name})}}class Ei extends Vi{constructor(F,X,ke,at){const pt=void 0!==X.automaticDataCollectionEnabled&&X.automaticDataCollectionEnabled,mt={name:ke,automaticDataCollectionEnabled:pt};super(void 0!==F.apiKey?F:F.options,mt,at),this._serverConfig=Object.assign({automaticDataCollectionEnabled:pt},X),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,X.releaseOnDeref=void 0,R(Hr,vi,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(F){this.isDeleted||(this._refCount++,void 0!==F&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(F,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Qa(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ti.create("server-app-deleted")}}const na="10.14.1";function qa(ne,F={}){let X=ne;"object"!=typeof F&&(F={name:F});const ke=Object.assign({name:Nr,automaticDataCollectionEnabled:!1},F),at=ke.name;if("string"!=typeof at||!at)throw ti.create("bad-app-name",{appName:String(at)});if(X||(X=(0,se.T9)()),!X)throw ti.create("no-options");const pt=Pr.get(at);if(pt){if((0,se.bD)(X,pt.options)&&(0,se.bD)(ke,pt.config))return pt;throw ti.create("duplicate-app",{appName:at})}const mt=new Ye.h1(at);for(const Un of vn.values())mt.addComponent(Un);const Ot=new Vi(X,ke,mt);return Pr.set(at,Ot),Ot}function ra(ne,F){if((0,se.Bd)()&&!(0,se.p7)())throw ti.create("invalid-server-app-environment");let X;void 0===F.automaticDataCollectionEnabled&&(F.automaticDataCollectionEnabled=!1),X=rs(ne)?ne.options:ne;const ke=Object.assign(Object.assign({},F),X);if(void 0!==ke.releaseOnDeref&&delete ke.releaseOnDeref,void 0!==F.releaseOnDeref&&typeof FinalizationRegistry>"u")throw ti.create("finalization-registry-not-supported",{});const pt=""+(Li=JSON.stringify(ke),[...Li].reduce((Qt,Bo)=>Math.imul(31,Qt)+Bo.charCodeAt(0)|0,0)),mt=Mn.get(pt);var Li;if(mt)return mt.incRefCount(F.releaseOnDeref),mt;const Ot=new Ye.h1(pt);for(const Li of vn.values())Ot.addComponent(Li);const Un=new Ei(X,F,pt,Ot);return Mn.set(pt,Un),Un}function Uu(ne=Nr){const F=Pr.get(ne);if(!F&&ne===Nr&&(0,se.T9)())return qa();if(!F)throw ti.create("no-app",{appName:ne});return F}function Ka(){return Array.from(Pr.values())}function Qa(ne){return os.apply(this,arguments)}function os(){return(os=(0,C.A)(function*(ne){let F=!1;const X=ne.name;Pr.has(X)?(F=!0,Pr.delete(X)):Mn.has(X)&&ne.decRefCount()<=0&&(Mn.delete(X),F=!0),F&&(yield Promise.all(ne.container.getProviders().map(ke=>ke.delete())),ne.isDeleted=!0)})).apply(this,arguments)}function R(ne,F,X){var ke;let at=null!==(ke=Fi[ne])&&void 0!==ke?ke:ne;X&&(at+=`-${X}`);const pt=at.match(/\s|\//),mt=F.match(/\s|\//);if(pt||mt){const Ot=[`Unable to register library "${at}" with version "${F}":`];return pt&&Ot.push(`library name "${at}" contains illegal characters (whitespace or "/")`),pt&&mt&&Ot.push("and"),mt&&Ot.push(`version name "${F}" contains illegal characters (whitespace or "/")`),void lt.warn(Ot.join(" "))}en(new Ye.uA(`${at}-version`,()=>({library:at,version:F}),"VERSION"))}function M(ne,F){if(null!==ne&&"function"!=typeof ne)throw ti.create("invalid-log-argument");(0,Be.Ey)(ne,F)}function V(ne){(0,Be.He)(ne)}const q="firebase-heartbeat-database",Z=1,Ue="firebase-heartbeat-store";let Ve=null;function fn(){return Ve||(Ve=function zt(ne,F,{blocked:X,upgrade:ke,blocking:at,terminated:pt}={}){const mt=indexedDB.open(ne,F),Ot=sn(mt);return ke&&mt.addEventListener("upgradeneeded",Un=>{ke(sn(mt.result),Un.oldVersion,Un.newVersion,sn(mt.transaction),Un)}),X&&mt.addEventListener("blocked",Un=>X(Un.oldVersion,Un.newVersion,Un)),Ot.then(Un=>{pt&&Un.addEventListener("close",()=>pt()),at&&Un.addEventListener("versionchange",Li=>at(Li.oldVersion,Li.newVersion,Li))}).catch(()=>{}),Ot}(q,Z,{upgrade:(ne,F)=>{if(0===F)try{ne.createObjectStore(Ue)}catch(X){console.warn(X)}}}).catch(ne=>{throw ti.create("idb-open",{originalErrorMessage:ne.message})})),Ve}function et(){return(et=(0,C.A)(function*(ne){try{const X=(yield fn()).transaction(Ue),ke=yield X.objectStore(Ue).get(Or(ne));return yield X.done,ke}catch(F){if(F instanceof se.g)lt.warn(F.message);else{const X=ti.create("idb-get",{originalErrorMessage:F?.message});lt.warn(X.message)}}})).apply(this,arguments)}function er(ne,F){return tt.apply(this,arguments)}function tt(){return(tt=(0,C.A)(function*(ne,F){try{const ke=(yield fn()).transaction(Ue,"readwrite");yield ke.objectStore(Ue).put(F,Or(ne)),yield ke.done}catch(X){if(X instanceof se.g)lt.warn(X.message);else{const ke=ti.create("idb-set",{originalErrorMessage:X?.message});lt.warn(ke.message)}}})).apply(this,arguments)}function Or(ne){return`${ne.name}!${ne.options.appId}`}class it{constructor(F){this.container=F,this._heartbeatsCache=null;const X=this.container.getProvider("app").getImmediate();this._storage=new Of(X),this._heartbeatsCachePromise=this._storage.read().then(ke=>(this._heartbeatsCache=ke,ke))}triggerHeartbeat(){var F=this;return(0,C.A)(function*(){var X,ke;try{const pt=F.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),mt=Lo();return null==(null===(X=F._heartbeatsCache)||void 0===X?void 0:X.heartbeats)&&(F._heartbeatsCache=yield F._heartbeatsCachePromise,null==(null===(ke=F._heartbeatsCache)||void 0===ke?void 0:ke.heartbeats))||F._heartbeatsCache.lastSentHeartbeatDate===mt||F._heartbeatsCache.heartbeats.some(Ot=>Ot.date===mt)?void 0:(F._heartbeatsCache.heartbeats.push({date:mt,agent:pt}),F._heartbeatsCache.heartbeats=F._heartbeatsCache.heartbeats.filter(Ot=>{const Un=new Date(Ot.date).valueOf();return Date.now()-Un<=2592e6}),F._storage.overwrite(F._heartbeatsCache))}catch(at){lt.warn(at)}})()}getHeartbeatsHeader(){var F=this;return(0,C.A)(function*(){var X;try{if(null===F._heartbeatsCache&&(yield F._heartbeatsCachePromise),null==(null===(X=F._heartbeatsCache)||void 0===X?void 0:X.heartbeats)||0===F._heartbeatsCache.heartbeats.length)return"";const ke=Lo(),{heartbeatsToSend:at,unsentEntries:pt}=function Ya(ne,F=1024){const X=[];let ke=ne.slice();for(const at of ne){const pt=X.find(mt=>mt.agent===at.agent);if(pt){if(pt.dates.push(at.date),as(X)>F){pt.dates.pop();break}}else if(X.push({agent:at.agent,dates:[at.date]}),as(X)>F){X.pop();break}ke=ke.slice(1)}return{heartbeatsToSend:X,unsentEntries:ke}}(F._heartbeatsCache.heartbeats),mt=(0,se.Uj)(JSON.stringify({version:2,heartbeats:at}));return F._heartbeatsCache.lastSentHeartbeatDate=ke,pt.length>0?(F._heartbeatsCache.heartbeats=pt,yield F._storage.overwrite(F._heartbeatsCache)):(F._heartbeatsCache.heartbeats=[],F._storage.overwrite(F._heartbeatsCache)),mt}catch(ke){return lt.warn(ke),""}})()}}function Lo(){return(new Date).toISOString().substring(0,10)}class Of{constructor(F){this.app=F,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,C.A)(function*(){return!!(0,se.zW)()&&(0,se.eX)().then(()=>!0).catch(()=>!1)})()}read(){var F=this;return(0,C.A)(function*(){if(yield F._canUseIndexedDBPromise){const ke=yield function cr(ne){return et.apply(this,arguments)}(F.app);return ke?.heartbeats?ke:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(F){var X=this;return(0,C.A)(function*(){var ke;if(yield X._canUseIndexedDBPromise){const pt=yield X.read();return er(X.app,{lastSentHeartbeatDate:null!==(ke=F.lastSentHeartbeatDate)&&void 0!==ke?ke:pt.lastSentHeartbeatDate,heartbeats:F.heartbeats})}})()}add(F){var X=this;return(0,C.A)(function*(){var ke;if(yield X._canUseIndexedDBPromise){const pt=yield X.read();return er(X.app,{lastSentHeartbeatDate:null!==(ke=F.lastSentHeartbeatDate)&&void 0!==ke?ke:pt.lastSentHeartbeatDate,heartbeats:[...pt.heartbeats,...F.heartbeats]})}})()}}function as(ne){return(0,se.Uj)(JSON.stringify({version:2,heartbeats:ne})).length}!function be(ne){en(new Ye.uA("platform-logger",F=>new yn(F),"PRIVATE")),en(new Ye.uA("heartbeat",F=>new it(F),"PRIVATE")),R(Hr,vi,ne),R(Hr,vi,"esm2017"),R("fire-js","")}("")},362:(ki,gr,ct)=>{ct.d(gr,{h1:()=>mr,uA:()=>Be});var C=ct(467),Ye=ct(76);class Be{constructor(fe,Te,$e){this.name=fe,this.instanceFactory=Te,this.type=$e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(fe){return this.instantiationMode=fe,this}setMultipleInstances(fe){return this.multipleInstances=fe,this}setServiceProps(fe){return this.serviceProps=fe,this}setInstanceCreatedCallback(fe){return this.onInstanceCreated=fe,this}}const se="[DEFAULT]";class St{constructor(fe,Te){this.name=fe,this.container=Te,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(fe){const Te=this.normalizeInstanceIdentifier(fe);if(!this.instancesDeferred.has(Te)){const $e=new Ye.cY;if(this.instancesDeferred.set(Te,$e),this.isInitialized(Te)||this.shouldAutoInitialize())try{const It=this.getOrInitializeService({instanceIdentifier:Te});It&&$e.resolve(It)}catch{}}return this.instancesDeferred.get(Te).promise}getImmediate(fe){var Te;const $e=this.normalizeInstanceIdentifier(fe?.identifier),It=null!==(Te=fe?.optional)&&void 0!==Te&&Te;if(!this.isInitialized($e)&&!this.shouldAutoInitialize()){if(It)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:$e})}catch(Ft){if(It)return null;throw Ft}}getComponent(){return this.component}setComponent(fe){if(fe.name!==this.name)throw Error(`Mismatching Component ${fe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=fe,this.shouldAutoInitialize()){if(function In(bt){return"EAGER"===bt.instantiationMode}(fe))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[Te,$e]of this.instancesDeferred.entries()){const It=this.normalizeInstanceIdentifier(Te);try{const Ft=this.getOrInitializeService({instanceIdentifier:It});$e.resolve(Ft)}catch{}}}}clearInstance(fe=se){this.instancesDeferred.delete(fe),this.instancesOptions.delete(fe),this.instances.delete(fe)}delete(){var fe=this;return(0,C.A)(function*(){const Te=Array.from(fe.instances.values());yield Promise.all([...Te.filter($e=>"INTERNAL"in $e).map($e=>$e.INTERNAL.delete()),...Te.filter($e=>"_delete"in $e).map($e=>$e._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(fe=se){return this.instances.has(fe)}getOptions(fe=se){return this.instancesOptions.get(fe)||{}}initialize(fe={}){const{options:Te={}}=fe,$e=this.normalizeInstanceIdentifier(fe.instanceIdentifier);if(this.isInitialized($e))throw Error(`${this.name}(${$e}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const It=this.getOrInitializeService({instanceIdentifier:$e,options:Te});for(const[Ft,Ln]of this.instancesDeferred.entries())$e===this.normalizeInstanceIdentifier(Ft)&&Ln.resolve(It);return It}onInit(fe,Te){var $e;const It=this.normalizeInstanceIdentifier(Te),Ft=null!==($e=this.onInitCallbacks.get(It))&&void 0!==$e?$e:new Set;Ft.add(fe),this.onInitCallbacks.set(It,Ft);const Ln=this.instances.get(It);return Ln&&fe(Ln,It),()=>{Ft.delete(fe)}}invokeOnInitCallbacks(fe,Te){const $e=this.onInitCallbacks.get(Te);if($e)for(const It of $e)try{It(fe,Te)}catch{}}getOrInitializeService({instanceIdentifier:fe,options:Te={}}){let $e=this.instances.get(fe);if(!$e&&this.component&&($e=this.component.instanceFactory(this.container,{instanceIdentifier:(bt=fe,bt===se?void 0:bt),options:Te}),this.instances.set(fe,$e),this.instancesOptions.set(fe,Te),this.invokeOnInitCallbacks($e,fe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,fe,$e)}catch{}var bt;return $e||null}normalizeInstanceIdentifier(fe=se){return this.component?this.component.multipleInstances?fe:se:fe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class mr{constructor(fe){this.name=fe,this.providers=new Map}addComponent(fe){const Te=this.getProvider(fe.name);if(Te.isComponentSet())throw new Error(`Component ${fe.name} has already been registered with ${this.name}`);Te.setComponent(fe)}addOrOverwriteComponent(fe){this.getProvider(fe.name).isComponentSet()&&this.providers.delete(fe.name),this.addComponent(fe)}getProvider(fe){if(this.providers.has(fe))return this.providers.get(fe);const Te=new St(fe,this);return this.providers.set(fe,Te),Te}getProviders(){return Array.from(this.providers.values())}}},41:(ki,gr,ct)=>{ct.d(gr,{$b:()=>Ye,Ey:()=>bt,He:()=>mr,Vy:()=>In});const C=[];var Ye=function(fe){return fe[fe.DEBUG=0]="DEBUG",fe[fe.VERBOSE=1]="VERBOSE",fe[fe.INFO=2]="INFO",fe[fe.WARN=3]="WARN",fe[fe.ERROR=4]="ERROR",fe[fe.SILENT=5]="SILENT",fe}(Ye||{});const Be={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},se=Ye.INFO,St={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},An=(fe,Te,...$e)=>{if(Te<fe.logLevel)return;const It=(new Date).toISOString(),Ft=St[Te];if(!Ft)throw new Error(`Attempted to log a message with an invalid logType (value: ${Te})`);console[Ft](`[${It}]  ${fe.name}:`,...$e)};class In{constructor(Te){this.name=Te,this._logLevel=se,this._logHandler=An,this._userLogHandler=null,C.push(this)}get logLevel(){return this._logLevel}set logLevel(Te){if(!(Te in Ye))throw new TypeError(`Invalid value "${Te}" assigned to \`logLevel\``);this._logLevel=Te}setLogLevel(Te){this._logLevel="string"==typeof Te?Be[Te]:Te}get logHandler(){return this._logHandler}set logHandler(Te){if("function"!=typeof Te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Te}get userLogHandler(){return this._userLogHandler}set userLogHandler(Te){this._userLogHandler=Te}debug(...Te){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...Te),this._logHandler(this,Ye.DEBUG,...Te)}log(...Te){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...Te),this._logHandler(this,Ye.VERBOSE,...Te)}info(...Te){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...Te),this._logHandler(this,Ye.INFO,...Te)}warn(...Te){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...Te),this._logHandler(this,Ye.WARN,...Te)}error(...Te){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...Te),this._logHandler(this,Ye.ERROR,...Te)}}function mr(fe){C.forEach(Te=>{Te.setLogLevel(fe)})}function bt(fe,Te){for(const $e of C){let It=null;Te&&Te.level&&(It=Be[Te.level]),$e.userLogHandler=null===fe?null:(Ft,Ln,...Lt)=>{const nt=Lt.map(gt=>{if(null==gt)return null;if("string"==typeof gt)return gt;if("number"==typeof gt||"boolean"==typeof gt)return gt.toString();if(gt instanceof Error)return gt.message;try{return JSON.stringify(gt)}catch{return null}}).filter(gt=>gt).join(" ");Ln>=(It??Ft.logLevel)&&fe({level:Ye[Ln].toLowerCase(),message:nt,args:Lt,type:Ft.name})}}}},955:(ki,gr,ct)=>{var C=ct(467),Ye=ct(345),Be=ct(852),se=ct(76),St=ct(41),An=ct(635),In=ct(362);const bt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Ln=function It(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Lt=function Ft(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},nt=new se.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),sr=new St.Vy("@firebase/auth");function sn(p,...l){sr.logLevel<=St.$b.ERROR&&sr.error(`Auth (${Be.SDK_VERSION}): ${p}`,...l)}function Et(p,...l){throw Kt(p,...l)}function zt(p,...l){return Kt(p,...l)}function Mr(p,l,u){const g=Object.assign(Object.assign({},Lt()),{[l]:u});return new se.FA("auth","Firebase",g).create(l,{appName:p.name})}function Je(p){return Mr(p,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bn(p,l,u){if(!(l instanceof u))throw u.name!==l.constructor.name&&Et(p,"argument-error"),Mr(p,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Kt(p,...l){if("string"!=typeof p){const u=l[0],g=[...l.slice(1)];return g[0]&&(g[0].appName=p.name),p._errorFactory.create(u,...g)}return nt.create(p,...l)}function ge(p,l,...u){if(!p)throw Kt(l,...u)}function yn(p){const l="INTERNAL ASSERTION FAILED: "+p;throw sn(l),new Error(l)}function Zt(p,l){p||yn(l)}function Hr(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.href)||""}function vi(){return"http:"===lt()||"https:"===lt()}function lt(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.protocol)||null}class Xi{constructor(l,u){this.shortDelay=l,this.longDelay=u,Zt(u>l,"Short delay should be less than long delay!"),this.isMobile=(0,se.jZ)()||(0,se.lV)()}get(){return function Vo(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(vi()||(0,se.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function yo(p,l){Zt(p.emulator,"Emulator should always be set here");const{url:u}=p.emulator;return l?`${u}${l.startsWith("/")?l.slice(1):l}`:u}class G{static initialize(l,u,g){this.fetchImpl=l,u&&(this.headersImpl=u),g&&(this.responseImpl=g)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void yn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void yn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void yn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const oe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ce=new Xi(3e4,6e4);function z(p,l){return p.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:p.tenantId}):l}function te(p,l,u,g){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,C.A)(function*(p,l,u,g,v={}){return ye(p,v,(0,C.A)(function*(){let E={},N={};g&&("GET"===l?N=g:E={body:JSON.stringify(g)});const W=(0,se.Am)(Object.assign({key:p.config.apiKey},N)).slice(1),le=yield p._getAdditionalHeaders();le["Content-Type"]="application/json",p.languageCode&&(le["X-Firebase-Locale"]=p.languageCode);const Re=Object.assign({method:l,headers:le},E);return(0,se.c1)()||(Re.referrerPolicy="no-referrer"),G.fetch()(Pt(p,p.config.apiHost,u,W),Re)}))})).apply(this,arguments)}function ye(p,l,u){return vt.apply(this,arguments)}function vt(){return(vt=(0,C.A)(function*(p,l,u){p._canInitEmulator=!1;const g=Object.assign(Object.assign({},oe),l);try{const v=new bi(p),E=yield Promise.race([u(),v.promise]);v.clearNetworkTimeout();const N=yield E.json();if("needConfirmation"in N)throw B(p,"account-exists-with-different-credential",N);if(E.ok&&!("errorMessage"in N))return N;{const W=E.ok?N.errorMessage:N.error.message,[le,Re]=W.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===le)throw B(p,"credential-already-in-use",N);if("EMAIL_EXISTS"===le)throw B(p,"email-already-in-use",N);if("USER_DISABLED"===le)throw B(p,"user-disabled",N);const Ge=g[le]||le.toLowerCase().replace(/[_\s]+/g,"-");if(Re)throw Mr(p,Ge,Re);Et(p,Ge)}}catch(v){if(v instanceof se.g)throw v;Et(p,"network-request-failed",{message:String(v)})}})).apply(this,arguments)}function $t(p,l,u,g){return rt.apply(this,arguments)}function rt(){return(rt=(0,C.A)(function*(p,l,u,g,v={}){const E=yield te(p,l,u,g,v);return"mfaPendingCredential"in E&&Et(p,"multi-factor-auth-required",{_serverResponse:E}),E})).apply(this,arguments)}function Pt(p,l,u,g){const v=`${l}${u}?${g}`;return p.config.emulator?yo(p.config,v):`${p.config.apiScheme}://${v}`}function Sn(p){switch(p){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bi{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((u,g)=>{this.timer=setTimeout(()=>g(zt(this.auth,"network-request-failed")),ce.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function B(p,l,u){const g={appName:p.name};u.email&&(g.email=u.email),u.phoneNumber&&(g.phoneNumber=u.phoneNumber);const v=zt(p,l,g);return v.customData._tokenResponse=u,v}function U(p){return void 0!==p&&void 0!==p.getResponse}function ee(p){return void 0!==p&&void 0!==p.enterprise}class de{constructor(l){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===l.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=l.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=l.recaptchaEnforcementState}getProviderEnforcementState(l){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const u of this.recaptchaEnforcementState)if(u.provider&&u.provider===l)return Sn(u.enforcementState);return null}isProviderEnabled(l){return"ENFORCE"===this.getProviderEnforcementState(l)||"AUDIT"===this.getProviderEnforcementState(l)}}function De(){return(De=(0,C.A)(function*(p){return(yield te(p,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function En(p,l){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,C.A)(function*(p,l){return te(p,"GET","/v2/recaptchaConfig",z(p,l))})).apply(this,arguments)}function Rn(){return(Rn=(0,C.A)(function*(p,l){return te(p,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function Fi(){return(Fi=(0,C.A)(function*(p,l){return te(p,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Pr(p,l){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,C.A)(function*(p,l){return te(p,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function vn(p){if(p)try{const l=new Date(Number(p));if(!isNaN(l.getTime()))return l.toUTCString()}catch{}}function en(){return(en=(0,C.A)(function*(p,l=!1){const u=(0,se.Ku)(p),g=yield u.getIdToken(l),v=eo(g);ge(v&&v.exp&&v.auth_time&&v.iat,u.auth,"internal-error");const E="object"==typeof v.firebase?v.firebase:void 0,N=E?.sign_in_provider;return{claims:v,token:g,authTime:vn(Ts(v.auth_time)),issuedAtTime:vn(Ts(v.iat)),expirationTime:vn(Ts(v.exp)),signInProvider:N||null,signInSecondFactor:E?.sign_in_second_factor||null}})).apply(this,arguments)}function Ts(p){return 1e3*Number(p)}function eo(p){const[l,u,g]=p.split(".");if(void 0===l||void 0===u||void 0===g)return sn("JWT malformed, contained fewer than 3 sections"),null;try{const v=(0,se.u)(u);return v?JSON.parse(v):(sn("Failed to decode base64 JWT payload"),null)}catch(v){return sn("Caught error parsing JWT payload as JSON",v?.toString()),null}}function rs(p){const l=eo(p);return ge(l,"internal-error"),ge(typeof l.exp<"u","internal-error"),ge(typeof l.iat<"u","internal-error"),Number(l.exp)-Number(l.iat)}function Ii(p,l){return is.apply(this,arguments)}function is(){return(is=(0,C.A)(function*(p,l,u=!1){if(u)return l;try{return yield l}catch(g){throw g instanceof se.g&&function Cs({code:p}){return"auth/user-disabled"===p||"auth/user-token-expired"===p}(g)&&p.auth.currentUser===p&&(yield p.auth.signOut()),g}})).apply(this,arguments)}class ti{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var u;if(l){const g=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),g}{this.errorBackoff=3e4;const v=(null!==(u=this.user.stsTokenManager.expirationTime)&&void 0!==u?u:0)-Date.now()-3e5;return Math.max(0,v)}}schedule(l=!1){var u=this;if(!this.isRunning)return;const g=this.getInterval(l);this.timerId=setTimeout((0,C.A)(function*(){yield u.iteration()}),g)}iteration(){var l=this;return(0,C.A)(function*(){try{yield l.user.getIdToken(!0)}catch(u){return void("auth/network-request-failed"===u?.code&&l.schedule(!0))}l.schedule()})()}}class Vi{constructor(l,u){this.createdAt=l,this.lastLoginAt=u,this._initializeTime()}_initializeTime(){this.lastSignInTime=vn(this.lastLoginAt),this.creationTime=vn(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ei(p){return na.apply(this,arguments)}function na(){return(na=(0,C.A)(function*(p){var l;const u=p.auth,g=yield p.getIdToken(),v=yield Ii(p,Pr(u,{idToken:g}));ge(v?.users.length,u,"internal-error");const E=v.users[0];p._notifyReloadListener(E);const N=null!==(l=E.providerUserInfo)&&void 0!==l&&l.length?Ka(E.providerUserInfo):[],W=function Uu(p,l){return[...p.filter(g=>!l.some(v=>v.providerId===g.providerId)),...l]}(p.providerData,N),Ge=!!p.isAnonymous&&!(p.email&&E.passwordHash||W?.length),He={uid:E.localId,displayName:E.displayName||null,photoURL:E.photoUrl||null,email:E.email||null,emailVerified:E.emailVerified||!1,phoneNumber:E.phoneNumber||null,tenantId:E.tenantId||null,providerData:W,metadata:new Vi(E.createdAt,E.lastLoginAt),isAnonymous:Ge};Object.assign(p,He)})).apply(this,arguments)}function ra(){return(ra=(0,C.A)(function*(p){const l=(0,se.Ku)(p);yield Ei(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function Ka(p){return p.map(l=>{var{providerId:u}=l,g=(0,An.Tt)(l,["providerId"]);return{providerId:u,uid:g.rawId||"",displayName:g.displayName||null,email:g.email||null,phoneNumber:g.phoneNumber||null,photoURL:g.photoUrl||null}})}function os(){return(os=(0,C.A)(function*(p,l){const u=yield ye(p,{},(0,C.A)(function*(){const g=(0,se.Am)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:v,apiKey:E}=p.config,N=Pt(p,v,"/v1/token",`key=${E}`),W=yield p._getAdditionalHeaders();return W["Content-Type"]="application/x-www-form-urlencoded",G.fetch()(N,{method:"POST",headers:W,body:g})}));return{accessToken:u.access_token,expiresIn:u.expires_in,refreshToken:u.refresh_token}})).apply(this,arguments)}function M(){return(M=(0,C.A)(function*(p,l){return te(p,"POST","/v2/accounts:revokeToken",z(p,l))})).apply(this,arguments)}class V{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){ge(l.idToken,"internal-error"),ge(typeof l.idToken<"u","internal-error"),ge(typeof l.refreshToken<"u","internal-error");const u="expiresIn"in l&&typeof l.expiresIn<"u"?Number(l.expiresIn):rs(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,u)}updateFromIdToken(l){ge(0!==l.length,"internal-error");const u=rs(l);this.updateTokensAndExpiration(l,null,u)}getToken(l,u=!1){var g=this;return(0,C.A)(function*(){return u||!g.accessToken||g.isExpired?(ge(g.refreshToken,l,"user-token-expired"),g.refreshToken?(yield g.refresh(l,g.refreshToken),g.accessToken):null):g.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,u){var g=this;return(0,C.A)(function*(){const{accessToken:v,refreshToken:E,expiresIn:N}=yield function Qa(p,l){return os.apply(this,arguments)}(l,u);g.updateTokensAndExpiration(v,E,Number(N))})()}updateTokensAndExpiration(l,u,g){this.refreshToken=u||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*g}static fromJSON(l,u){const{refreshToken:g,accessToken:v,expirationTime:E}=u,N=new V;return g&&(ge("string"==typeof g,"internal-error",{appName:l}),N.refreshToken=g),v&&(ge("string"==typeof v,"internal-error",{appName:l}),N.accessToken=v),E&&(ge("number"==typeof E,"internal-error",{appName:l}),N.expirationTime=E),N}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new V,this.toJSON())}_performRefresh(){return yn("not implemented")}}function q(p,l){ge("string"==typeof p||typeof p>"u","internal-error",{appName:l})}class Z{constructor(l){var{uid:u,auth:g,stsTokenManager:v}=l,E=(0,An.Tt)(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ti(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=u,this.auth=g,this.stsTokenManager=v,this.accessToken=v.accessToken,this.displayName=E.displayName||null,this.email=E.email||null,this.emailVerified=E.emailVerified||!1,this.phoneNumber=E.phoneNumber||null,this.photoURL=E.photoURL||null,this.isAnonymous=E.isAnonymous||!1,this.tenantId=E.tenantId||null,this.providerData=E.providerData?[...E.providerData]:[],this.metadata=new Vi(E.createdAt||void 0,E.lastLoginAt||void 0)}getIdToken(l){var u=this;return(0,C.A)(function*(){const g=yield Ii(u,u.stsTokenManager.getToken(u.auth,l));return ge(g,u.auth,"internal-error"),u.accessToken!==g&&(u.accessToken=g,yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)),g})()}getIdTokenResult(l){return function Xt(p){return en.apply(this,arguments)}(this,l)}reload(){return function qa(p){return ra.apply(this,arguments)}(this)}_assign(l){this!==l&&(ge(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(u=>Object.assign({},u)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){const u=new Z(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}));return u.metadata._copy(this.metadata),u}_onReload(l){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,u=!1){var g=this;return(0,C.A)(function*(){let v=!1;l.idToken&&l.idToken!==g.stsTokenManager.accessToken&&(g.stsTokenManager.updateFromServerResponse(l),v=!0),u&&(yield Ei(g)),yield g.auth._persistUserIfCurrent(g),v&&g.auth._notifyListenersIfCurrent(g)})()}delete(){var l=this;return(0,C.A)(function*(){if((0,Be._isFirebaseServerApp)(l.auth.app))return Promise.reject(Je(l.auth));const u=yield l.getIdToken();return yield Ii(l,function Ht(p,l){return Rn.apply(this,arguments)}(l.auth,{idToken:u})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,u){var g,v,E,N,W,le,Re,Ge;const He=null!==(g=u.displayName)&&void 0!==g?g:void 0,Hn=null!==(v=u.email)&&void 0!==v?v:void 0,wo=null!==(E=u.phoneNumber)&&void 0!==E?E:void 0,Ea=null!==(N=u.photoURL)&&void 0!==N?N:void 0,Up=null!==(W=u.tenantId)&&void 0!==W?W:void 0,jp=null!==(le=u._redirectEventId)&&void 0!==le?le:void 0,$p=null!==(Re=u.createdAt)&&void 0!==Re?Re:void 0,hI=null!==(Ge=u.lastLoginAt)&&void 0!==Ge?Ge:void 0,{uid:Vd,emailVerified:fI,isAnonymous:ky,providerData:Hp,stsTokenManager:Ld}=u;ge(Vd&&Ld,l,"internal-error");const jS=V.fromJSON(this.name,Ld);ge("string"==typeof Vd,l,"internal-error"),q(He,l.name),q(Hn,l.name),ge("boolean"==typeof fI,l,"internal-error"),ge("boolean"==typeof ky,l,"internal-error"),q(wo,l.name),q(Ea,l.name),q(Up,l.name),q(jp,l.name),q($p,l.name),q(hI,l.name);const Fy=new Z({uid:Vd,auth:l,email:Hn,emailVerified:fI,displayName:He,isAnonymous:ky,photoURL:Ea,phoneNumber:wo,tenantId:Up,stsTokenManager:jS,createdAt:$p,lastLoginAt:hI});return Hp&&Array.isArray(Hp)&&(Fy.providerData=Hp.map(Gp=>Object.assign({},Gp))),jp&&(Fy._redirectEventId=jp),Fy}static _fromIdTokenResponse(l,u,g=!1){return(0,C.A)(function*(){const v=new V;v.updateFromServerResponse(u);const E=new Z({uid:u.localId,auth:l,stsTokenManager:v,isAnonymous:g});return yield Ei(E),E})()}static _fromGetAccountInfoResponse(l,u,g){return(0,C.A)(function*(){const v=u.users[0];ge(void 0!==v.localId,"internal-error");const E=void 0!==v.providerUserInfo?Ka(v.providerUserInfo):[],N=!(v.email&&v.passwordHash||E?.length),W=new V;W.updateFromIdToken(g);const le=new Z({uid:v.localId,auth:l,stsTokenManager:W,isAnonymous:N}),Re={uid:v.localId,displayName:v.displayName||null,photoURL:v.photoUrl||null,email:v.email||null,emailVerified:v.emailVerified||!1,phoneNumber:v.phoneNumber||null,tenantId:v.tenantId||null,providerData:E,metadata:new Vi(v.createdAt,v.lastLoginAt),isAnonymous:!(v.email&&v.passwordHash||E?.length)};return Object.assign(le,Re),le})()}}const Ue=new Map;function Ve(p){Zt(p instanceof Function,"Expected a class definition");let l=Ue.get(p);return l?(Zt(l instanceof p,"Instance stored in cache mismatched with class"),l):(l=new p,Ue.set(p,l),l)}const cr=(()=>{class p{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,C.A)(function*(){return!0})()}_set(u,g){var v=this;return(0,C.A)(function*(){v.storage[u]=g})()}_get(u){var g=this;return(0,C.A)(function*(){const v=g.storage[u];return void 0===v?null:v})()}_remove(u){var g=this;return(0,C.A)(function*(){delete g.storage[u]})()}_addListener(u,g){}_removeListener(u,g){}}return p.type="NONE",p})();function et(p,l,u){return`firebase:${p}:${l}:${u}`}class er{constructor(l,u,g){this.persistence=l,this.auth=u,this.userKey=g;const{config:v,name:E}=this.auth;this.fullUserKey=et(this.userKey,v.apiKey,E),this.fullPersistenceKey=et("persistence",v.apiKey,E),this.boundEventHandler=u._onStorageEvent.bind(u),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,C.A)(function*(){const u=yield l.persistence._get(l.fullUserKey);return u?Z._fromJSON(l.auth,u):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var u=this;return(0,C.A)(function*(){if(u.persistence===l)return;const g=yield u.getCurrentUser();return yield u.removeCurrentUser(),u.persistence=l,g?u.setCurrentUser(g):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,u,g="authUser"){return(0,C.A)(function*(){if(!u.length)return new er(Ve(cr),l,g);const v=(yield Promise.all(u.map(function(){var Re=(0,C.A)(function*(Ge){if(yield Ge._isAvailable())return Ge});return function(Ge){return Re.apply(this,arguments)}}()))).filter(Re=>Re);let E=v[0]||Ve(cr);const N=et(g,l.config.apiKey,l.name);let W=null;for(const Re of u)try{const Ge=yield Re._get(N);if(Ge){const He=Z._fromJSON(l,Ge);Re!==E&&(W=He),E=Re;break}}catch{}const le=v.filter(Re=>Re._shouldAllowMigration);return E._shouldAllowMigration&&le.length?(E=le[0],W&&(yield E._set(N,W.toJSON())),yield Promise.all(u.map(function(){var Re=(0,C.A)(function*(Ge){if(Ge!==E)try{yield Ge._remove(N)}catch{}});return function(Ge){return Re.apply(this,arguments)}}())),new er(E,l,g)):new er(E,l,g)})()}}function tt(p){const l=p.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(it(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(Or(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(Ya(l))return"Blackberry";if(Of(l))return"Webos";if(ss(l))return"Safari";if((l.includes("chrome/")||_t(l))&&!l.includes("edge/"))return"Chrome";if(Lo(l))return"Android";{const g=p.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===g?.length)return g[1]}return"Other"}function Or(p=(0,se.ZQ)()){return/firefox\//i.test(p)}function ss(p=(0,se.ZQ)()){const l=p.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function _t(p=(0,se.ZQ)()){return/crios\//i.test(p)}function it(p=(0,se.ZQ)()){return/iemobile/i.test(p)}function Lo(p=(0,se.ZQ)()){return/android/i.test(p)}function Ya(p=(0,se.ZQ)()){return/blackberry/i.test(p)}function Of(p=(0,se.ZQ)()){return/webos/i.test(p)}function as(p=(0,se.ZQ)()){return/iphone|ipad|ipod/i.test(p)||/macintosh/i.test(p)&&/mobile/i.test(p)}function X(p=(0,se.ZQ)()){return as(p)||Lo(p)||Of(p)||Ya(p)||/windows phone/i.test(p)||it(p)}function ke(p,l=[]){let u;switch(p){case"Browser":u=tt((0,se.ZQ)());break;case"Worker":u=`${tt((0,se.ZQ)())}-${p}`;break;default:u=p}const g=l.length?l.join(","):"FirebaseCore-web";return`${u}/JsCore/${Be.SDK_VERSION}/${g}`}class at{constructor(l){this.auth=l,this.queue=[]}pushCallback(l,u){const g=E=>new Promise((N,W)=>{try{N(l(E))}catch(le){W(le)}});g.onAbort=u,this.queue.push(g);const v=this.queue.length-1;return()=>{this.queue[v]=()=>Promise.resolve()}}runMiddleware(l){var u=this;return(0,C.A)(function*(){if(u.auth.currentUser===l)return;const g=[];try{for(const v of u.queue)yield v(l),v.onAbort&&g.push(v.onAbort)}catch(v){g.reverse();for(const E of g)try{E()}catch{}throw u.auth._errorFactory.create("login-blocked",{originalMessage:v?.message})}})()}}function mt(){return(mt=(0,C.A)(function*(p,l={}){return te(p,"GET","/v2/passwordPolicy",z(p,l))})).apply(this,arguments)}class Un{constructor(l){var u,g,v,E;const N=l.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(u=N.minPasswordLength)&&void 0!==u?u:6,N.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=N.maxPasswordLength),void 0!==N.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=N.containsLowercaseCharacter),void 0!==N.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=N.containsUppercaseCharacter),void 0!==N.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=N.containsNumericCharacter),void 0!==N.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=N.containsNonAlphanumericCharacter),this.enforcementState=l.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(v=null===(g=l.allowedNonAlphanumericCharacters)||void 0===g?void 0:g.join(""))&&void 0!==v?v:"",this.forceUpgradeOnSignin=null!==(E=l.forceUpgradeOnSignin)&&void 0!==E&&E,this.schemaVersion=l.schemaVersion}validatePassword(l){var u,g,v,E,N,W;const le={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(l,le),this.validatePasswordCharacterOptions(l,le),le.isValid&&(le.isValid=null===(u=le.meetsMinPasswordLength)||void 0===u||u),le.isValid&&(le.isValid=null===(g=le.meetsMaxPasswordLength)||void 0===g||g),le.isValid&&(le.isValid=null===(v=le.containsLowercaseLetter)||void 0===v||v),le.isValid&&(le.isValid=null===(E=le.containsUppercaseLetter)||void 0===E||E),le.isValid&&(le.isValid=null===(N=le.containsNumericCharacter)||void 0===N||N),le.isValid&&(le.isValid=null===(W=le.containsNonAlphanumericCharacter)||void 0===W||W),le}validatePasswordLengthOptions(l,u){const g=this.customStrengthOptions.minPasswordLength,v=this.customStrengthOptions.maxPasswordLength;g&&(u.meetsMinPasswordLength=l.length>=g),v&&(u.meetsMaxPasswordLength=l.length<=v)}validatePasswordCharacterOptions(l,u){let g;this.updatePasswordCharacterOptionsStatuses(u,!1,!1,!1,!1);for(let v=0;v<l.length;v++)g=l.charAt(v),this.updatePasswordCharacterOptionsStatuses(u,g>="a"&&g<="z",g>="A"&&g<="Z",g>="0"&&g<="9",this.allowedNonAlphanumericCharacters.includes(g))}updatePasswordCharacterOptionsStatuses(l,u,g,v,E){this.customStrengthOptions.containsLowercaseLetter&&(l.containsLowercaseLetter||(l.containsLowercaseLetter=u)),this.customStrengthOptions.containsUppercaseLetter&&(l.containsUppercaseLetter||(l.containsUppercaseLetter=g)),this.customStrengthOptions.containsNumericCharacter&&(l.containsNumericCharacter||(l.containsNumericCharacter=v)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(l.containsNonAlphanumericCharacter||(l.containsNonAlphanumericCharacter=E))}}class Li{constructor(l,u,g,v){this.app=l,this.heartbeatServiceProvider=u,this.appCheckServiceProvider=g,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bo(this),this.idTokenSubscription=new Bo(this),this.beforeStateQueue=new at(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(l,u){var g=this;return u&&(this._popupRedirectResolver=Ve(u)),this._initializationPromise=this.queue((0,C.A)(function*(){var v,E;if(!g._deleted&&(g.persistenceManager=yield er.create(g,l),!g._deleted)){if(null!==(v=g._popupRedirectResolver)&&void 0!==v&&v._shouldInitProactively)try{yield g._popupRedirectResolver._initialize(g)}catch{}yield g.initializeCurrentUser(u),g.lastNotifiedUid=(null===(E=g.currentUser)||void 0===E?void 0:E.uid)||null,!g._deleted&&(g._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,C.A)(function*(){if(l._deleted)return;const u=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||u){if(l.currentUser&&u&&l.currentUser.uid===u.uid)return l._currentUser._assign(u),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(u,!0)}})()}initializeCurrentUserFromIdToken(l){var u=this;return(0,C.A)(function*(){try{const g=yield Pr(u,{idToken:l}),v=yield Z._fromGetAccountInfoResponse(u,g,l);yield u.directlySetCurrentUser(v)}catch(g){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",g),yield u.directlySetCurrentUser(null)}})()}initializeCurrentUser(l){var u=this;return(0,C.A)(function*(){var g;if((0,Be._isFirebaseServerApp)(u.app)){const W=u.app.settings.authIdToken;return W?new Promise(le=>{setTimeout(()=>u.initializeCurrentUserFromIdToken(W).then(le,le))}):u.directlySetCurrentUser(null)}const v=yield u.assertedPersistence.getCurrentUser();let E=v,N=!1;if(l&&u.config.authDomain){yield u.getOrInitRedirectPersistenceManager();const W=null===(g=u.redirectUser)||void 0===g?void 0:g._redirectEventId,le=E?._redirectEventId,Re=yield u.tryRedirectSignIn(l);(!W||W===le)&&Re?.user&&(E=Re.user,N=!0)}if(!E)return u.directlySetCurrentUser(null);if(!E._redirectEventId){if(N)try{yield u.beforeStateQueue.runMiddleware(E)}catch(W){E=v,u._popupRedirectResolver._overrideRedirectResult(u,()=>Promise.reject(W))}return E?u.reloadAndSetCurrentUserOrClear(E):u.directlySetCurrentUser(null)}return ge(u._popupRedirectResolver,u,"argument-error"),yield u.getOrInitRedirectPersistenceManager(),u.redirectUser&&u.redirectUser._redirectEventId===E._redirectEventId?u.directlySetCurrentUser(E):u.reloadAndSetCurrentUserOrClear(E)})()}tryRedirectSignIn(l){var u=this;return(0,C.A)(function*(){let g=null;try{g=yield u._popupRedirectResolver._completeRedirectFn(u,l,!0)}catch{yield u._setRedirectUser(null)}return g})()}reloadAndSetCurrentUserOrClear(l){var u=this;return(0,C.A)(function*(){try{yield Ei(l)}catch(g){if("auth/network-request-failed"!==g?.code)return u.directlySetCurrentUser(null)}return u.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function ns(){if(typeof navigator>"u")return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}()}_delete(){var l=this;return(0,C.A)(function*(){l._deleted=!0})()}updateCurrentUser(l){var u=this;return(0,C.A)(function*(){if((0,Be._isFirebaseServerApp)(u.app))return Promise.reject(Je(u));const g=l?(0,se.Ku)(l):null;return g&&ge(g.auth.config.apiKey===u.config.apiKey,u,"invalid-user-token"),u._updateCurrentUser(g&&g._clone(u))})()}_updateCurrentUser(l,u=!1){var g=this;return(0,C.A)(function*(){if(!g._deleted)return l&&ge(g.tenantId===l.tenantId,g,"tenant-id-mismatch"),u||(yield g.beforeStateQueue.runMiddleware(l)),g.queue((0,C.A)(function*(){yield g.directlySetCurrentUser(l),g.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,C.A)(function*(){return(0,Be._isFirebaseServerApp)(l.app)?Promise.reject(Je(l)):(yield l.beforeStateQueue.runMiddleware(null),(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null,!0))})()}setPersistence(l){var u=this;return(0,Be._isFirebaseServerApp)(this.app)?Promise.reject(Je(this)):this.queue((0,C.A)(function*(){yield u.assertedPersistence.setPersistence(Ve(l))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(l){var u=this;return(0,C.A)(function*(){u._getPasswordPolicyInternal()||(yield u._updatePasswordPolicy());const g=u._getPasswordPolicyInternal();return g.schemaVersion!==u.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(u._errorFactory.create("unsupported-password-policy-schema-version",{})):g.validatePassword(l)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var l=this;return(0,C.A)(function*(){const u=yield function pt(p){return mt.apply(this,arguments)}(l),g=new Un(u);null===l.tenantId?l._projectPasswordPolicy=g:l._tenantPasswordPolicies[l.tenantId]=g})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new se.FA("auth","Firebase",l())}onAuthStateChanged(l,u,g){return this.registerStateListener(this.authStateSubscription,l,u,g)}beforeAuthStateChanged(l,u){return this.beforeStateQueue.pushCallback(l,u)}onIdTokenChanged(l,u,g){return this.registerStateListener(this.idTokenSubscription,l,u,g)}authStateReady(){return new Promise((l,u)=>{if(this.currentUser)l();else{const g=this.onAuthStateChanged(()=>{g(),l()},u)}})}revokeAccessToken(l){var u=this;return(0,C.A)(function*(){if(u.currentUser){const g=yield u.currentUser.getIdToken(),v={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:l,idToken:g};null!=u.tenantId&&(v.tenantId=u.tenantId),yield function R(p,l){return M.apply(this,arguments)}(u,v)}})()}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,u){var g=this;return(0,C.A)(function*(){const v=yield g.getOrInitRedirectPersistenceManager(u);return null===l?v.removeCurrentUser():v.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var u=this;return(0,C.A)(function*(){if(!u.redirectPersistenceManager){const g=l&&Ve(l)||u._popupRedirectResolver;ge(g,u,"argument-error"),u.redirectPersistenceManager=yield er.create(u,[Ve(g._redirectPersistence)],"redirectUser"),u.redirectUser=yield u.redirectPersistenceManager.getCurrentUser()}return u.redirectPersistenceManager})()}_redirectUserForId(l){var u=this;return(0,C.A)(function*(){var g,v;return u._isInitialized&&(yield u.queue((0,C.A)(function*(){}))),(null===(g=u._currentUser)||void 0===g?void 0:g._redirectEventId)===l?u._currentUser:(null===(v=u.redirectUser)||void 0===v?void 0:v._redirectEventId)===l?u.redirectUser:null})()}_persistUserIfCurrent(l){var u=this;return(0,C.A)(function*(){if(l===u.currentUser)return u.queue((0,C.A)(function*(){return u.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,u;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const g=null!==(u=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==u?u:null;this.lastNotifiedUid!==g&&(this.lastNotifiedUid=g,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,u,g,v){if(this._deleted)return()=>{};const E="function"==typeof u?u:u.next.bind(u);let N=!1;const W=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(W,this,"internal-error"),W.then(()=>{N||E(this.currentUser)}),"function"==typeof u){const le=l.addObserver(u,g,v);return()=>{N=!0,le()}}{const le=l.addObserver(u);return()=>{N=!0,le()}}}directlySetCurrentUser(l){var u=this;return(0,C.A)(function*(){u.currentUser&&u.currentUser!==l&&u._currentUser._stopProactiveRefresh(),l&&u.isProactiveRefreshEnabled&&l._startProactiveRefresh(),u.currentUser=l,l?yield u.assertedPersistence.setCurrentUser(l):yield u.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=ke(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,C.A)(function*(){var u;const g={"X-Client-Version":l.clientVersion};l.app.options.appId&&(g["X-Firebase-gmpid"]=l.app.options.appId);const v=yield null===(u=l.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===u?void 0:u.getHeartbeatsHeader();v&&(g["X-Firebase-Client"]=v);const E=yield l._getAppCheckToken();return E&&(g["X-Firebase-AppCheck"]=E),g})()}_getAppCheckToken(){var l=this;return(0,C.A)(function*(){var u;const g=yield null===(u=l.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===u?void 0:u.getToken();return g?.error&&function ar(p,...l){sr.logLevel<=St.$b.WARN&&sr.warn(`Auth (${Be.SDK_VERSION}): ${p}`,...l)}(`Error while retrieving App Check token: ${g.error}`),g?.token})()}}function Qt(p){return(0,se.Ku)(p)}class Bo{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,se.tD)(u=>this.observer=u)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ju={loadJS:()=>(0,C.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function T_(p){return ju.loadJS(p)}function C_(p){return`__${p}${Math.floor(1e6*Math.random())}`}class st{constructor(l){this.type="recaptcha-enterprise",this.auth=Qt(l)}verify(l="verify",u=!1){var g=this;return(0,C.A)(function*(){function E(){return E=(0,C.A)(function*(W){if(!u){if(null==W.tenantId&&null!=W._agentRecaptchaConfig)return W._agentRecaptchaConfig.siteKey;if(null!=W.tenantId&&void 0!==W._tenantRecaptchaConfigs[W.tenantId])return W._tenantRecaptchaConfigs[W.tenantId].siteKey}return new Promise(function(){var le=(0,C.A)(function*(Re,Ge){En(W,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(He=>{if(void 0!==He.recaptchaKey){const Hn=new de(He);return null==W.tenantId?W._agentRecaptchaConfig=Hn:W._tenantRecaptchaConfigs[W.tenantId]=Hn,Re(Hn.siteKey)}Ge(new Error("recaptcha Enterprise site key undefined"))}).catch(He=>{Ge(He)})});return function(Re,Ge){return le.apply(this,arguments)}}())}),E.apply(this,arguments)}function N(W,le,Re){const Ge=window.grecaptcha;ee(Ge)?Ge.enterprise.ready(()=>{Ge.enterprise.execute(W,{action:l}).then(He=>{le(He)}).catch(()=>{le("NO_RECAPTCHA")})}):Re(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((W,le)=>{(function v(W){return E.apply(this,arguments)})(g.auth).then(Re=>{if(!u&&ee(window.grecaptcha))N(Re,W,le);else{if(typeof window>"u")return void le(new Error("RecaptchaVerifier is only supported in browser"));let Ge=function pb(){return ju.recaptchaEnterpriseScript}();0!==Ge.length&&(Ge+=Re),T_(Ge).then(()=>{N(Re,W,le)}).catch(He=>{le(He)})}}).catch(Re=>{le(Re)})})})()}}function gb(p,l,u){return D_.apply(this,arguments)}function D_(){return(D_=(0,C.A)(function*(p,l,u,g=!1){const v=new st(p);let E;try{E=yield v.verify(u)}catch{E=yield v.verify(u,!0)}const N=Object.assign({},l);return Object.assign(N,g?{captchaResp:E}:{captchaResponse:E}),Object.assign(N,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(N,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),N})).apply(this,arguments)}function $u(p,l,u,g){return Pe.apply(this,arguments)}function Pe(){return Pe=(0,C.A)(function*(p,l,u,g){var v;if(null!==(v=p._getRecaptchaConfig())&&void 0!==v&&v.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const E=yield gb(p,l,u,"getOobCode"===u);return g(p,E)}return g(p,l).catch(function(){var E=(0,C.A)(function*(N){if("auth/missing-recaptcha-token"===N.code){console.log(`${u} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const W=yield gb(p,l,u,"getOobCode"===u);return g(p,W)}return Promise.reject(N)});return function(N){return E.apply(this,arguments)}}())}),Pe.apply(this,arguments)}function A_(p){const l=p.indexOf(":");return l<0?"":p.substr(0,l+1)}function rl(p){if(!p)return null;const l=Number(p);return isNaN(l)?null:l}class ia{constructor(l,u){this.providerId=l,this.signInMethod=u}toJSON(){return yn("not implemented")}_getIdTokenResponse(l){return yn("not implemented")}_linkToIdToken(l,u){return yn("not implemented")}_getReauthenticationResolver(l){return yn("not implemented")}}function S_(p,l){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,C.A)(function*(p,l){return te(p,"POST","/v1/accounts:resetPassword",z(p,l))})).apply(this,arguments)}function zu(){return(zu=(0,C.A)(function*(p,l){return te(p,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function wi(p,l){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,C.A)(function*(p,l){return te(p,"POST","/v1/accounts:signUp",l)})).apply(this,arguments)}function cn(){return(cn=(0,C.A)(function*(p,l){return te(p,"POST","/v1/accounts:update",z(p,l))})).apply(this,arguments)}function pS(p,l){return R_.apply(this,arguments)}function R_(){return(R_=(0,C.A)(function*(p,l){return $t(p,"POST","/v1/accounts:signInWithPassword",z(p,l))})).apply(this,arguments)}function xe(p,l){return il.apply(this,arguments)}function il(){return(il=(0,C.A)(function*(p,l){return te(p,"POST","/v1/accounts:sendOobCode",z(p,l))})).apply(this,arguments)}function qu(){return(qu=(0,C.A)(function*(p,l){return xe(p,l)})).apply(this,arguments)}function Lf(p,l){return Bf.apply(this,arguments)}function Bf(){return(Bf=(0,C.A)(function*(p,l){return xe(p,l)})).apply(this,arguments)}function Uf(p,l){return M_.apply(this,arguments)}function M_(){return(M_=(0,C.A)(function*(p,l){return xe(p,l)})).apply(this,arguments)}function N_(){return(N_=(0,C.A)(function*(p,l){return xe(p,l)})).apply(this,arguments)}function P_(){return(P_=(0,C.A)(function*(p,l){return $t(p,"POST","/v1/accounts:signInWithEmailLink",z(p,l))})).apply(this,arguments)}function sl(){return(sl=(0,C.A)(function*(p,l){return $t(p,"POST","/v1/accounts:signInWithEmailLink",z(p,l))})).apply(this,arguments)}class Ds extends ia{constructor(l,u,g,v=null){super("password",g),this._email=l,this._password=u,this._tenantId=v}static _fromEmailAndPassword(l,u){return new Ds(l,u,"password")}static _fromEmailAndCode(l,u,g=null){return new Ds(l,u,"emailLink",g)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const u="string"==typeof l?JSON.parse(l):l;if(u?.email&&u?.password){if("password"===u.signInMethod)return this._fromEmailAndPassword(u.email,u.password);if("emailLink"===u.signInMethod)return this._fromEmailAndCode(u.email,u.password,u.tenantId)}return null}_getIdTokenResponse(l){var u=this;return(0,C.A)(function*(){switch(u.signInMethod){case"password":return $u(l,{returnSecureToken:!0,email:u._email,password:u._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",pS);case"emailLink":return function mS(p,l){return P_.apply(this,arguments)}(l,{email:u._email,oobCode:u._password});default:Et(l,"internal-error")}})()}_linkToIdToken(l,u){var g=this;return(0,C.A)(function*(){switch(g.signInMethod){case"password":return $u(l,{idToken:u,returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wi);case"emailLink":return function ol(p,l){return sl.apply(this,arguments)}(l,{idToken:u,email:g._email,oobCode:g._password});default:Et(l,"internal-error")}})()}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}function cs(p,l){return jf.apply(this,arguments)}function jf(){return(jf=(0,C.A)(function*(p,l){return $t(p,"POST","/v1/accounts:signInWithIdp",z(p,l))})).apply(this,arguments)}class vo extends ia{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const u=new vo(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(u.idToken=l.idToken),l.accessToken&&(u.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(u.nonce=l.nonce),l.pendingToken&&(u.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(u.accessToken=l.oauthToken,u.secret=l.oauthTokenSecret):Et("argument-error"),u}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const u="string"==typeof l?JSON.parse(l):l,{providerId:g,signInMethod:v}=u,E=(0,An.Tt)(u,["providerId","signInMethod"]);if(!g||!v)return null;const N=new vo(g,v);return N.idToken=E.idToken||void 0,N.accessToken=E.accessToken||void 0,N.secret=E.secret,N.nonce=E.nonce,N.pendingToken=E.pendingToken||null,N}_getIdTokenResponse(l){return cs(l,this.buildRequest())}_linkToIdToken(l,u){const g=this.buildRequest();return g.idToken=u,cs(l,g)}_getReauthenticationResolver(l){const u=this.buildRequest();return u.autoCreate=!1,cs(l,u)}buildRequest(){const l={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const u={};this.idToken&&(u.id_token=this.idToken),this.accessToken&&(u.access_token=this.accessToken),this.secret&&(u.oauth_token_secret=this.secret),u.providerId=this.providerId,this.nonce&&!this.pendingToken&&(u.nonce=this.nonce),l.postBody=(0,se.Am)(u)}return l}}function $f(){return($f=(0,C.A)(function*(p,l){return te(p,"POST","/v1/accounts:sendVerificationCode",z(p,l))})).apply(this,arguments)}function Hf(){return(Hf=(0,C.A)(function*(p,l){return $t(p,"POST","/v1/accounts:signInWithPhoneNumber",z(p,l))})).apply(this,arguments)}function Ku(){return(Ku=(0,C.A)(function*(p,l){const u=yield $t(p,"POST","/v1/accounts:signInWithPhoneNumber",z(p,l));if(u.temporaryProof)throw B(p,"account-exists-with-different-credential",u);return u})).apply(this,arguments)}const Me={USER_NOT_FOUND:"user-not-found"};function al(){return(al=(0,C.A)(function*(p,l){return $t(p,"POST","/v1/accounts:signInWithPhoneNumber",z(p,Object.assign(Object.assign({},l),{operation:"REAUTH"})),Me)})).apply(this,arguments)}class bo extends ia{constructor(l){super("phone","phone"),this.params=l}static _fromVerification(l,u){return new bo({verificationId:l,verificationCode:u})}static _fromTokenResponse(l,u){return new bo({phoneNumber:l,temporaryProof:u})}_getIdTokenResponse(l){return function As(p,l){return Hf.apply(this,arguments)}(l,this._makeVerificationRequest())}_linkToIdToken(l,u){return function ve(p,l){return Ku.apply(this,arguments)}(l,Object.assign({idToken:u},this._makeVerificationRequest()))}_getReauthenticationResolver(l){return function Qu(p,l){return al.apply(this,arguments)}(l,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:l,phoneNumber:u,verificationId:g,verificationCode:v}=this.params;return l&&u?{temporaryProof:l,phoneNumber:u}:{sessionInfo:g,code:v}}toJSON(){const l={providerId:this.providerId};return this.params.phoneNumber&&(l.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(l.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(l.verificationCode=this.params.verificationCode),this.params.verificationId&&(l.verificationId=this.params.verificationId),l}static fromJSON(l){"string"==typeof l&&(l=JSON.parse(l));const{verificationId:u,verificationCode:g,phoneNumber:v,temporaryProof:E}=l;return g||u||v||E?new bo({verificationId:u,verificationCode:g,phoneNumber:v,temporaryProof:E}):null}}class cl{constructor(l){var u,g,v,E,N,W;const le=(0,se.I9)((0,se.hp)(l)),Re=null!==(u=le.apiKey)&&void 0!==u?u:null,Ge=null!==(g=le.oobCode)&&void 0!==g?g:null,He=function yb(p){switch(p){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(v=le.mode)&&void 0!==v?v:null);ge(Re&&Ge&&He,"argument-error"),this.apiKey=Re,this.operation=He,this.code=Ge,this.continueUrl=null!==(E=le.continueUrl)&&void 0!==E?E:null,this.languageCode=null!==(N=le.languageCode)&&void 0!==N?N:null,this.tenantId=null!==(W=le.tenantId)&&void 0!==W?W:null}static parseLink(l){const u=function vb(p){const l=(0,se.I9)((0,se.hp)(p)).link,u=l?(0,se.I9)((0,se.hp)(l)).deep_link_id:null,g=(0,se.I9)((0,se.hp)(p)).deep_link_id;return(g?(0,se.I9)((0,se.hp)(g)).link:null)||g||u||l||p}(l);try{return new cl(u)}catch{return null}}}let Za=(()=>{class p{constructor(){this.providerId=p.PROVIDER_ID}static credential(u,g){return Ds._fromEmailAndPassword(u,g)}static credentialWithLink(u,g){const v=cl.parseLink(g);return ge(v,"argument-error"),Ds._fromEmailAndCode(u,v.code,v.tenantId)}}return p.PROVIDER_ID="password",p.EMAIL_PASSWORD_SIGN_IN_METHOD="password",p.EMAIL_LINK_SIGN_IN_METHOD="emailLink",p})();class _r{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class ni extends _r{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class Rt extends ni{static credentialFromJSON(l){const u="string"==typeof l?JSON.parse(l):l;return ge("providerId"in u&&"signInMethod"in u,"argument-error"),vo._fromParams(u)}credential(l){return this._credential(Object.assign(Object.assign({},l),{nonce:l.rawNonce}))}_credential(l){return ge(l.idToken||l.accessToken,"argument-error"),vo._fromParams(Object.assign(Object.assign({},l),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(l){return Rt.oauthCredentialFromTaggedObject(l)}static credentialFromError(l){return Rt.oauthCredentialFromTaggedObject(l.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:u,oauthAccessToken:g,oauthTokenSecret:v,pendingToken:E,nonce:N,providerId:W}=l;if(!g&&!v&&!u&&!E||!W)return null;try{return new Rt(W)._credential({idToken:u,accessToken:g,nonce:N,pendingToken:E})}catch{return null}}}let ll=(()=>{class p extends ni{constructor(){super("facebook.com")}static credential(u){return vo._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.FACEBOOK_SIGN_IN_METHOD,accessToken:u})}static credentialFromResult(u){return p.credentialFromTaggedObject(u)}static credentialFromError(u){return p.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u||!("oauthAccessToken"in u)||!u.oauthAccessToken)return null;try{return p.credential(u.oauthAccessToken)}catch{return null}}}return p.FACEBOOK_SIGN_IN_METHOD="facebook.com",p.PROVIDER_ID="facebook.com",p})(),Yu=(()=>{class p extends ni{constructor(){super("google.com"),this.addScope("profile")}static credential(u,g){return vo._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GOOGLE_SIGN_IN_METHOD,idToken:u,accessToken:g})}static credentialFromResult(u){return p.credentialFromTaggedObject(u)}static credentialFromError(u){return p.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:g,oauthAccessToken:v}=u;if(!g&&!v)return null;try{return p.credential(g,v)}catch{return null}}}return p.GOOGLE_SIGN_IN_METHOD="google.com",p.PROVIDER_ID="google.com",p})(),Ju=(()=>{class p extends ni{constructor(){super("github.com")}static credential(u){return vo._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GITHUB_SIGN_IN_METHOD,accessToken:u})}static credentialFromResult(u){return p.credentialFromTaggedObject(u)}static credentialFromError(u){return p.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u||!("oauthAccessToken"in u)||!u.oauthAccessToken)return null;try{return p.credential(u.oauthAccessToken)}catch{return null}}}return p.GITHUB_SIGN_IN_METHOD="github.com",p.PROVIDER_ID="github.com",p})();class Ti extends ia{constructor(l,u){super(l,l),this.pendingToken=u}_getIdTokenResponse(l){return cs(l,this.buildRequest())}_linkToIdToken(l,u){const g=this.buildRequest();return g.idToken=u,cs(l,g)}_getReauthenticationResolver(l){const u=this.buildRequest();return u.autoCreate=!1,cs(l,u)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(l){const u="string"==typeof l?JSON.parse(l):l,{providerId:g,signInMethod:v,pendingToken:E}=u;return g&&v&&E&&g===v?new Ti(g,E):null}static _create(l,u){return new Ti(l,u)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class dl extends _r{constructor(l){ge(l.startsWith("saml."),"argument-error"),super(l)}static credentialFromResult(l){return dl.samlCredentialFromTaggedObject(l)}static credentialFromError(l){return dl.samlCredentialFromTaggedObject(l.customData||{})}static credentialFromJSON(l){const u=Ti.fromJSON(l);return ge(u,"argument-error"),u}static samlCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{pendingToken:u,providerId:g}=l;if(!u||!g)return null;try{return Ti._create(g,u)}catch{return null}}}let Gf=(()=>{class p extends ni{constructor(){super("twitter.com")}static credential(u,g){return vo._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.TWITTER_SIGN_IN_METHOD,oauthToken:u,oauthTokenSecret:g})}static credentialFromResult(u){return p.credentialFromTaggedObject(u)}static credentialFromError(u){return p.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthAccessToken:g,oauthTokenSecret:v}=u;if(!g||!v)return null;try{return p.credential(g,v)}catch{return null}}}return p.TWITTER_SIGN_IN_METHOD="twitter.com",p.PROVIDER_ID="twitter.com",p})();function Zu(p,l){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,C.A)(function*(p,l){return $t(p,"POST","/v1/accounts:signUp",z(p,l))})).apply(this,arguments)}class Bi{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,u,g,v=!1){return(0,C.A)(function*(){const E=yield Z._fromIdTokenResponse(l,g,v),N=Xa(g);return new Bi({user:E,providerId:N,_tokenResponse:g,operationType:u})})()}static _forOperation(l,u,g){return(0,C.A)(function*(){yield l._updateTokensIfNecessary(g,!0);const v=Xa(g);return new Bi({user:l,providerId:v,_tokenResponse:g,operationType:u})})()}}function Xa(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}function ed(){return(ed=(0,C.A)(function*(p){var l;if((0,Be._isFirebaseServerApp)(p.app))return Promise.reject(Je(p));const u=Qt(p);if(yield u._initializationPromise,null!==(l=u.currentUser)&&void 0!==l&&l.isAnonymous)return new Bi({user:u.currentUser,providerId:null,operationType:"signIn"});const g=yield Zu(u,{returnSecureToken:!0}),v=yield Bi._fromIdTokenResponse(u,"signIn",g,!0);return yield u._updateCurrentUser(v.user),v})).apply(this,arguments)}class td extends se.g{constructor(l,u,g,v){var E;super(u.code,u.message),this.operationType=g,this.user=v,Object.setPrototypeOf(this,td.prototype),this.customData={appName:l.name,tenantId:null!==(E=l.tenantId)&&void 0!==E?E:void 0,_serverResponse:u.customData._serverResponse,operationType:g}}static _fromErrorAndOperation(l,u,g,v){return new td(l,u,g,v)}}function zf(p,l,u,g){return("reauthenticate"===l?u._getReauthenticationResolver(p):u._getIdTokenResponse(p)).catch(E=>{throw"auth/multi-factor-auth-required"===E.code?td._fromErrorAndOperation(p,E,l,g):E})}function k_(p){return new Set(p.map(({providerId:l})=>l).filter(l=>!!l))}function Ui(){return Ui=(0,C.A)(function*(p,l){const u=(0,se.Ku)(p);yield rd(!0,u,l);const{providerUserInfo:g}=yield function Nr(p,l){return Fi.apply(this,arguments)}(u.auth,{idToken:yield u.getIdToken(),deleteProvider:[l]}),v=k_(g||[]);return u.providerData=u.providerData.filter(E=>v.has(E.providerId)),v.has("phone")||(u.phoneNumber=null),yield u.auth._persistUserIfCurrent(u),u}),Ui.apply(this,arguments)}function Wf(p,l){return nd.apply(this,arguments)}function nd(){return(nd=(0,C.A)(function*(p,l,u=!1){const g=yield Ii(p,l._linkToIdToken(p.auth,yield p.getIdToken()),u);return Bi._forOperation(p,"link",g)})).apply(this,arguments)}function rd(p,l,u){return qf.apply(this,arguments)}function qf(){return(qf=(0,C.A)(function*(p,l,u){yield Ei(l);const v=!1===p?"provider-already-linked":"no-such-provider";ge(k_(l.providerData).has(u)===p,l.auth,v)})).apply(this,arguments)}function F_(p,l){return Kf.apply(this,arguments)}function Kf(){return(Kf=(0,C.A)(function*(p,l,u=!1){const{auth:g}=p;if((0,Be._isFirebaseServerApp)(g.app))return Promise.reject(Je(g));const v="reauthenticate";try{const E=yield Ii(p,zf(g,v,l,p),u);ge(E.idToken,g,"internal-error");const N=eo(E.idToken);ge(N,g,"internal-error");const{sub:W}=N;return ge(p.uid===W,g,"user-mismatch"),Bi._forOperation(p,v,E)}catch(E){throw"auth/user-not-found"===E?.code&&Et(g,"user-mismatch"),E}})).apply(this,arguments)}function Qf(p,l){return Yf.apply(this,arguments)}function Yf(){return(Yf=(0,C.A)(function*(p,l,u=!1){if((0,Be._isFirebaseServerApp)(p.app))return Promise.reject(Je(p));const g="signIn",v=yield zf(p,g,l),E=yield Bi._fromIdTokenResponse(p,g,v);return u||(yield p._updateCurrentUser(E.user)),E})).apply(this,arguments)}function id(p,l){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,C.A)(function*(p,l){return Qf(Qt(p),l)})).apply(this,arguments)}function Kn(p,l){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,C.A)(function*(p,l){const u=(0,se.Ku)(p);return yield rd(!1,u,l.providerId),Wf(u,l)})).apply(this,arguments)}function V_(p,l){return Xf.apply(this,arguments)}function Xf(){return(Xf=(0,C.A)(function*(p,l){return F_((0,se.Ku)(p),l)})).apply(this,arguments)}function ep(){return(ep=(0,C.A)(function*(p,l){return $t(p,"POST","/v1/accounts:signInWithCustomToken",z(p,l))})).apply(this,arguments)}function Se(){return Se=(0,C.A)(function*(p,l){if((0,Be._isFirebaseServerApp)(p.app))return Promise.reject(Je(p));const u=Qt(p),g=yield function ln(p,l){return ep.apply(this,arguments)}(u,{token:l,returnSecureToken:!0}),v=yield Bi._fromIdTokenResponse(u,"signIn",g);return yield u._updateCurrentUser(v.user),v}),Se.apply(this,arguments)}class Tr{constructor(l,u){this.factorId=l,this.uid=u.mfaEnrollmentId,this.enrollmentTime=new Date(u.enrolledAt).toUTCString(),this.displayName=u.displayName}static _fromServerResponse(l,u){return"phoneInfo"in u?xt._fromServerResponse(l,u):"totpInfo"in u?yr._fromServerResponse(l,u):Et(l,"internal-error")}}class xt extends Tr{constructor(l){super("phone",l),this.phoneNumber=l.phoneInfo}static _fromServerResponse(l,u){return new xt(u)}}class yr extends Tr{constructor(l){super("totp",l)}static _fromServerResponse(l,u){return new yr(u)}}function Cr(p,l,u){var g;ge((null===(g=u.url)||void 0===g?void 0:g.length)>0,p,"invalid-continue-uri"),ge(typeof u.dynamicLinkDomain>"u"||u.dynamicLinkDomain.length>0,p,"invalid-dynamic-link-domain"),l.continueUrl=u.url,l.dynamicLinkDomain=u.dynamicLinkDomain,l.canHandleCodeInApp=u.handleCodeInApp,u.iOS&&(ge(u.iOS.bundleId.length>0,p,"missing-ios-bundle-id"),l.iOSBundleId=u.iOS.bundleId),u.android&&(ge(u.android.packageName.length>0,p,"missing-android-pkg-name"),l.androidInstallApp=u.android.installApp,l.androidMinimumVersionCode=u.android.minimumVersion,l.androidPackageName=u.android.packageName)}function Rs(p){return ri.apply(this,arguments)}function ri(){return(ri=(0,C.A)(function*(p){const l=Qt(p);l._getPasswordPolicyInternal()&&(yield l._updatePasswordPolicy())})).apply(this,arguments)}function od(){return(od=(0,C.A)(function*(p,l,u){const g=Qt(p),v={requestType:"PASSWORD_RESET",email:l,clientType:"CLIENT_TYPE_WEB"};u&&Cr(g,v,u),yield $u(g,v,"getOobCode",Lf)})).apply(this,arguments)}function tp(){return tp=(0,C.A)(function*(p,l,u){yield S_((0,se.Ku)(p),{oobCode:l,newPassword:u}).catch(function(){var g=(0,C.A)(function*(v){throw"auth/password-does-not-meet-requirements"===v.code&&Rs(p),v});return function(v){return g.apply(this,arguments)}}())}),tp.apply(this,arguments)}function Nn(){return Nn=(0,C.A)(function*(p,l){yield function fS(p,l){return cn.apply(this,arguments)}((0,se.Ku)(p),{oobCode:l})}),Nn.apply(this,arguments)}function Le(p,l){return ut.apply(this,arguments)}function ut(){return(ut=(0,C.A)(function*(p,l){const u=(0,se.Ku)(p),g=yield S_(u,{oobCode:l}),v=g.requestType;switch(ge(v,u,"internal-error"),v){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ge(g.newEmail,u,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ge(g.mfaInfo,u,"internal-error");default:ge(g.email,u,"internal-error")}let E=null;return g.mfaInfo&&(E=Tr._fromServerResponse(Qt(u),g.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.newEmail:g.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.email:g.newEmail)||null,multiFactorInfo:E},operation:v}})).apply(this,arguments)}function ji(){return(ji=(0,C.A)(function*(p,l){const{data:u}=yield Le((0,se.Ku)(p),l);return u.email})).apply(this,arguments)}function Dr(){return(Dr=(0,C.A)(function*(p,l,u){if((0,Be._isFirebaseServerApp)(p.app))return Promise.reject(Je(p));const g=Qt(p),N=yield $u(g,{returnSecureToken:!0,email:l,password:u,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zu).catch(le=>{throw"auth/password-does-not-meet-requirements"===le.code&&Rs(p),le}),W=yield Bi._fromIdTokenResponse(g,"signIn",N);return yield g._updateCurrentUser(W.user),W})).apply(this,arguments)}function Uo(){return(Uo=(0,C.A)(function*(p,l,u){const g=Qt(p),v={requestType:"EMAIL_SIGNIN",email:l,clientType:"CLIENT_TYPE_WEB"};(function E(N,W){ge(W.handleCodeInApp,g,"argument-error"),W&&Cr(g,N,W)})(v,u),yield $u(g,v,"getOobCode",Uf)})).apply(this,arguments)}function oa(){return(oa=(0,C.A)(function*(p,l,u){if((0,Be._isFirebaseServerApp)(p.app))return Promise.reject(Je(p));const g=(0,se.Ku)(p),v=Za.credentialWithLink(l,u||Hr());return ge(v._tenantId===(g.tenantId||null),g,"tenant-id-mismatch"),id(g,v)})).apply(this,arguments)}function Ms(){return(Ms=(0,C.A)(function*(p,l){return te(p,"POST","/v1/accounts:createAuthUri",z(p,l))})).apply(this,arguments)}function sa(){return sa=(0,C.A)(function*(p,l){const g={identifier:l,continueUri:vi()?Hr():"http://localhost"},{signinMethods:v}=yield function U_(p,l){return Ms.apply(this,arguments)}((0,se.Ku)(p),g);return v||[]}),sa.apply(this,arguments)}function no(){return no=(0,C.A)(function*(p,l){const u=(0,se.Ku)(p),v={requestType:"VERIFY_EMAIL",idToken:yield p.getIdToken()};l&&Cr(u.auth,v,l);const{email:E}=yield function Vf(p,l){return qu.apply(this,arguments)}(u.auth,v);E!==p.email&&(yield p.reload())}),no.apply(this,arguments)}function ad(){return ad=(0,C.A)(function*(p,l,u){const g=(0,se.Ku)(p),E={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield p.getIdToken(),newEmail:l};u&&Cr(g.auth,E,u);const{email:N}=yield function gS(p,l){return N_.apply(this,arguments)}(g.auth,E);N!==p.email&&(yield p.reload())}),ad.apply(this,arguments)}function Io(){return(Io=(0,C.A)(function*(p,l){return te(p,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function aa(){return aa=(0,C.A)(function*(p,{displayName:l,photoURL:u}){if(void 0===l&&void 0===u)return;const g=(0,se.Ku)(p),E={idToken:yield g.getIdToken(),displayName:l,photoUrl:u,returnSecureToken:!0},N=yield Ii(g,function Ns(p,l){return Io.apply(this,arguments)}(g.auth,E));g.displayName=N.displayName||null,g.photoURL=N.photoUrl||null;const W=g.providerData.find(({providerId:le})=>"password"===le);W&&(W.displayName=g.displayName,W.photoURL=g.photoURL),yield g._updateTokensIfNecessary(N)}),aa.apply(this,arguments)}function cd(p,l,u){return ld.apply(this,arguments)}function ld(){return ld=(0,C.A)(function*(p,l,u){const{auth:g}=p,E={idToken:yield p.getIdToken(),returnSecureToken:!0};l&&(E.email=l),u&&(E.password=u);const N=yield Ii(p,function Ff(p,l){return zu.apply(this,arguments)}(g,E));yield p._updateTokensIfNecessary(N,!0)}),ld.apply(this,arguments)}class ls{constructor(l,u,g={}){this.isNewUser=l,this.providerId=u,this.profile=g}}class ca extends ls{constructor(l,u,g,v){super(l,u,g),this.username=v}}class gl extends ls{constructor(l,u){super(l,"facebook.com",u)}}class xr extends ca{constructor(l,u){super(l,"github.com",u,"string"==typeof u?.login?u?.login:null)}}class yS extends ls{constructor(l,u){super(l,"google.com",u)}}class Ci extends ca{constructor(l,u,g){super(l,"twitter.com",u,g)}}function ii(p){const{user:l,_tokenResponse:u}=p;return l.isAnonymous&&!u?{providerId:null,isNewUser:!1,profile:null}:function jo(p){var l,u;if(!p)return null;const{providerId:g}=p,v=p.rawUserInfo?JSON.parse(p.rawUserInfo):{},E=p.isNewUser||"identitytoolkit#SignupNewUserResponse"===p.kind;if(!g&&p?.idToken){const N=null===(u=null===(l=eo(p.idToken))||void 0===l?void 0:l.firebase)||void 0===u?void 0:u.sign_in_provider;if(N)return new ls(E,"anonymous"!==N&&"custom"!==N?N:null)}if(!g)return null;switch(g){case"facebook.com":return new gl(E,v);case"github.com":return new xr(E,v);case"google.com":return new yS(E,v);case"twitter.com":return new Ci(E,v,p.screenName||null);case"custom":case"anonymous":return new ls(E,null);default:return new ls(E,g,v)}}(u)}class ic{constructor(l,u,g){this.type=l,this.credential=u,this.user=g}static _fromIdtoken(l,u){return new ic("enroll",l,u)}static _fromMfaPendingCredential(l){return new ic("signin",l)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(l){var u,g;if(l?.multiFactorSession){if(null!==(u=l.multiFactorSession)&&void 0!==u&&u.pendingCredential)return ic._fromMfaPendingCredential(l.multiFactorSession.pendingCredential);if(null!==(g=l.multiFactorSession)&&void 0!==g&&g.idToken)return ic._fromIdtoken(l.multiFactorSession.idToken)}return null}}class H_{constructor(l,u,g){this.session=l,this.hints=u,this.signInResolver=g}static _fromError(l,u){const g=Qt(l),v=u.customData._serverResponse,E=(v.mfaInfo||[]).map(W=>Tr._fromServerResponse(g,W));ge(v.mfaPendingCredential,g,"internal-error");const N=ic._fromMfaPendingCredential(v.mfaPendingCredential);return new H_(N,E,function(){var W=(0,C.A)(function*(le){const Re=yield le._process(g,N);delete v.mfaInfo,delete v.mfaPendingCredential;const Ge=Object.assign(Object.assign({},v),{idToken:Re.idToken,refreshToken:Re.refreshToken});switch(u.operationType){case"signIn":const He=yield Bi._fromIdTokenResponse(g,u.operationType,Ge);return yield g._updateCurrentUser(He.user),He;case"reauthenticate":return ge(u.user,g,"internal-error"),Bi._forOperation(u.user,u.operationType,Ge);default:Et(g,"internal-error")}});return function(le){return W.apply(this,arguments)}}())}resolveSignIn(l){var u=this;return(0,C.A)(function*(){return u.signInResolver(l)})()}}class G_{constructor(l){this.user=l,this.enrolledFactors=[],l._onReload(u=>{u.mfaInfo&&(this.enrolledFactors=u.mfaInfo.map(g=>Tr._fromServerResponse(l.auth,g)))})}static _fromUser(l){return new G_(l)}getSession(){var l=this;return(0,C.A)(function*(){return ic._fromIdtoken(yield l.user.getIdToken(),l.user)})()}enroll(l,u){var g=this;return(0,C.A)(function*(){const v=l,E=yield g.getSession(),N=yield Ii(g.user,v._process(g.user.auth,E,u));return yield g.user._updateTokensIfNecessary(N),g.user.reload()})()}unenroll(l){var u=this;return(0,C.A)(function*(){const g="string"==typeof l?l:l.uid,v=yield u.user.getIdToken();try{const E=yield Ii(u.user,function DS(p,l){return te(p,"POST","/v2/accounts/mfaEnrollment:withdraw",z(p,l))}(u.user.auth,{idToken:v,mfaEnrollmentId:g}));u.enrolledFactors=u.enrolledFactors.filter(({uid:N})=>N!==g),yield u.user._updateTokensIfNecessary(E),yield u.user.reload()}catch(E){throw E}})()}}const ud=new WeakMap,ip="__sak";class wb{constructor(l,u){this.storageRetriever=l,this.type=u}_isAvailable(){try{return this.storage?(this.storage.setItem(ip,"1"),this.storage.removeItem(ip),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(l,u){return this.storage.setItem(l,JSON.stringify(u)),Promise.resolve()}_get(l){const u=this.storage.getItem(l);return Promise.resolve(u?JSON.parse(u):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const op=(()=>{class p extends wb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(u,g)=>this.onStorageEvent(u,g),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=X(),this._shouldAllowMigration=!0}forAllChangedKeys(u){for(const g of Object.keys(this.listeners)){const v=this.storage.getItem(g),E=this.localCache[g];v!==E&&u(g,E,v)}}onStorageEvent(u,g=!1){if(!u.key)return void this.forAllChangedKeys((W,le,Re)=>{this.notifyListeners(W,Re)});const v=u.key;g?this.detachListener():this.stopPolling();const E=()=>{const W=this.storage.getItem(v);!g&&this.localCache[v]===W||this.notifyListeners(v,W)},N=this.storage.getItem(v);!function F(){return(0,se.lT)()&&10===document.documentMode}()||N===u.newValue||u.newValue===u.oldValue?E():setTimeout(E,10)}notifyListeners(u,g){this.localCache[u]=g;const v=this.listeners[u];if(v)for(const E of Array.from(v))E(g&&JSON.parse(g))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((u,g,v)=>{this.onStorageEvent(new StorageEvent("storage",{key:u,oldValue:g,newValue:v}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(u,g){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[u]||(this.listeners[u]=new Set,this.localCache[u]=this.storage.getItem(u)),this.listeners[u].add(g)}_removeListener(u,g){this.listeners[u]&&(this.listeners[u].delete(g),0===this.listeners[u].size&&delete this.listeners[u]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(u,g){var v=()=>super._set,E=this;return(0,C.A)(function*(){yield v().call(E,u,g),E.localCache[u]=JSON.stringify(g)})()}_get(u){var g=()=>super._get,v=this;return(0,C.A)(function*(){const E=yield g().call(v,u);return v.localCache[u]=JSON.stringify(E),E})()}_remove(u){var g=()=>super._remove,v=this;return(0,C.A)(function*(){yield g().call(v,u),delete v.localCache[u]})()}}return p.type="LOCAL",p})(),On=(()=>{class p extends wb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(u,g){}_removeListener(u,g){}}return p.type="SESSION",p})();let ro=(()=>{class p{constructor(u){this.eventTarget=u,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(u){const g=this.receivers.find(E=>E.isListeningto(u));if(g)return g;const v=new p(u);return this.receivers.push(v),v}isListeningto(u){return this.eventTarget===u}handleEvent(u){var g=this;return(0,C.A)(function*(){const v=u,{eventId:E,eventType:N,data:W}=v.data,le=g.handlersMap[N];if(!le?.size)return;v.ports[0].postMessage({status:"ack",eventId:E,eventType:N});const Re=Array.from(le).map(function(){var He=(0,C.A)(function*(Hn){return Hn(v.origin,W)});return function(Hn){return He.apply(this,arguments)}}()),Ge=yield function dd(p){return Promise.all(p.map(function(){var l=(0,C.A)(function*(u){try{return{fulfilled:!0,value:yield u}}catch(g){return{fulfilled:!1,reason:g}}});return function(u){return l.apply(this,arguments)}}()))}(Re);v.ports[0].postMessage({status:"done",eventId:E,eventType:N,response:Ge})})()}_subscribe(u,g){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[u]||(this.handlersMap[u]=new Set),this.handlersMap[u].add(g)}_unsubscribe(u,g){this.handlersMap[u]&&g&&this.handlersMap[u].delete(g),(!g||0===this.handlersMap[u].size)&&delete this.handlersMap[u],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return p.receivers=[],p})();function oc(p="",l=10){let u="";for(let g=0;g<l;g++)u+=Math.floor(10*Math.random());return p+u}class W_{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,u,g=50){var v=this;return(0,C.A)(function*(){const E=typeof MessageChannel<"u"?new MessageChannel:null;if(!E)throw new Error("connection_unavailable");let N,W;return new Promise((le,Re)=>{const Ge=oc("",20);E.port1.start();const He=setTimeout(()=>{Re(new Error("unsupported_event"))},g);W={messageChannel:E,onMessage(Hn){const wo=Hn;if(wo.data.eventId===Ge)switch(wo.data.status){case"ack":clearTimeout(He),N=setTimeout(()=>{Re(new Error("timeout"))},3e3);break;case"done":clearTimeout(N),le(wo.data.response);break;default:clearTimeout(He),clearTimeout(N),Re(new Error("invalid_response"))}}},v.handlers.add(W),E.port1.addEventListener("message",W.onMessage),v.target.postMessage({eventType:l,eventId:Ge,data:u},[E.port2])}).finally(()=>{W&&v.removeMessageHandler(W)})})()}}function rr(){return window}function ml(){return typeof rr().WorkerGlobalScope<"u"&&"function"==typeof rr().importScripts}function _l(){return(_l=(0,C.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ap="firebaseLocalStorageDb",da="firebaseLocalStorage",sc="fbase_key";class $o{constructor(l){this.request=l}toPromise(){return new Promise((l,u)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{u(this.request.error)})})}}function yl(p,l){return p.transaction([da],l?"readwrite":"readonly").objectStore(da)}function J_(){const p=indexedDB.open(ap,1);return new Promise((l,u)=>{p.addEventListener("error",()=>{u(p.error)}),p.addEventListener("upgradeneeded",()=>{const g=p.result;try{g.createObjectStore(da,{keyPath:sc})}catch(v){u(v)}}),p.addEventListener("success",(0,C.A)(function*(){const g=p.result;g.objectStoreNames.contains(da)?l(g):(g.close(),yield function SS(){const p=indexedDB.deleteDatabase(ap);return new $o(p).toPromise()}(),l(yield J_()))}))})}function Tb(p,l,u){return cp.apply(this,arguments)}function cp(){return(cp=(0,C.A)(function*(p,l,u){const g=yl(p,!0).put({[sc]:l,value:u});return new $o(g).toPromise()})).apply(this,arguments)}function Z_(){return(Z_=(0,C.A)(function*(p,l){const u=yl(p,!1).get(l),g=yield new $o(u).toPromise();return void 0===g?null:g.value})).apply(this,arguments)}function lp(p,l){const u=yl(p,!0).delete(l);return new $o(u).toPromise()}const vl=(()=>{class p{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var u=this;return(0,C.A)(function*(){return u.db||(u.db=yield J_()),u.db})()}_withRetries(u){var g=this;return(0,C.A)(function*(){let v=0;for(;;)try{const E=yield g._openDb();return yield u(E)}catch(E){if(v++>3)throw E;g.db&&(g.db.close(),g.db=void 0)}})()}initializeServiceWorkerMessaging(){var u=this;return(0,C.A)(function*(){return ml()?u.initializeReceiver():u.initializeSender()})()}initializeReceiver(){var u=this;return(0,C.A)(function*(){u.receiver=ro._getInstance(function Q_(){return ml()?self:null}()),u.receiver._subscribe("keyChanged",function(){var g=(0,C.A)(function*(v,E){return{keyProcessed:(yield u._poll()).includes(E.key)}});return function(v,E){return g.apply(this,arguments)}}()),u.receiver._subscribe("ping",function(){var g=(0,C.A)(function*(v,E){return["keyChanged"]});return function(v,E){return g.apply(this,arguments)}}())})()}initializeSender(){var u=this;return(0,C.A)(function*(){var g,v;if(u.activeServiceWorker=yield function K_(){return _l.apply(this,arguments)}(),!u.activeServiceWorker)return;u.sender=new W_(u.activeServiceWorker);const E=yield u.sender._send("ping",{},800);E&&null!==(g=E[0])&&void 0!==g&&g.fulfilled&&null!==(v=E[0])&&void 0!==v&&v.value.includes("keyChanged")&&(u.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(u){var g=this;return(0,C.A)(function*(){if(g.sender&&g.activeServiceWorker&&function sp(){var p;return(null===(p=navigator?.serviceWorker)||void 0===p?void 0:p.controller)||null}()===g.activeServiceWorker)try{yield g.sender._send("keyChanged",{key:u},g.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,C.A)(function*(){try{if(!indexedDB)return!1;const u=yield J_();return yield Tb(u,ip,"1"),yield lp(u,ip),!0}catch{}return!1})()}_withPendingWrite(u){var g=this;return(0,C.A)(function*(){g.pendingWrites++;try{yield u()}finally{g.pendingWrites--}})()}_set(u,g){var v=this;return(0,C.A)(function*(){return v._withPendingWrite((0,C.A)(function*(){return yield v._withRetries(E=>Tb(E,u,g)),v.localCache[u]=g,v.notifyServiceWorker(u)}))})()}_get(u){var g=this;return(0,C.A)(function*(){const v=yield g._withRetries(E=>function Cb(p,l){return Z_.apply(this,arguments)}(E,u));return g.localCache[u]=v,v})()}_remove(u){var g=this;return(0,C.A)(function*(){return g._withPendingWrite((0,C.A)(function*(){return yield g._withRetries(v=>lp(v,u)),delete g.localCache[u],g.notifyServiceWorker(u)}))})()}_poll(){var u=this;return(0,C.A)(function*(){const g=yield u._withRetries(N=>{const W=yl(N,!1).getAll();return new $o(W).toPromise()});if(!g)return[];if(0!==u.pendingWrites)return[];const v=[],E=new Set;if(0!==g.length)for(const{fbase_key:N,value:W}of g)E.add(N),JSON.stringify(u.localCache[N])!==JSON.stringify(W)&&(u.notifyListeners(N,W),v.push(N));for(const N of Object.keys(u.localCache))u.localCache[N]&&!E.has(N)&&(u.notifyListeners(N,null),v.push(N));return v})()}notifyListeners(u,g){this.localCache[u]=g;const v=this.listeners[u];if(v)for(const E of Array.from(v))E(g)}startPolling(){var u=this;this.stopPolling(),this.pollTimer=setInterval((0,C.A)(function*(){return u._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(u,g){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[u]||(this.listeners[u]=new Set,this._get(u)),this.listeners[u].add(g)}_removeListener(u,g){this.listeners[u]&&(this.listeners[u].delete(g),0===this.listeners[u].size&&delete this.listeners[u]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return p.type="LOCAL",p})(),hd=1e12;class Rb{constructor(l){this.auth=l,this.counter=hd,this._widgets=new Map}render(l,u){const g=this.counter;return this._widgets.set(g,new ny(l,this.auth.name,u||{})),this.counter++,g}reset(l){var u;const g=l||hd;null===(u=this._widgets.get(g))||void 0===u||u.delete(),this._widgets.delete(g)}getResponse(l){var u;return(null===(u=this._widgets.get(l||hd))||void 0===u?void 0:u.getResponse())||""}execute(l){var u=this;return(0,C.A)(function*(){var g;return null===(g=u._widgets.get(l||hd))||void 0===g||g.execute(),""})()}}class ny{constructor(l,u,g){this.params=g,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const v="string"==typeof l?document.getElementById(l):l;ge(v,"argument-error",{appName:u}),this.container=v,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Mb(p){const l=[],u="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<p;g++)l.push(u.charAt(Math.floor(62*Math.random())));return l.join("")}(50);const{callback:l,"expired-callback":u}=this.params;if(l)try{l(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,u)try{u()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const fd=C_("rcb"),Nb=new Xi(3e4,6e4);class MS{constructor(){var l;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(l=rr().grecaptcha)||void 0===l||!l.render)}load(l,u=""){return ge(function Pb(p){return p.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(p)}(u),l,"argument-error"),this.shouldResolveImmediately(u)&&U(rr().grecaptcha)?Promise.resolve(rr().grecaptcha):new Promise((g,v)=>{const E=rr().setTimeout(()=>{v(zt(l,"network-request-failed"))},Nb.get());rr()[fd]=()=>{rr().clearTimeout(E),delete rr()[fd];const W=rr().grecaptcha;if(!W||!U(W))return void v(zt(l,"internal-error"));const le=W.render;W.render=(Re,Ge)=>{const He=le(Re,Ge);return this.counter++,He},this.hostLanguage=u,g(W)},T_(`${function lS(){return ju.recaptchaV2Script}()}?${(0,se.Am)({onload:fd,render:"explicit",hl:u})}`).catch(()=>{clearTimeout(E),v(zt(l,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(l){var u;return!(null===(u=rr().grecaptcha)||void 0===u||!u.render)&&(l===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class kr{load(l){return(0,C.A)(function*(){return new Rb(l)})()}clearedOneInstance(){}}const dp="recaptcha",Ob={theme:"light",type:"image"};class xb{constructor(l,u,g=Object.assign({},Ob)){this.parameters=g,this.type=dp,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Qt(l),this.isInvisible="invisible"===this.parameters.size,ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const v="string"==typeof u?document.getElementById(u):u;ge(v,this.auth,"argument-error"),this.container=v,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new kr:new MS,this.validateStartingState()}verify(){var l=this;return(0,C.A)(function*(){l.assertNotDestroyed();const u=yield l.render(),g=l.getAssertedRecaptcha();return g.getResponse(u)||new Promise(E=>{const N=W=>{W&&(l.tokenChangeListeners.delete(N),E(W))};l.tokenChangeListeners.add(N),l.isInvisible&&g.execute(u)})})()}render(){try{this.assertNotDestroyed()}catch(l){return Promise.reject(l)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(l=>{throw this.renderPromise=null,l})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(l=>{this.container.removeChild(l)})}validateStartingState(){ge(!this.parameters.sitekey,this.auth,"argument-error"),ge(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(l){return u=>{if(this.tokenChangeListeners.forEach(g=>g(u)),"function"==typeof l)l(u);else if("string"==typeof l){const g=rr()[l];"function"==typeof g&&g(u)}}}assertNotDestroyed(){ge(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var l=this;return(0,C.A)(function*(){if(yield l.init(),!l.widgetId){let u=l.container;if(!l.isInvisible){const g=document.createElement("div");u.appendChild(g),u=g}l.widgetId=l.getAssertedRecaptcha().render(u,l.parameters)}return l.widgetId})()}init(){var l=this;return(0,C.A)(function*(){ge(vi()&&!ml(),l.auth,"internal-error"),yield function ry(){let p=null;return new Promise(l=>{"complete"!==document.readyState?(p=()=>l(),window.addEventListener("load",p)):l()}).catch(l=>{throw p&&window.removeEventListener("load",p),l})}(),l.recaptcha=yield l._recaptchaLoader.load(l.auth,l.auth.languageCode||void 0);const u=yield function Ce(p){return De.apply(this,arguments)}(l.auth);ge(u,l.auth,"internal-error"),l.parameters.sitekey=u})()}getAssertedRecaptcha(){return ge(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class pd{constructor(l,u){this.verificationId=l,this.onConfirmation=u}confirm(l){const u=bo._fromVerification(this.verificationId,l);return this.onConfirmation(u)}}function bl(){return(bl=(0,C.A)(function*(p,l,u){if((0,Be._isFirebaseServerApp)(p.app))return Promise.reject(Je(p));const g=Qt(p),v=yield tn(g,l,(0,se.Ku)(u));return new pd(v,E=>id(g,E))})).apply(this,arguments)}function io(){return(io=(0,C.A)(function*(p,l,u){const g=(0,se.Ku)(p);yield rd(!1,g,"phone");const v=yield tn(g.auth,l,(0,se.Ku)(u));return new pd(v,E=>Kn(g,E))})).apply(this,arguments)}function gd(){return(gd=(0,C.A)(function*(p,l,u){const g=(0,se.Ku)(p);if((0,Be._isFirebaseServerApp)(g.auth.app))return Promise.reject(Je(g.auth));const v=yield tn(g.auth,l,(0,se.Ku)(u));return new pd(v,E=>V_(g,E))})).apply(this,arguments)}function tn(p,l,u){return Il.apply(this,arguments)}function Il(){return Il=(0,C.A)(function*(p,l,u){var g;const v=yield u.verify();try{let E;if(ge("string"==typeof v,p,"argument-error"),ge(u.type===dp,p,"argument-error"),E="string"==typeof l?{phoneNumber:l}:l,"session"in E){const N=E.session;if("phoneNumber"in E)return ge("enroll"===N.type,p,"internal-error"),(yield function wS(p,l){return te(p,"POST","/v2/accounts/mfaEnrollment:start",z(p,l))}(p,{idToken:N.credential,phoneEnrollmentInfo:{phoneNumber:E.phoneNumber,recaptchaToken:v}})).phoneSessionInfo.sessionInfo;{ge("signin"===N.type,p,"internal-error");const W=(null===(g=E.multiFactorHint)||void 0===g?void 0:g.uid)||E.multiFactorUid;return ge(W,p,"missing-multi-factor-info"),(yield function RS(p,l){return te(p,"POST","/v2/accounts/mfaSignIn:start",z(p,l))}(p,{mfaPendingCredential:N.credential,mfaEnrollmentId:W,phoneSignInInfo:{recaptchaToken:v}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:N}=yield function Ja(p,l){return $f.apply(this,arguments)}(p,{phoneNumber:E.phoneNumber,recaptchaToken:v});return N}}finally{u._reset()}}),Il.apply(this,arguments)}function Gr(){return(Gr=(0,C.A)(function*(p,l){const u=(0,se.Ku)(p);if((0,Be._isFirebaseServerApp)(u.auth.app))return Promise.reject(Je(u.auth));yield Wf(u,l)})).apply(this,arguments)}let El=(()=>{class p{constructor(u){this.providerId=p.PROVIDER_ID,this.auth=Qt(u)}verifyPhoneNumber(u,g){return tn(this.auth,u,(0,se.Ku)(g))}static credential(u,g){return bo._fromVerification(u,g)}static credentialFromResult(u){return p.credentialFromTaggedObject(u)}static credentialFromError(u){return p.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{phoneNumber:g,temporaryProof:v}=u;return g&&v?bo._fromTokenResponse(g,v):null}}return p.PROVIDER_ID="phone",p.PHONE_SIGN_IN_METHOD="phone",p})();function Ps(p,l){return l?Ve(l):(ge(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}class Os extends ia{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return cs(l,this._buildIdpRequest())}_linkToIdToken(l,u){return cs(l,this._buildIdpRequest(u))}_getReauthenticationResolver(l){return cs(l,this._buildIdpRequest())}_buildIdpRequest(l){const u={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(u.idToken=l),u}}function Hi(p){return Qf(p.auth,new Os(p),p.bypassAuthState)}function Vb(p){const{auth:l,user:u}=p;return ge(u,l,"internal-error"),F_(u,new Os(p),p.bypassAuthState)}function Lb(p){return hp.apply(this,arguments)}function hp(){return(hp=(0,C.A)(function*(p){const{auth:l,user:u}=p;return ge(u,l,"internal-error"),Wf(u,new Os(p),p.bypassAuthState)})).apply(this,arguments)}class us{constructor(l,u,g,v,E=!1){this.auth=l,this.resolver=g,this.user=v,this.bypassAuthState=E,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(u)?u:[u]}execute(){var l=this;return new Promise(function(){var u=(0,C.A)(function*(g,v){l.pendingPromise={resolve:g,reject:v};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch(E){l.reject(E)}});return function(g,v){return u.apply(this,arguments)}}())}onAuthEvent(l){var u=this;return(0,C.A)(function*(){const{urlResponse:g,sessionId:v,postBody:E,tenantId:N,error:W,type:le}=l;if(W)return void u.reject(W);const Re={auth:u.auth,requestUri:g,sessionId:v,tenantId:N||void 0,postBody:E||void 0,user:u.user,bypassAuthState:u.bypassAuthState};try{u.resolve(yield u.getIdpTask(le)(Re))}catch(Ge){u.reject(Ge)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return Hi;case"linkViaPopup":case"linkViaRedirect":return Lb;case"reauthViaPopup":case"reauthViaRedirect":return Vb;default:Et(this.auth,"internal-error")}}resolve(l){Zt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){Zt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const oy=new Xi(2e3,1e4);function _d(){return(_d=(0,C.A)(function*(p,l,u){if((0,Be._isFirebaseServerApp)(p.app))return Promise.reject(zt(p,"operation-not-supported-in-this-environment"));const g=Qt(p);Bn(p,l,_r);const v=Ps(g,u);return new vd(g,"signInViaPopup",l,v).executeNotNull()})).apply(this,arguments)}function yd(){return(yd=(0,C.A)(function*(p,l,u){const g=(0,se.Ku)(p);if((0,Be._isFirebaseServerApp)(g.auth.app))return Promise.reject(zt(g.auth,"operation-not-supported-in-this-environment"));Bn(g.auth,l,_r);const v=Ps(g.auth,u);return new vd(g.auth,"reauthViaPopup",l,v,g).executeNotNull()})).apply(this,arguments)}function ot(){return(ot=(0,C.A)(function*(p,l,u){const g=(0,se.Ku)(p);Bn(g.auth,l,_r);const v=Ps(g.auth,u);return new vd(g.auth,"linkViaPopup",l,v,g).executeNotNull()})).apply(this,arguments)}let vd=(()=>{class p extends us{constructor(u,g,v,E,N){super(u,g,E,N),this.provider=v,this.authWindow=null,this.pollId=null,p.currentPopupAction&&p.currentPopupAction.cancel(),p.currentPopupAction=this}executeNotNull(){var u=this;return(0,C.A)(function*(){const g=yield u.execute();return ge(g,u.auth,"internal-error"),g})()}onExecution(){var u=this;return(0,C.A)(function*(){Zt(1===u.filter.length,"Popup operations only handle one event");const g=oc();u.authWindow=yield u.resolver._openPopup(u.auth,u.provider,u.filter[0],g),u.authWindow.associatedEvent=g,u.resolver._originValidation(u.auth).catch(v=>{u.reject(v)}),u.resolver._isIframeWebStorageSupported(u.auth,v=>{v||u.reject(zt(u.auth,"web-storage-unsupported"))}),u.pollUserCancellation()})()}get eventId(){var u;return(null===(u=this.authWindow)||void 0===u?void 0:u.associatedEvent)||null}cancel(){this.reject(zt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,p.currentPopupAction=null}pollUserCancellation(){const u=()=>{var g,v;this.pollId=null!==(v=null===(g=this.authWindow)||void 0===g?void 0:g.window)&&void 0!==v&&v.closed?window.setTimeout(()=>{this.pollId=null,this.reject(zt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(u,oy.get())};u()}}return p.currentPopupAction=null,p})();const NS="pendingRedirect",wl=new Map;class jb extends us{constructor(l,u,g=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],u,void 0,g),this.eventId=null}execute(){var l=()=>super.execute,u=this;return(0,C.A)(function*(){let g=wl.get(u.auth._key());if(!g){try{const E=(yield function $b(p,l){return bd.apply(this,arguments)}(u.resolver,u.auth))?yield l().call(u):null;g=()=>Promise.resolve(E)}catch(v){g=()=>Promise.reject(v)}wl.set(u.auth._key(),g)}return u.bypassAuthState||wl.set(u.auth._key(),()=>Promise.resolve(null)),g()})()}onAuthEvent(l){var u=()=>super.onAuthEvent,g=this;return(0,C.A)(function*(){if("signInViaRedirect"===l.type)return u().call(g,l);if("unknown"!==l.type){if(l.eventId){const v=yield g.auth._redirectUserForId(l.eventId);if(v)return g.user=v,u().call(g,l);g.resolve(null)}}else g.resolve(null)})()}onExecution(){return(0,C.A)(function*(){})()}cleanUp(){}}function bd(){return(bd=(0,C.A)(function*(p,l){const u=cy(l),g=ay(p);if(!(yield g._isAvailable()))return!1;const v="true"===(yield g._get(u));return yield g._remove(u),v})).apply(this,arguments)}function xs(p,l){return fp.apply(this,arguments)}function fp(){return(fp=(0,C.A)(function*(p,l){return ay(p)._set(cy(l),"true")})).apply(this,arguments)}function pp(p,l){wl.set(p._key(),l)}function ay(p){return Ve(p._redirectPersistence)}function cy(p){return et(NS,p.config.apiKey,p.name)}function me(p,l,u){return function Bt(p,l,u){return Ar.apply(this,arguments)}(p,l,u)}function Ar(){return(Ar=(0,C.A)(function*(p,l,u){if((0,Be._isFirebaseServerApp)(p.app))return Promise.reject(Je(p));const g=Qt(p);Bn(p,l,_r),yield g._initializationPromise;const v=Ps(g,u);return yield xs(v,g),v._openRedirect(g,l,"signInViaRedirect")})).apply(this,arguments)}function zr(p,l,u){return function Fr(p,l,u){return Id.apply(this,arguments)}(p,l,u)}function Id(){return(Id=(0,C.A)(function*(p,l,u){const g=(0,se.Ku)(p);if(Bn(g.auth,l,_r),(0,Be._isFirebaseServerApp)(g.auth.app))return Promise.reject(Je(g.auth));yield g.auth._initializationPromise;const v=Ps(g.auth,u);yield xs(v,g.auth);const E=yield Wr(g);return v._openRedirect(g.auth,l,"reauthViaRedirect",E)})).apply(this,arguments)}function Tl(p,l,u){return function Ho(p,l,u){return Cl.apply(this,arguments)}(p,l,u)}function Cl(){return(Cl=(0,C.A)(function*(p,l,u){const g=(0,se.Ku)(p);Bn(g.auth,l,_r),yield g.auth._initializationPromise;const v=Ps(g.auth,u);yield rd(!1,g,l.providerId),yield xs(v,g.auth);const E=yield Wr(g);return v._openRedirect(g.auth,l,"linkViaRedirect",E)})).apply(this,arguments)}function mp(){return(mp=(0,C.A)(function*(p,l){return yield Qt(p)._initializationPromise,_p(p,l,!1)})).apply(this,arguments)}function _p(p,l){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,C.A)(function*(p,l,u=!1){if((0,Be._isFirebaseServerApp)(p.app))return Promise.reject(Je(p));const g=Qt(p),v=Ps(g,l),N=yield new jb(g,v,u).execute();return N&&!u&&(delete N.user._redirectEventId,yield g._persistUserIfCurrent(N.user),yield g._setRedirectUser(null,l)),N})).apply(this,arguments)}function Wr(p){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,C.A)(function*(p){const l=oc(`${p.uid}:::`);return p._redirectEventId=l,yield p.auth._setRedirectUser(p),yield p.auth._persistUserIfCurrent(p),l})).apply(this,arguments)}class ha{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let u=!1;return this.consumers.forEach(g=>{this.isEventForConsumer(l,g)&&(u=!0,this.sendToConsumer(l,g),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function dy(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uy(p);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,u||(this.queuedRedirectEvent=l,u=!0)),u}sendToConsumer(l,u){var g;if(l.error&&!uy(l)){const v=(null===(g=l.error.code)||void 0===g?void 0:g.split("auth/")[1])||"internal-error";u.onError(zt(this.auth,v))}else u.onAuthEvent(l)}isEventForConsumer(l,u){const g=null===u.eventId||!!l.eventId&&l.eventId===u.eventId;return u.filter.includes(l.type)&&g}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Go(l))}saveEventToCache(l){this.cachedEventUids.add(Go(l)),this.lastProcessedEventTime=Date.now()}}function Go(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(l=>l).join("-")}function uy({type:p,error:l}){return"unknown"===p&&"auth/no-auth-event"===l?.code}function hy(p){return yp.apply(this,arguments)}function yp(){return(yp=(0,C.A)(function*(p,l={}){return te(p,"GET","/v1/projects",l)})).apply(this,arguments)}const vp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bp=/^https?/;function Dl(){return(Dl=(0,C.A)(function*(p){if(p.config.emulator)return;const{authorizedDomains:l}=yield hy(p);for(const u of l)try{if(Gb(u))return}catch{}Et(p,"unauthorized-domain")})).apply(this,arguments)}function Gb(p){const l=Hr(),{protocol:u,hostname:g}=new URL(l);if(p.startsWith("chrome-extension://")){const N=new URL(p);return""===N.hostname&&""===g?"chrome-extension:"===u&&p.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===u&&N.hostname===g}if(!bp.test(u))return!1;if(vp.test(p))return g===p;const v=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+v+"|"+v+")$","i").test(g)}const py=new Xi(3e4,6e4);function wd(){const p=rr().___jsl;if(p?.H)for(const l of Object.keys(p.H))if(p.H[l].r=p.H[l].r||[],p.H[l].L=p.H[l].L||[],p.H[l].r=[...p.H[l].L],p.CP)for(let u=0;u<p.CP.length;u++)p.CP[u]=null}let Al=null;const _y=new Xi(5e3,15e3),Ip="__/auth/iframe",zb="emulator/auth/iframe",Wb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fa(p){const l=p.config;ge(l.authDomain,p,"auth-domain-config-required");const u=l.emulator?yo(l,zb):`https://${p.config.authDomain}/${Ip}`,g={apiKey:l.apiKey,appName:p.name,v:Be.SDK_VERSION},v=oi.get(p.config.apiHost);v&&(g.eid=v);const E=p._getFrameworks();return E.length&&(g.fw=E.join(",")),`${u}?${(0,se.Am)(g).slice(1)}`}function qr(){return qr=(0,C.A)(function*(p){const l=yield function my(p){return Al=Al||function gy(p){return new Promise((l,u)=>{var g,v,E;function N(){wd(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{wd(),u(zt(p,"network-request-failed"))},timeout:py.get()})}if(null!==(v=null===(g=rr().gapi)||void 0===g?void 0:g.iframes)&&void 0!==v&&v.Iframe)l(gapi.iframes.getContext());else{if(null===(E=rr().gapi)||void 0===E||!E.load){const W=C_("iframefcb");return rr()[W]=()=>{gapi.load?N():u(zt(p,"network-request-failed"))},T_(`${function uS(){return ju.gapiScript}()}?onload=${W}`).catch(le=>u(le))}N()}}).catch(l=>{throw Al=null,l})}(p),Al}(p),u=rr().gapi;return ge(u,p,"internal-error"),l.open({where:document.body,url:fa(p),messageHandlersFilter:u.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wb,dontclear:!0},g=>new Promise(function(){var v=(0,C.A)(function*(E,N){yield g.restyle({setHideOnLeave:!1});const W=zt(p,"network-request-failed"),le=rr().setTimeout(()=>{N(W)},_y.get());function Re(){rr().clearTimeout(le),E(g)}g.ping(Re).then(Re,()=>{N(W)})});return function(E,N){return v.apply(this,arguments)}}()))}),qr.apply(this,arguments)}const qb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Sl{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Td="__/auth/handler",Cd="emulator/auth/handler",Dd=encodeURIComponent("fac");function Rl(p,l,u,g,v,E){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,C.A)(function*(p,l,u,g,v,E){ge(p.config.authDomain,p,"auth-domain-config-required"),ge(p.config.apiKey,p,"invalid-api-key");const N={apiKey:p.config.apiKey,appName:p.name,authType:u,redirectUrl:g,v:Be.SDK_VERSION,eventId:v};if(l instanceof _r){l.setDefaultLanguage(p.languageCode),N.providerId=l.providerId||"",(0,se.Im)(l.getCustomParameters())||(N.customParameters=JSON.stringify(l.getCustomParameters()));for(const[Ge,He]of Object.entries(E||{}))N[Ge]=He}if(l instanceof ni){const Ge=l.getScopes().filter(He=>""!==He);Ge.length>0&&(N.scopes=Ge.join(","))}p.tenantId&&(N.tid=p.tenantId);const W=N;for(const Ge of Object.keys(W))void 0===W[Ge]&&delete W[Ge];const le=yield p._getAppCheckToken(),Re=le?`#${Dd}=${encodeURIComponent(le)}`:"";return`${function by({config:p}){return p.emulator?yo(p,Cd):`https://${p.authDomain}/${Td}`}(p)}?${(0,se.Am)(W).slice(1)}${Re}`})).apply(this,arguments)}const Ep="webStorageSupport",cc=class ac{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=On,this._completeRedirectFn=_p,this._overrideRedirectResult=pp}_openPopup(l,u,g,v){var E=this;return(0,C.A)(function*(){var N;Zt(null===(N=E.eventManagers[l._key()])||void 0===N?void 0:N.manager,"_initialize() not called before _openPopup()");const W=yield Rl(l,u,g,Hr(),v);return function ks(p,l,u,g=500,v=600){const E=Math.max((window.screen.availHeight-v)/2,0).toString(),N=Math.max((window.screen.availWidth-g)/2,0).toString();let W="";const le=Object.assign(Object.assign({},qb),{width:g.toString(),height:v.toString(),top:E,left:N}),Re=(0,se.ZQ)().toLowerCase();u&&(W=_t(Re)?"_blank":u),Or(Re)&&(l=l||"http://localhost",le.scrollbars="yes");const Ge=Object.entries(le).reduce((Hn,[wo,Ea])=>`${Hn}${wo}=${Ea},`,"");if(function ne(p=(0,se.ZQ)()){var l;return as(p)&&!(null===(l=window.navigator)||void 0===l||!l.standalone)}(Re)&&"_self"!==W)return function Qb(p,l){const u=document.createElement("a");u.href=p,u.target=l;const g=document.createEvent("MouseEvent");g.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),u.dispatchEvent(g)}(l||"",W),new Sl(null);const He=window.open(l||"",W,Ge);ge(He,p,"popup-blocked");try{He.focus()}catch{}return new Sl(He)}(l,W,oc())})()}_openRedirect(l,u,g,v){var E=this;return(0,C.A)(function*(){return yield E._originValidation(l),function q_(p){rr().location.href=p}(yield Rl(l,u,g,Hr(),v)),new Promise(()=>{})})()}_initialize(l){const u=l._key();if(this.eventManagers[u]){const{manager:v,promise:E}=this.eventManagers[u];return v?Promise.resolve(v):(Zt(E,"If manager is not set, promise should be"),E)}const g=this.initAndGetManager(l);return this.eventManagers[u]={promise:g},g.catch(()=>{delete this.eventManagers[u]}),g}initAndGetManager(l){var u=this;return(0,C.A)(function*(){const g=yield function jn(p){return qr.apply(this,arguments)}(l),v=new ha(l);return g.register("authEvent",E=>(ge(E?.authEvent,l,"invalid-auth-event"),{status:v.onEvent(E.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),u.eventManagers[l._key()]={manager:v},u.iframes[l._key()]=g,v})()}_isIframeWebStorageSupported(l,u){this.iframes[l._key()].send(Ep,{type:Ep},v=>{var E;const N=null===(E=v?.[0])||void 0===E?void 0:E[Ep];void 0!==N&&u(!!N),Et(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const u=l._key();return this.originValidationPromises[u]||(this.originValidationPromises[u]=function fy(p){return Dl.apply(this,arguments)}(l)),this.originValidationPromises[u]}get _shouldInitProactively(){return X()||ss()||as()}};class Iy{constructor(l){this.factorId=l}_process(l,u,g){switch(u.type){case"enroll":return this._finalizeEnroll(l,u.credential,g);case"signin":return this._finalizeSignIn(l,u.credential);default:return yn("unexpected MultiFactorSessionType")}}}class Ey extends Iy{constructor(l){super("phone"),this.credential=l}static _fromCredential(l){return new Ey(l)}_finalizeEnroll(l,u,g){return function TS(p,l){return te(p,"POST","/v2/accounts/mfaEnrollment:finalize",z(p,l))}(l,{idToken:u,displayName:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(l,u){return function Ab(p,l){return te(p,"POST","/v2/accounts/mfaSignIn:finalize",z(p,l))}(l,{mfaPendingCredential:u,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let wp=(()=>{class p{constructor(){}static assertion(u){return Ey._fromCredential(u)}}return p.FACTOR_ID="phone",p})();var Yb="@firebase/auth";class Ml{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var u=this;return(0,C.A)(function*(){return u.assertAuthConfigured(),yield u.auth._initializationPromise,u.auth.currentUser?{accessToken:yield u.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const u=this.auth.onIdTokenChanged(g=>{l(g?.stsTokenManager.accessToken||null)});this.internalListeners.set(l,u),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const u=this.internalListeners.get(l);u&&(this.internalListeners.delete(l),u(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Kr(){return window}(0,se.XA)("authIdTokenMaxAge"),function cS(p){ju=p}({loadJS:p=>new Promise((l,u)=>{const g=document.createElement("script");g.setAttribute("src",p),g.onload=l,g.onerror=v=>{const E=zt("internal-error");E.customData=v,u(E)},g.type="text/javascript",g.charset="UTF-8",function eI(){var p,l;return null!==(l=null===(p=document.getElementsByTagName("head"))||void 0===p?void 0:p[0])&&void 0!==l?l:document}().appendChild(g)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Nl(p){(0,Be._registerComponent)(new In.uA("auth",(l,{options:u})=>{const g=l.getProvider("app").getImmediate(),v=l.getProvider("heartbeat"),E=l.getProvider("app-check-internal"),{apiKey:N,authDomain:W}=g.options;ge(N&&!N.includes(":"),"invalid-api-key",{appName:g.name});const le={apiKey:N,authDomain:W,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ke(p)},Re=new Li(g,v,E,le);return function mb(p,l){const u=l?.persistence||[],g=(Array.isArray(u)?u:[u]).map(Ve);l?.errorMap&&p._updateErrorMap(l.errorMap),p._initializeWithPersistence(g,l?.popupRedirectResolver)}(Re,u),Re},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,u,g)=>{l.getProvider("auth-internal").initialize()})),(0,Be._registerComponent)(new In.uA("auth-internal",l=>{const u=Qt(l.getProvider("auth").getImmediate());return new Ml(u)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Be.registerVersion)(Yb,"1.7.9",function Jb(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(p)),(0,Be.registerVersion)(Yb,"1.7.9","esm2017")}("Browser");function Pl(){return Pl=(0,C.A)(function*(p,l,u){var g;const{BuildInfo:v}=Kr();Zt(l.sessionId,"AuthEvent did not contain a session ID");const E=yield function Ay(p){return Pd.apply(this,arguments)}(l.sessionId),N={};return as()?N.ibi=v.packageName:Lo()?N.apn=v.packageName:Et(p,"operation-not-supported-in-this-environment"),v.displayName&&(N.appDisplayName=v.displayName),N.sessionId=E,Rl(p,u,l.type,void 0,null!==(g=l.eventId)&&void 0!==g?g:void 0,N)}),Pl.apply(this,arguments)}function lc(){return(lc=(0,C.A)(function*(p){const{BuildInfo:l}=Kr(),u={};as()?u.iosBundleId=l.packageName:Lo()?u.androidPackageName=l.packageName:Et(p,"operation-not-supported-in-this-environment"),yield hy(p,u)})).apply(this,arguments)}function Nd(){return(Nd=(0,C.A)(function*(p,l,u){const{cordova:g}=Kr();let v=()=>{};try{yield new Promise((E,N)=>{let W=null;function le(){var He;E();const Hn=null===(He=g.plugins.browsertab)||void 0===He?void 0:He.close;"function"==typeof Hn&&Hn(),"function"==typeof u?.close&&u.close()}function Re(){W||(W=window.setTimeout(()=>{N(zt(p,"redirect-cancelled-by-user"))},2e3))}function Ge(){"visible"===document?.visibilityState&&Re()}l.addPassiveListener(le),document.addEventListener("resume",Re,!1),Lo()&&document.addEventListener("visibilitychange",Ge,!1),v=()=>{l.removePassiveListener(le),document.removeEventListener("resume",Re,!1),document.removeEventListener("visibilitychange",Ge,!1),W&&window.clearTimeout(W)}})}finally{v()}})).apply(this,arguments)}function Pd(){return(Pd=(0,C.A)(function*(p){const l=function rI(p){if(Zt(/[0-9a-zA-Z]+/.test(p),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(p);const l=new ArrayBuffer(p.length),u=new Uint8Array(l);for(let g=0;g<p.length;g++)u[g]=p.charCodeAt(g);return u}(p),u=yield crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(u)).map(v=>v.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class pa extends ha{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(l=>{this.resolveInitialized=l})}addPassiveListener(l){this.passiveListeners.add(l)}removePassiveListener(l){this.passiveListeners.delete(l)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(l){return this.resolveInitialized(),this.passiveListeners.forEach(u=>u(l)),super.onEvent(l)}initialized(){var l=this;return(0,C.A)(function*(){yield l.initPromise})()}}function Sp(p){return ga.apply(this,arguments)}function ga(){return(ga=(0,C.A)(function*(p){const l=yield Rp()._get($n(p));return l&&(yield Rp()._remove($n(p))),l})).apply(this,arguments)}function si(){const p=[];for(let u=0;u<20;u++){const g=Math.floor(62*Math.random());p.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(g))}return p.join("")}function Rp(){return Ve(op)}function $n(p){return et("authEvent",p.config.apiKey,p.name)}function Ol(p){if(!p?.includes("?"))return{};const[l,...u]=p.split("?");return(0,se.I9)(u.join("?"))}const dc=class uc{constructor(){this._redirectPersistence=On,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=_p,this._overrideRedirectResult=pp}_initialize(l){var u=this;return(0,C.A)(function*(){const g=l._key();let v=u.eventManagers.get(g);return v||(v=new pa(l),u.eventManagers.set(g,v),u.attachCallbackListeners(l,v)),v})()}_openPopup(l){Et(l,"operation-not-supported-in-this-environment")}_openRedirect(l,u,g,v){var E=this;return(0,C.A)(function*(){!function Dy(p){var l,u,g,v,E,N,W,le,Re,Ge;const He=Kr();ge("function"==typeof(null===(l=He?.universalLinks)||void 0===l?void 0:l.subscribe),p,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ge(typeof(null===(u=He?.BuildInfo)||void 0===u?void 0:u.packageName)<"u",p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ge("function"==typeof(null===(E=null===(v=null===(g=He?.cordova)||void 0===g?void 0:g.plugins)||void 0===v?void 0:v.browsertab)||void 0===E?void 0:E.openUrl),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ge("function"==typeof(null===(le=null===(W=null===(N=He?.cordova)||void 0===N?void 0:N.plugins)||void 0===W?void 0:W.browsertab)||void 0===le?void 0:le.isAvailable),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ge("function"==typeof(null===(Ge=null===(Re=He?.cordova)||void 0===Re?void 0:Re.InAppBrowser)||void 0===Ge?void 0:Ge.open),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(l);const N=yield E._initialize(l);yield N.initialized(),N.resetRedirect(),function Hb(){wl.clear()}(),yield E._originValidation(l);const W=function iI(p,l,u=null){return{type:l,eventId:u,urlResponse:null,sessionId:si(),postBody:null,tenantId:p.tenantId,error:zt(p,"no-auth-event")}}(l,g,v);yield function Sy(p,l){return Rp()._set($n(p),l)}(l,W);const le=yield function Md(p,l,u){return Pl.apply(this,arguments)}(l,W,u),Re=yield function Ap(p){const{cordova:l}=Kr();return new Promise(u=>{l.plugins.browsertab.isAvailable(g=>{let v=null;g?l.plugins.browsertab.openUrl(p):v=l.InAppBrowser.open(p,function be(p=(0,se.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(p)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(p)}()?"_blank":"_system","location=yes"),u(v)})})}(le);return function nI(p,l,u){return Nd.apply(this,arguments)}(l,N,Re)})()}_isIframeWebStorageSupported(l,u){throw new Error("Method not implemented.")}_originValidation(l){const u=l._key();return this.originValidationPromises[u]||(this.originValidationPromises[u]=function Cy(p){return lc.apply(this,arguments)}(l)),this.originValidationPromises[u]}attachCallbackListeners(l,u){const{universalLinks:g,handleOpenURL:v,BuildInfo:E}=Kr(),N=setTimeout((0,C.A)(function*(){yield Sp(l),u.onEvent(_a())}),500),W=function(){var Ge=(0,C.A)(function*(He){clearTimeout(N);const Hn=yield Sp(l);let wo=null;Hn&&He?.url&&(wo=function oI(p,l){var u,g;const v=function sI(p){const l=Ol(p),u=l.link?decodeURIComponent(l.link):void 0,g=Ol(u).link,v=l.deep_link_id?decodeURIComponent(l.deep_link_id):void 0;return Ol(v).link||v||g||u||p}(l);if(v.includes("/__/auth/callback")){const E=Ol(v),N=E.firebaseError?function Mp(p){try{return JSON.parse(p)}catch{return null}}(decodeURIComponent(E.firebaseError)):null,W=null===(g=null===(u=N?.code)||void 0===u?void 0:u.split("auth/"))||void 0===g?void 0:g[1],le=W?zt(W):null;return le?{type:p.type,eventId:p.eventId,tenantId:p.tenantId,error:le,urlResponse:null,sessionId:null,postBody:null}:{type:p.type,eventId:p.eventId,tenantId:p.tenantId,sessionId:p.sessionId,urlResponse:v,postBody:null}}return null}(Hn,He.url)),u.onEvent(wo||_a())});return function(Hn){return Ge.apply(this,arguments)}}();typeof g<"u"&&"function"==typeof g.subscribe&&g.subscribe(null,W);const le=v,Re=`${E.packageName.toLowerCase()}://`;Kr().handleOpenURL=function(){var Ge=(0,C.A)(function*(He){if(He.toLowerCase().startsWith(Re)&&W({url:He}),"function"==typeof le)try{le(He)}catch(Hn){console.error(Hn)}});return function(He){return Ge.apply(this,arguments)}}()}};function _a(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:zt("no-auth-event")}}function xl(){var p;return(null===(p=self?.location)||void 0===p?void 0:p.protocol)||null}function aI(p=(0,se.ZQ)()){return!("file:"!==xl()&&"ionic:"!==xl()&&"capacitor:"!==xl()||!p.toLowerCase().match(/iphone|ipad|ipod|android/))}function ya(){try{const p=self.localStorage,l=oc();if(p)return p.setItem(l,"1"),p.removeItem(l),!function VS(p=(0,se.ZQ)()){return function kS(){return(0,se.lT)()&&11===document?.documentMode}()||function FS(p=(0,se.ZQ)()){return/Edge\/\d+/.test(p)}(p)}()||(0,se.zW)()}catch{return Pp()&&(0,se.zW)()}return!1}function Pp(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Op(){return(function OS(){return"http:"===xl()||"https:"===xl()}()||(0,se.sr)()||aI())&&!function xS(){return(0,se.lV)()||(0,se.Ll)()}()&&ya()&&!Pp()}function lr(){return aI()&&typeof document<"u"}function va(){return(va=(0,C.A)(function*(){return!!lr()&&new Promise(p=>{const l=setTimeout(()=>{p(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(l),p(!0)})})})).apply(this,arguments)}const xn={LOCAL:"local",NONE:"none",SESSION:"session"},zo=ge,xp="persistence";function ba(p){return kp.apply(this,arguments)}function kp(){return(kp=(0,C.A)(function*(p){yield p._initializationPromise;const l=My(),u=et(xp,p.config.apiKey,p.name);l&&l.setItem(u,p._getPersistence())})).apply(this,arguments)}function My(){var p;try{return(null===(p=function lI(){return typeof window<"u"?window:null}())||void 0===p?void 0:p.sessionStorage)||null}catch{return null}}const BS=ge;class ur{constructor(){this.browserResolver=Ve(cc),this.cordovaResolver=Ve(dc),this.underlyingResolver=null,this._redirectPersistence=On,this._completeRedirectFn=_p,this._overrideRedirectResult=pp}_initialize(l){var u=this;return(0,C.A)(function*(){return yield u.selectUnderlyingResolver(),u.assertedUnderlyingResolver._initialize(l)})()}_openPopup(l,u,g,v){var E=this;return(0,C.A)(function*(){return yield E.selectUnderlyingResolver(),E.assertedUnderlyingResolver._openPopup(l,u,g,v)})()}_openRedirect(l,u,g,v){var E=this;return(0,C.A)(function*(){return yield E.selectUnderlyingResolver(),E.assertedUnderlyingResolver._openRedirect(l,u,g,v)})()}_isIframeWebStorageSupported(l,u){this.assertedUnderlyingResolver._isIframeWebStorageSupported(l,u)}_originValidation(l){return this.assertedUnderlyingResolver._originValidation(l)}get _shouldInitProactively(){return lr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return BS(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var l=this;return(0,C.A)(function*(){if(l.underlyingResolver)return;const u=yield function cI(){return va.apply(this,arguments)}();l.underlyingResolver=u?l.cordovaResolver:l.browserResolver})()}}function kd(p){return p.unwrap()}function US(p){return Py(p)}function Py(p){const{_tokenResponse:l}=p instanceof se.g?p.customData:p;if(!l)return null;if(!(p instanceof se.g)&&"temporaryProof"in l&&"phoneNumber"in l)return El.credentialFromResult(p);const u=l.providerId;if(!u||u===bt.PASSWORD)return null;let g;switch(u){case bt.GOOGLE:g=Yu;break;case bt.FACEBOOK:g=ll;break;case bt.GITHUB:g=Ju;break;case bt.TWITTER:g=Gf;break;default:const{oauthIdToken:v,oauthAccessToken:E,oauthTokenSecret:N,pendingToken:W,nonce:le}=l;return E||N||v||W?W?u.startsWith("saml.")?Ti._create(u,W):vo._fromParams({providerId:u,signInMethod:u,pendingToken:W,idToken:v,accessToken:E}):new Rt(u).credential({idToken:v,accessToken:E,rawNonce:le}):null}return p instanceof se.g?g.credentialFromError(p):g.credentialFromResult(p)}function Di(p,l){return l.catch(u=>{throw u instanceof se.g&&function Ny(p,l){var u;const g=null===(u=l.customData)||void 0===u?void 0:u._tokenResponse;if("auth/multi-factor-auth-required"===l?.code)l.resolver=new uI(p,function ES(p,l){var u;const g=(0,se.Ku)(p),v=l;return ge(l.customData.operationType,g,"argument-error"),ge(null===(u=v.customData._serverResponse)||void 0===u?void 0:u.mfaPendingCredential,g,"argument-error"),H_._fromError(g,v)}(p,l));else if(g){const v=Py(l),E=l;v&&(E.credential=v,E.tenantId=g.tenantId||void 0,E.email=g.email||void 0,E.phoneNumber=g.phoneNumber||void 0)}}(p,u),u}).then(u=>{const v=u.user;return{operationType:u.operationType,credential:US(u),additionalUserInfo:ii(u),user:ds.getOrCreate(v)}})}function Fp(p,l){return Vp.apply(this,arguments)}function Vp(){return(Vp=(0,C.A)(function*(p,l){const u=yield l;return{verificationId:u.verificationId,confirm:g=>Di(p,u.confirm(g))}})).apply(this,arguments)}class uI{constructor(l,u){this.resolver=u,this.auth=function fc(p){return p.wrapped()}(l)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(l){return Di(kd(this.auth),this.resolver.resolveSignIn(l))}}class ds{constructor(l){this._delegate=l,this.multiFactor=function z_(p){const l=(0,se.Ku)(p);return ud.has(l)||ud.set(l,G_._fromUser(l)),ud.get(l)}(l)}static getOrCreate(l){return ds.USER_MAP.has(l)||ds.USER_MAP.set(l,new ds(l)),ds.USER_MAP.get(l)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(l){return this._delegate.getIdTokenResult(l)}getIdToken(l){return this._delegate.getIdToken(l)}linkAndRetrieveDataWithCredential(l){return this.linkWithCredential(l)}linkWithCredential(l){var u=this;return(0,C.A)(function*(){return Di(u.auth,Kn(u._delegate,l))})()}linkWithPhoneNumber(l,u){var g=this;return(0,C.A)(function*(){return Fp(g.auth,function Fb(p,l,u){return io.apply(this,arguments)}(g._delegate,l,u))})()}linkWithPopup(l){var u=this;return(0,C.A)(function*(){return Di(u.auth,function Ub(p,l,u){return ot.apply(this,arguments)}(u._delegate,l,ur))})()}linkWithRedirect(l){var u=this;return(0,C.A)(function*(){return yield ba(Qt(u.auth)),Tl(u._delegate,l,ur)})()}reauthenticateAndRetrieveDataWithCredential(l){return this.reauthenticateWithCredential(l)}reauthenticateWithCredential(l){var u=this;return(0,C.A)(function*(){return Di(u.auth,V_(u._delegate,l))})()}reauthenticateWithPhoneNumber(l,u){return Fp(this.auth,function iy(p,l,u){return gd.apply(this,arguments)}(this._delegate,l,u))}reauthenticateWithPopup(l){return Di(this.auth,function sy(p,l,u){return yd.apply(this,arguments)}(this._delegate,l,ur))}reauthenticateWithRedirect(l){var u=this;return(0,C.A)(function*(){return yield ba(Qt(u.auth)),zr(u._delegate,l,ur)})()}sendEmailVerification(l){return function nc(p,l){return no.apply(this,arguments)}(this._delegate,l)}unlink(l){var u=this;return(0,C.A)(function*(){return yield function bb(p,l){return Ui.apply(this,arguments)}(u._delegate,l),u})()}updateEmail(l){return function Mt(p,l){const u=(0,se.Ku)(p);return(0,Be._isFirebaseServerApp)(u.auth.app)?Promise.reject(Je(u.auth)):cd(u,l,null)}(this._delegate,l)}updatePassword(l){return function _S(p,l){return cd((0,se.Ku)(p),null,l)}(this._delegate,l)}updatePhoneNumber(l){return function md(p,l){return Gr.apply(this,arguments)}(this._delegate,l)}updateProfile(l){return function pl(p,l){return aa.apply(this,arguments)}(this._delegate,l)}verifyBeforeUpdateEmail(l,u){return function fl(p,l,u){return ad.apply(this,arguments)}(this._delegate,l,u)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ds.USER_MAP=new WeakMap;const Ia=ge;let kl=(()=>{class p{constructor(u,g){if(this.app=u,g.isInitialized())return this._delegate=g.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:v}=u.options;Ia(v,"invalid-api-key",{appName:u.name}),Ia(v,"invalid-api-key",{appName:u.name});const E=typeof window<"u"?ur:void 0;this._delegate=g.initialize({options:{persistence:Fl(v,u.name),popupRedirectResolver:E}}),this._delegate._updateErrorMap(Ln),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ds.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(u){this._delegate.languageCode=u}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(u){this._delegate.tenantId=u}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(u,g){!function xf(p,l,u){const g=Qt(p);ge(g._canInitEmulator,g,"emulator-config-failed"),ge(/^https?:\/\//.test(l),g,"invalid-emulator-scheme");const v=!!u?.disableWarnings,E=A_(l),{host:N,port:W}=function Gu(p){const l=A_(p),u=/(\/\/)?([^?#/]+)/.exec(p.substr(l.length));if(!u)return{host:"",port:null};const g=u[2].split("@").pop()||"",v=/^(\[[^\]]+\])(:|$)/.exec(g);if(v){const E=v[1];return{host:E,port:rl(g.substr(E.length+1))}}{const[E,N]=g.split(":");return{host:E,port:rl(N)}}}(l);g.config.emulator={url:`${E}//${N}${null===W?"":`:${W}`}/`},g.settings.appVerificationDisabledForTesting=!0,g.emulatorConfig=Object.freeze({host:N,port:W,protocol:E.replace(":",""),options:Object.freeze({disableWarnings:v})}),v||function kf(){function p(){const l=document.createElement("p"),u=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",u.position="fixed",u.width="100%",u.backgroundColor="#ffffff",u.border=".1em solid #000000",u.color="#b50000",u.bottom="0px",u.left="0px",u.margin="0px",u.zIndex="10000",u.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}()}(this._delegate,u,g)}applyActionCode(u){return function Ib(p,l){return Nn.apply(this,arguments)}(this._delegate,u)}checkActionCode(u){return Le(this._delegate,u)}confirmPasswordReset(u,g){return function sd(p,l,u){return tp.apply(this,arguments)}(this._delegate,u,g)}createUserWithEmailAndPassword(u,g){var v=this;return(0,C.A)(function*(){return Di(v._delegate,function hl(p,l,u){return Dr.apply(this,arguments)}(v._delegate,u,g))})()}fetchProvidersForEmail(u){return this.fetchSignInMethodsForEmail(u)}fetchSignInMethodsForEmail(u){return function nr(p,l){return sa.apply(this,arguments)}(this._delegate,u)}isSignInWithEmailLink(u){return function tc(p,l){const u=cl.parseLink(l);return"EMAIL_SIGNIN"===u?.operation}(0,u)}getRedirectResult(){var u=this;return(0,C.A)(function*(){Ia(Op(),u._delegate,"operation-not-supported-in-this-environment");const g=yield function gp(p,l){return mp.apply(this,arguments)}(u._delegate,ur);return g?Di(u._delegate,Promise.resolve(g)):{credential:null,user:null}})()}addFrameworkForLogging(u){!function Ry(p,l){Qt(p)._logFramework(l)}(this._delegate,u)}onAuthStateChanged(u,g,v){const{next:E,error:N,complete:W}=Oy(u,g,v);return this._delegate.onAuthStateChanged(E,N,W)}onIdTokenChanged(u,g,v){const{next:E,error:N,complete:W}=Oy(u,g,v);return this._delegate.onIdTokenChanged(E,N,W)}sendSignInLinkToEmail(u,g){return function tr(p,l,u){return Uo.apply(this,arguments)}(this._delegate,u,g)}sendPasswordResetEmail(u,g){return function B_(p,l,u){return od.apply(this,arguments)}(this._delegate,u,g||void 0)}setPersistence(u){var g=this;return(0,C.A)(function*(){let v;switch(function xd(p,l){zo(Object.values(xn).includes(l),p,"invalid-persistence-type"),(0,se.lV)()?zo(l!==xn.SESSION,p,"unsupported-persistence-type"):(0,se.Ll)()?zo(l===xn.NONE,p,"unsupported-persistence-type"):Pp()?zo(l===xn.NONE||l===xn.LOCAL&&(0,se.zW)(),p,"unsupported-persistence-type"):zo(l===xn.NONE||ya(),p,"unsupported-persistence-type")}(g._delegate,u),u){case xn.SESSION:v=On;break;case xn.LOCAL:v=(yield Ve(vl)._isAvailable())?vl:op;break;case xn.NONE:v=cr;break;default:return Et("argument-error",{appName:g._delegate.name})}return g._delegate.setPersistence(v)})()}signInAndRetrieveDataWithCredential(u){return this.signInWithCredential(u)}signInAnonymously(){return Di(this._delegate,function x_(p){return ed.apply(this,arguments)}(this._delegate))}signInWithCredential(u){return Di(this._delegate,id(this._delegate,u))}signInWithCustomToken(u){return Di(this._delegate,function L_(p,l){return Se.apply(this,arguments)}(this._delegate,u))}signInWithEmailAndPassword(u,g){return Di(this._delegate,function ec(p,l,u){return(0,Be._isFirebaseServerApp)(p.app)?Promise.reject(Je(p)):id((0,se.Ku)(p),Za.credential(l,u)).catch(function(){var g=(0,C.A)(function*(v){throw"auth/password-does-not-meet-requirements"===v.code&&Rs(p),v});return function(v){return g.apply(this,arguments)}}())}(this._delegate,u,g))}signInWithEmailLink(u,g){return Di(this._delegate,function dt(p,l,u){return oa.apply(this,arguments)}(this._delegate,u,g))}signInWithPhoneNumber(u,g){return Fp(this._delegate,function kb(p,l,u){return bl.apply(this,arguments)}(this._delegate,u,g))}signInWithPopup(u){var g=this;return(0,C.A)(function*(){return Ia(Op(),g._delegate,"operation-not-supported-in-this-environment"),Di(g._delegate,function Bb(p,l,u){return _d.apply(this,arguments)}(g._delegate,u,ur))})()}signInWithRedirect(u){var g=this;return(0,C.A)(function*(){return Ia(Op(),g._delegate,"operation-not-supported-in-this-environment"),yield ba(g._delegate),me(g._delegate,u,ur)})()}updateCurrentUser(u){return this._delegate.updateCurrentUser(u)}verifyPasswordResetCode(u){return function Pn(p,l){return ji.apply(this,arguments)}(this._delegate,u)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return p.Persistence=xn,p})();function Oy(p,l,u){let g=p;"function"!=typeof p&&({next:g,error:l,complete:u}=p);const v=g;return{next:N=>v(N&&ds.getOrCreate(N)),error:l,complete:u}}function Fl(p,l){const u=function LS(p,l){const u=My();if(!u)return[];const g=et(xp,p,l);switch(u.getItem(g)){case xn.NONE:return[cr];case xn.LOCAL:return[vl,On];case xn.SESSION:return[On];default:return[]}}(p,l);if(typeof self<"u"&&!u.includes(vl)&&u.push(vl),typeof window<"u")for(const g of[op,On])u.includes(g)||u.push(g);return u.includes(cr)||u.push(cr),u}class Lp{constructor(){this.providerId="phone",this._delegate=new El(kd(Ye.A.auth()))}static credential(l,u){return El.credential(l,u)}verifyPhoneNumber(l,u){return this._delegate.verifyPhoneNumber(l,u)}unwrap(){return this._delegate}}Lp.PHONE_SIGN_IN_METHOD=El.PHONE_SIGN_IN_METHOD,Lp.PROVIDER_ID=El.PROVIDER_ID;const Fd=ge;class dI{constructor(l,u,g=Ye.A.app()){var v;Fd(null===(v=g.options)||void 0===v?void 0:v.apiKey,"invalid-api-key",{appName:g.name}),this._delegate=new xb(g.auth(),l,u),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Bp(p){p.INTERNAL.registerComponent(new In.uA("auth-compat",l=>{const u=l.getProvider("app-compat").getImmediate(),g=l.getProvider("auth");return new kl(u,g)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Za,FacebookAuthProvider:ll,GithubAuthProvider:Ju,GoogleAuthProvider:Yu,OAuthProvider:Rt,SAMLAuthProvider:dl,PhoneAuthProvider:Lp,PhoneMultiFactorGenerator:wp,RecaptchaVerifier:dI,TwitterAuthProvider:Gf,Auth:kl,AuthCredential:ia,Error:se.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),p.registerVersion("@firebase/auth-compat","0.5.14")}(Ye.A)},467:(ki,gr,ct)=>{function C(Be,se,St,An,In,mr,bt){try{var fe=Be[mr](bt),Te=fe.value}catch($e){return void St($e)}fe.done?se(Te):Promise.resolve(Te).then(An,In)}function Ye(Be){return function(){var se=this,St=arguments;return new Promise(function(An,In){var mr=Be.apply(se,St);function bt(Te){C(mr,An,In,bt,fe,"next",Te)}function fe(Te){C(mr,An,In,bt,fe,"throw",Te)}bt(void 0)})}}ct.d(gr,{A:()=>Ye})},635:(ki,gr,ct)=>{function se(G,oe){var ce={};for(var z in G)Object.prototype.hasOwnProperty.call(G,z)&&oe.indexOf(z)<0&&(ce[z]=G[z]);if(null!=G&&"function"==typeof Object.getOwnPropertySymbols){var te=0;for(z=Object.getOwnPropertySymbols(G);te<z.length;te++)oe.indexOf(z[te])<0&&Object.prototype.propertyIsEnumerable.call(G,z[te])&&(ce[z[te]]=G[z[te]])}return ce}function $e(G,oe,ce,z){return new(ce||(ce=Promise))(function(Ee,ye){function vt(Pt){try{rt(z.next(Pt))}catch(Sn){ye(Sn)}}function $t(Pt){try{rt(z.throw(Pt))}catch(Sn){ye(Sn)}}function rt(Pt){Pt.done?Ee(Pt.value):function te(Ee){return Ee instanceof ce?Ee:new ce(function(ye){ye(Ee)})}(Pt.value).then(vt,$t)}rt((z=z.apply(G,oe||[])).next())})}function sn(G){return this instanceof sn?(this.v=G,this):new sn(G)}function Et(G,oe,ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,z=ce.apply(G,oe||[]),Ee=[];return te=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),vt("next"),vt("throw"),vt("return",function ye(B){return function(U){return Promise.resolve(U).then(B,Sn)}}),te[Symbol.asyncIterator]=function(){return this},te;function vt(B,U){z[B]&&(te[B]=function(ee){return new Promise(function(de,Ce){Ee.push([B,ee,de,Ce])>1||$t(B,ee)})},U&&(te[B]=U(te[B])))}function $t(B,U){try{!function rt(B){B.value instanceof sn?Promise.resolve(B.value.v).then(Pt,Sn):bi(Ee[0][2],B)}(z[B](U))}catch(ee){bi(Ee[0][3],ee)}}function Pt(B){$t("next",B)}function Sn(B){$t("throw",B)}function bi(B,U){B(U),Ee.shift(),Ee.length&&$t(Ee[0][0],Ee[0][1])}}function Mr(G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,oe=G[Symbol.asyncIterator];return oe?oe.call(G):(G=function Lt(G){var oe="function"==typeof Symbol&&Symbol.iterator,ce=oe&&G[oe],z=0;if(ce)return ce.call(G);if(G&&"number"==typeof G.length)return{next:function(){return G&&z>=G.length&&(G=void 0),{value:G&&G[z++],done:!G}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(G),ce={},z("next"),z("throw"),z("return"),ce[Symbol.asyncIterator]=function(){return this},ce);function z(Ee){ce[Ee]=G[Ee]&&function(ye){return new Promise(function(vt,$t){!function te(Ee,ye,vt,$t){Promise.resolve($t).then(function(rt){Ee({value:rt,done:vt})},ye)}(vt,$t,(ye=G[Ee](ye)).done,ye.value)})}}}ct.d(gr,{AQ:()=>Et,N3:()=>sn,Tt:()=>se,sH:()=>$e,xN:()=>Mr}),"function"==typeof SuppressedError&&SuppressedError}},ki=>{var gr=C=>ki(ki.s=C);gr(73),gr(727)}]);