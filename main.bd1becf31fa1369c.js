"use strict";(self.webpackChunkaibit=self.webpackChunkaibit||[]).push([[792],{76:(Fi,gr,ct)=>{ct.d(gr,{Am:()=>Mn,Bd:()=>ge,FA:()=>we,Fy:()=>Mr,I9:()=>Pr,Im:()=>Ce,Ku:()=>os,Ll:()=>Kt,T9:()=>sn,Uj:()=>bt,XA:()=>wt,ZQ:()=>Ze,bD:()=>wn,c1:()=>Zt,cY:()=>zt,eX:()=>oe,g:()=>te,gR:()=>ee,hp:()=>Vi,jZ:()=>Un,lT:()=>Lo,lV:()=>bi,mS:()=>Ft,nr:()=>yo,p7:()=>yn,sr:()=>Gr,tD:()=>Pn,u:()=>fe,zW:()=>G,zw:()=>He});const se=function(R){const M=[];let V=0;for(let q=0;q<R.length;q++){let Z=R.charCodeAt(q);Z<128?M[V++]=Z:Z<2048?(M[V++]=Z>>6|192,M[V++]=63&Z|128):55296==(64512&Z)&&q+1<R.length&&56320==(64512&R.charCodeAt(q+1))?(Z=65536+((1023&Z)<<10)+(1023&R.charCodeAt(++q)),M[V++]=Z>>18|240,M[V++]=Z>>12&63|128,M[V++]=Z>>6&63|128,M[V++]=63&Z|128):(M[V++]=Z>>12|224,M[V++]=Z>>6&63|128,M[V++]=63&Z|128)}return M},Sn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(R,M){if(!Array.isArray(R))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=M?this.byteToCharMapWebSafe_:this.byteToCharMap_,q=[];for(let Z=0;Z<R.length;Z+=3){const je=R[Z],Ve=Z+1<R.length,fn=Ve?R[Z+1]:0,cr=Z+2<R.length,et=cr?R[Z+2]:0;let Or=(15&fn)<<2|et>>6,ss=63&et;cr||(ss=64,Ve||(Or=64)),q.push(V[je>>2],V[(3&je)<<4|fn>>4],V[Or],V[ss])}return q.join("")},encodeString(R,M){return this.HAS_NATIVE_SUPPORT&&!M?btoa(R):this.encodeByteArray(se(R),M)},decodeString(R,M){return this.HAS_NATIVE_SUPPORT&&!M?atob(R):function(R){const M=[];let V=0,q=0;for(;V<R.length;){const Z=R[V++];if(Z<128)M[q++]=String.fromCharCode(Z);else if(Z>191&&Z<224){const je=R[V++];M[q++]=String.fromCharCode((31&Z)<<6|63&je)}else if(Z>239&&Z<365){const cr=((7&Z)<<18|(63&R[V++])<<12|(63&R[V++])<<6|63&R[V++])-65536;M[q++]=String.fromCharCode(55296+(cr>>10)),M[q++]=String.fromCharCode(56320+(1023&cr))}else{const je=R[V++],Ve=R[V++];M[q++]=String.fromCharCode((15&Z)<<12|(63&je)<<6|63&Ve)}}return M.join("")}(this.decodeStringToByteArray(R,M))},decodeStringToByteArray(R,M){this.init_();const V=M?this.charToByteMapWebSafe_:this.charToByteMap_,q=[];for(let Z=0;Z<R.length;){const je=V[R.charAt(Z++)],fn=Z<R.length?V[R.charAt(Z)]:0;++Z;const et=Z<R.length?V[R.charAt(Z)]:64;++Z;const tt=Z<R.length?V[R.charAt(Z)]:64;if(++Z,null==je||null==fn||null==et||null==tt)throw new In;q.push(je<<2|fn>>4),64!==et&&(q.push(fn<<4&240|et>>2),64!==tt&&q.push(et<<6&192|tt))}return q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let R=0;R<this.ENCODED_VALS.length;R++)this.byteToCharMap_[R]=this.ENCODED_VALS.charAt(R),this.charToByteMap_[this.byteToCharMap_[R]]=R,this.byteToCharMapWebSafe_[R]=this.ENCODED_VALS_WEBSAFE.charAt(R),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[R]]=R,R>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(R)]=R,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(R)]=R)}}};class In extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bt=function(R){return function(R){const M=se(R);return Sn.encodeByteArray(M,!0)}(R).replace(/\./g,"")},fe=function(R){try{return Sn.decodeString(R,!0)}catch(M){console.error("base64Decode failed: ",M)}return null};function He(R,M){if(!(M instanceof Object))return M;switch(M.constructor){case Date:return new Date(M.getTime());case Object:void 0===R&&(R={});break;case Array:R=[];break;default:return M}for(const V in M)!M.hasOwnProperty(V)||!It(V)||(R[V]=He(R[V],M[V]));return R}function It(R){return"__proto__"!==R}function Ft(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const gt=()=>{try{return Ft().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const R=process.env.__FIREBASE_DEFAULTS__;return R?JSON.parse(R):void 0})()||(()=>{if(typeof document>"u")return;let R;try{R=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const M=R&&fe(R[1]);return M&&JSON.parse(M)})()}catch(R){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${R}`)}},sn=()=>{var R;return null===(R=gt())||void 0===R?void 0:R.config},wt=R=>{var M;return null===(M=gt())||void 0===M?void 0:M[`_${R}`]};class zt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((M,V)=>{this.resolve=M,this.reject=V})}wrapCallback(M){return(V,q)=>{V?this.reject(V):this.resolve(q),"function"==typeof M&&(this.promise.catch(()=>{}),1===M.length?M(V):M(V,q))}}}function Mr(R,M){if(R.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const q=M||"demo-project",Z=R.iat||0,je=R.sub||R.user_id;if(!je)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ve=Object.assign({iss:`https://securetoken.google.com/${q}`,aud:q,iat:Z,exp:Z+3600,auth_time:Z,sub:je,user_id:je,firebase:{sign_in_provider:"custom",identities:{}}},R);return[bt(JSON.stringify({alg:"none",type:"JWT"})),bt(JSON.stringify(Ve)),""].join(".")}function Ze(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Un(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function Kt(){var R;const M=null===(R=gt())||void 0===R?void 0:R.forceEnvironment;if("node"===M)return!0;if("browser"===M)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ge(){return typeof window<"u"||yn()}function yn(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Zt(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Gr(){const R="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof R&&void 0!==R.id}function bi(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Lo(){const R=Ze();return R.indexOf("MSIE ")>=0||R.indexOf("Trident/")>=0}function yo(){return!Kt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G(){try{return"object"==typeof indexedDB}catch{return!1}}function oe(){return new Promise((R,M)=>{try{let V=!0;const q="validate-browser-context-for-indexeddb-analytics-module",Z=self.indexedDB.open(q);Z.onsuccess=()=>{Z.result.close(),V||self.indexedDB.deleteDatabase(q),R(!0)},Z.onupgradeneeded=()=>{V=!1},Z.onerror=()=>{var je;M((null===(je=Z.error)||void 0===je?void 0:je.message)||"")}}catch(V){M(V)}})}class te extends Error{constructor(M,V,q){super(V),this.code=M,this.customData=q,this.name="FirebaseError",Object.setPrototypeOf(this,te.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,we.prototype.create)}}class we{constructor(M,V,q){this.service=M,this.serviceName=V,this.errors=q}create(M,...V){const q=V[0]||{},Z=`${this.service}/${M}`,je=this.errors[M],Ve=je?function ye(R,M){return R.replace(vt,(V,q)=>{const Z=M[q];return null!=Z?String(Z):`<${q}?>`})}(je,q):"Error";return new te(Z,`${this.serviceName}: ${Ve} (${Z}).`,q)}}const vt=/\{\$([^}]+)}/g;function ee(R,M){return Object.prototype.hasOwnProperty.call(R,M)}function Ce(R){for(const M in R)if(Object.prototype.hasOwnProperty.call(R,M))return!1;return!0}function wn(R,M){if(R===M)return!0;const V=Object.keys(R),q=Object.keys(M);for(const Z of V){if(!q.includes(Z))return!1;const je=R[Z],Ve=M[Z];if(Vt(je)&&Vt(Ve)){if(!wn(je,Ve))return!1}else if(je!==Ve)return!1}for(const Z of q)if(!V.includes(Z))return!1;return!0}function Vt(R){return null!==R&&"object"==typeof R}function Mn(R){const M=[];for(const[V,q]of Object.entries(R))Array.isArray(q)?q.forEach(Z=>{M.push(encodeURIComponent(V)+"="+encodeURIComponent(Z))}):M.push(encodeURIComponent(V)+"="+encodeURIComponent(q));return M.length?"&"+M.join("&"):""}function Pr(R){const M={};return R.replace(/^\?/,"").split("&").forEach(q=>{if(q){const[Z,je]=q.split("=");M[decodeURIComponent(Z)]=decodeURIComponent(je)}}),M}function Vi(R){const M=R.indexOf("?");if(!M)return"";const V=R.indexOf("#",M);return R.substring(M,V>0?V:void 0)}function Pn(R,M){const V=new vn(R,M);return V.subscribe.bind(V)}class vn{constructor(M,V){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=V,this.task.then(()=>{M(this)}).catch(q=>{this.error(q)})}next(M){this.forEachObserver(V=>{V.next(M)})}error(M){this.forEachObserver(V=>{V.error(M)}),this.close(M)}complete(){this.forEachObserver(M=>{M.complete()}),this.close()}subscribe(M,V,q){let Z;if(void 0===M&&void 0===V&&void 0===q)throw new Error("Missing Observer.");Z=function Xt(R,M){if("object"!=typeof R||null===R)return!1;for(const V of M)if(V in R&&"function"==typeof R[V])return!0;return!1}(M,["next","error","complete"])?M:{next:M,error:V,complete:q},void 0===Z.next&&(Z.next=en),void 0===Z.error&&(Z.error=en),void 0===Z.complete&&(Z.complete=en);const je=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Z.error(this.finalError):Z.complete()}catch{}}),this.observers.push(Z),je}unsubscribeOne(M){void 0===this.observers||void 0===this.observers[M]||(delete this.observers[M],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(M){if(!this.finalized)for(let V=0;V<this.observers.length;V++)this.sendOne(V,M)}sendOne(M,V){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[M])try{V(this.observers[M])}catch(q){typeof console<"u"&&console.error&&console.error(q)}})}close(M){this.finalized||(this.finalized=!0,void 0!==M&&(this.finalError=M),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function en(){}function os(R){return R&&R._delegate?R._delegate:R}},8:(Fi,gr,ct)=>{function C(n){return"function"==typeof n}function Je(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Ue=Je(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function se(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class St{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(C(r))try{r()}catch(o){e=o instanceof Ue?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{mr(o)}catch(s){e=e??[],s instanceof Ue?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ue(e)}}add(e){var t;if(e&&e!==this)if(this.closed)mr(e);else{if(e instanceof St){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&se(t,e)}remove(e){const{_finalizers:t}=this;t&&se(t,e),e instanceof St&&e._removeParent(this)}}St.EMPTY=(()=>{const n=new St;return n.closed=!0,n})();const Sn=St.EMPTY;function In(n){return n instanceof St||n&&"closed"in n&&C(n.remove)&&C(n.add)&&C(n.unsubscribe)}function mr(n){C(n)?n():n.unsubscribe()}const bt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},fe={setTimeout(n,e,...t){const{delegate:r}=fe;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=fe;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Te(n){fe.setTimeout(()=>{const{onUnhandledError:e}=bt;if(!e)throw n;e(n)})}function He(){}const It=Lt("C",void 0,void 0);function Lt(n,e,t){return{kind:n,value:e,error:t}}let nt=null;function gt(n){if(bt.useDeprecatedSynchronousErrorHandling){const e=!nt;if(e&&(nt={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=nt;if(nt=null,t)throw r}}else n()}class ar extends St{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,In(e)&&e.add(this)):this.destination=ge}static create(e,t,r){return new Mr(e,t,r)}next(e){this.isStopped?Kt(function Bn(n){return Lt("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Kt(function Ft(n){return Lt("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Kt(It,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const sn=Function.prototype.bind;function wt(n,e){return sn.call(n,e)}class zt{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Ze(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Ze(r)}else Ze(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ze(t)}}}class Mr extends ar{constructor(e,t,r){let i;if(super(),C(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&bt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&wt(e.next,o),error:e.error&&wt(e.error,o),complete:e.complete&&wt(e.complete,o)}):i=e}this.destination=new zt(i)}}function Ze(n){bt.useDeprecatedSynchronousErrorHandling?function sr(n){bt.useDeprecatedSynchronousErrorHandling&&nt&&(nt.errorThrown=!0,nt.error=n)}(n):Te(n)}function Kt(n,e){const{onStoppedNotification:t}=bt;t&&fe.setTimeout(()=>t(n,e))}const ge={closed:!0,next:He,error:function Un(n){throw n},complete:He},yn="function"==typeof Symbol&&Symbol.observable||"@@observable";function Zt(n){return n}function bi(n){return 0===n.length?Zt:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let lt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function Xi(n){return n&&n instanceof ar||function ns(n){return n&&C(n.next)&&C(n.error)&&C(n.complete)}(n)&&In(n)}(t)?t:new Mr(t,r,i);return gt(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Lo(r))((i,o)=>{const s=new Mr({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[yn](){return this}pipe(...t){return bi(t)(this)}toPromise(t){return new(t=Lo(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Lo(n){var e;return null!==(e=n??bt.Promise)&&void 0!==e?e:Promise}const yo=Je(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let G=(()=>{class n extends lt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new oe(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new yo}next(t){gt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){gt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){gt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?Sn:(this.currentObservers=null,o.push(t),new St(()=>{this.currentObservers=null,se(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new lt;return t.source=this,t}}return n.create=(e,t)=>new oe(e,t),n})();class oe extends G{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:Sn}}function ce(n){return C(n?.lift)}function z(n){return e=>{if(ce(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function te(n,e,t,r,i){return new we(n,e,t,r,i)}class we extends ar{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ye(n,e){return z((t,r)=>{let i=0;t.subscribe(te(r,o=>{r.next(n.call(e,o,i++))}))})}var vt=ct(635);const Ht=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function rt(n){return C(n?.then)}function Nt(n){return C(n[yn])}function Rn(n){return Symbol.asyncIterator&&C(n?.[Symbol.asyncIterator])}function Ii(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const U=function B(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ee(n){return C(n?.[U])}function de(n){return(0,vt.AQ)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield(0,vt.N3)(t.read());if(i)return yield(0,vt.N3)(void 0);yield yield(0,vt.N3)(r)}}finally{t.releaseLock()}})}function Ce(n){return C(n?.getReader)}function De(n){if(n instanceof lt)return n;if(null!=n){if(Nt(n))return function wn(n){return new lt(e=>{const t=n[yn]();if(C(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Ht(n))return function Vt(n){return new lt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(rt(n))return function $t(n){return new lt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Te)})}(n);if(Rn(n))return Pr(n);if(ee(n))return function Mn(n){return new lt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Ce(n))return function Vi(n){return Pr(de(n))}(n)}throw Ii(n)}function Pr(n){return new lt(e=>{(function Nr(n,e){var t,r,i,o;return(0,vt.sH)(this,void 0,void 0,function*(){try{for(t=(0,vt.xN)(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Pn(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function an(n,e,t=1/0){return C(e)?an((r,i)=>ye((o,s)=>e(r,o,i,s))(De(n(r,i))),t):("number"==typeof e&&(t=e),z((r,i)=>function vn(n,e,t,r,i,o,s,a){const c=[];let d=0,f=0,m=!1;const y=()=>{m&&!c.length&&!d&&e.complete()},b=D=>d<r?E(D):c.push(D),E=D=>{o&&e.next(D),d++;let S=!1;De(t(D,f++)).subscribe(te(e,j=>{i?.(j),o?b(j):e.next(j)},()=>{S=!0},void 0,()=>{if(S)try{for(d--;c.length&&d<r;){const j=c.shift();s?Pn(e,s,()=>E(j)):E(j)}y()}catch(j){e.error(j)}}))};return n.subscribe(te(e,b,()=>{m=!0,y()})),()=>{a?.()}}(r,i,n,t)))}function Xt(n=1/0){return an(Zt,n)}const en=new lt(n=>n.complete());function rs(n){return n&&C(n.schedule)}function wi(n){return n[n.length-1]}function is(n){return C(wi(n))?n.pop():void 0}function Ds(n){return rs(wi(n))?n.pop():void 0}function Li(n,e=0){return z((t,r)=>{t.subscribe(te(r,i=>Pn(r,n,()=>r.next(i),e),()=>Pn(r,n,()=>r.complete(),e),i=>Pn(r,n,()=>r.error(i),e)))})}function Ei(n,e=0){return z((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Qa(n,e){if(!n)throw new Error("Iterable cannot be null");return new lt(t=>{Pn(t,e,()=>{const r=n[Symbol.asyncIterator]();Pn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function R(n,e){return e?function os(n,e){if(null!=n){if(Nt(n))return function na(n,e){return De(n).pipe(Ei(e),Li(e))}(n,e);if(Ht(n))return function ra(n,e){return new lt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(rt(n))return function Ka(n,e){return De(n).pipe(Ei(e),Li(e))}(n,e);if(Rn(n))return Qa(n,e);if(ee(n))return function Uu(n,e){return new lt(t=>{let r;return Pn(t,e,()=>{r=n[U](),Pn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>C(r?.return)&&r.return()})}(n,e);if(Ce(n))return function Ya(n,e){return Qa(de(n),e)}(n,e)}throw Ii(n)}(n,e):De(n)}function M(...n){const e=Ds(n),t=function ti(n,e){return"number"==typeof wi(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?De(r[0]):Xt(t)(R(r,e)):en}class V extends G{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function q(...n){return R(n,Ds(n))}function Z(n={}){const{connector:e=(()=>new G),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,c,d=0,f=!1,m=!1;const y=()=>{a?.unsubscribe(),a=void 0},b=()=>{y(),s=c=void 0,f=m=!1},E=()=>{const D=s;b(),D?.unsubscribe()};return z((D,S)=>{d++,!m&&!f&&y();const j=c=c??e();S.add(()=>{d--,0===d&&!m&&!f&&(a=je(E,i))}),j.subscribe(S),!s&&d>0&&(s=new Mr({next:O=>j.next(O),error:O=>{m=!0,y(),a=je(b,t,O),j.error(O)},complete:()=>{f=!0,y(),a=je(b,r),j.complete()}}),De(D).subscribe(s))})(o)}}function je(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Mr({next:()=>{r.unsubscribe(),n()}});return De(e(...t)).subscribe(r)}function Ve(n,e){return z((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(te(r,c=>{i?.unsubscribe();let d=0;const f=o++;De(n(c,f)).subscribe(i=te(r,m=>r.next(e?e(c,m,f,d++):m),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function fn(n,e=Zt){return n=n??cr,z((t,r)=>{let i,o=!0;t.subscribe(te(r,s=>{const a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function cr(n,e){return n===e}function et(n){for(let e in n)if(n[e]===et)return e;throw Error("Could not find renamed property on target object.")}function tt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(tt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Or(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const ss=et({__forward_ref__:et});function _t(n){return n.__forward_ref__=_t,n.toString=function(){return tt(this())},n}function it(n){return Bo(n)?n():n}function Bo(n){return"function"==typeof n&&n.hasOwnProperty(ss)&&n.__forward_ref__===_t}function Ja(n){return n&&!!n.\u0275providers}const as="https://g.co/ng/security#xss";class be extends Error{constructor(e,t){super(function ne(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function F(n){return"string"==typeof n?n:null==n?"":String(n)}function mt(n,e){throw new be(-201,!1)}function to(n,e){null==n&&function st(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function Ne(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Wt(n){return{providers:n.providers||[],imports:n.imports||[]}}function $u(n){return kf(n,rl)||kf(n,ia)}function kf(n,e){return n.hasOwnProperty(e)?n[e]:null}function Gu(n){return n&&(n.hasOwnProperty(Ff)||n.hasOwnProperty(S_))?n[Ff]:null}const rl=et({\u0275prov:et}),Ff=et({\u0275inj:et}),ia=et({ngInjectableDef:et}),S_=et({ngInjectorDef:et});var Ct=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ct||{});let Vf;function Ti(n){const e=Vf;return Vf=n,e}function Wu(n,e,t){const r=$u(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Ct.Optional?null:void 0!==e?e:void mt(tt(n))}const cn=globalThis;class xe{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Ne({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ol={},sl="__NG_DI_FLAG__",As="ngTempTokenPath",Hf=/\n/gm,vo="__source";let Za;function Ss(n){const e=Za;return Za=n,e}function Gf(n,e=Ct.Default){if(void 0===Za)throw new be(-203,!1);return null===Za?Wu(n,void 0,e):Za.get(n,e&Ct.Optional?null:void 0,e)}function ve(n,e=Ct.Default){return(function zu(){return Vf}()||Gf)(it(n),e)}function Me(n,e=Ct.Default){return ve(n,Qu(e))}function Qu(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function al(n){const e=[];for(let t=0;t<n.length;t++){const r=it(n[t]);if(Array.isArray(r)){if(0===r.length)throw new be(900,!1);let i,o=Ct.Default;for(let s=0;s<r.length;s++){const a=r[s],c=vb(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}e.push(ve(i,o))}else e.push(ve(r))}return e}function bo(n,e){return n[sl]=e,n.prototype[sl]=e,n}function vb(n){return n[sl]}function Rs(n){return{toString:n}.toString()}var Xa=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Xa||{}),_r=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(_r||{});const ni={},Rt=[],ll=et({\u0275cmp:et}),Yu=et({\u0275dir:et}),Ju=et({\u0275pipe:et}),O_=et({\u0275mod:et}),Ci=et({\u0275fac:et}),ul=et({__NG_ELEMENT_ID__:et}),dl=et({__NG_ENV_ID__:et});function zf(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function Zu(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];Ui(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function Xu(n){return 3===n||4===n||6===n}function Ui(n){return 64===n.charCodeAt(0)}function ec(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||x_(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function x_(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}const ed="ng-template";function td(n,e,t){let r=0,i=!0;for(;r<n.length;){let o=n[r++];if("string"==typeof o&&i){const s=n[r++];if(t&&"class"===o&&-1!==zf(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function Wf(n){return 4===n.type&&n.value!==ed}function k_(n,e,t){return e===(4!==n.type||t?n.value:ed)}function Ib(n,e,t){let r=4;const i=n.attrs||[],o=function Kf(n){for(let e=0;e<n.length;e++)if(Xu(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!k_(n,c,t)||""===c&&1===e.length){if(ji(r))return!1;s=!0}}else{const d=8&r?c:e[++a];if(8&r&&null!==n.attrs){if(!td(n.attrs,d,t)){if(ji(r))return!1;s=!0}continue}const m=qf(8&r?"class":c,i,Wf(n),t);if(-1===m){if(ji(r))return!1;s=!0;continue}if(""!==d){let y;y=m>o?"":i[m+1].toLowerCase();const b=8&r?y:null;if(b&&-1!==zf(b,d,0)||2&r&&d!==y){if(ji(r))return!1;s=!0}}}}else{if(!s&&!ji(r)&&!ji(c))return!1;if(s&&ji(c))continue;s=!1,r=c|1&r}}return ji(r)||s}function ji(n){return 0==(1&n)}function qf(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function F_(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function nd(n,e,t=!1){for(let r=0;r<e.length;r++)if(Ib(n,e[r],t))return!0;return!1}function Qf(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function Yf(n,e){return n?":not("+e.trim()+")":e}function Jf(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!ji(s)&&(e+=Yf(o,i),i=""),r=s,o=o||!ji(r);t++}return""!==i&&(e+=Yf(o,i)),e}function En(n){return Rs(()=>{const e=B_(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Xa.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||_r.Emulated,styles:n.styles||Rt,_:null,schemas:n.schemas||null,tView:null,id:""};od(t);const r=n.dependencies;return t.directiveDefs=sd(r,!1),t.pipeDefs=sd(r,!0),t.id=function wb(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function V_(n){return xt(n)||yr(n)}function ep(n){return null!==n}function ln(n){return Rs(()=>({type:n.type,bootstrap:n.bootstrap||Rt,declarations:n.declarations||Rt,imports:n.imports||Rt,exports:n.exports||Rt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function L_(n,e){if(null==n)return ni;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}function Se(n){return Rs(()=>{const e=B_(n);return od(e),e})}function xt(n){return n[ll]||null}function yr(n){return n[Yu]||null}function Cr(n){return n[Ju]||null}function ri(n,e){const t=n[O_]||null;if(!t&&!0===e)throw new Error(`Type ${tt(n)} does not have '\u0275mod' property.`);return t}function B_(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||ni,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Rt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:L_(n.inputs,e),outputs:L_(n.outputs)}}function od(n){n.features?.forEach(e=>e(n))}function sd(n,e){if(!n)return null;const t=e?Cr:V_;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(ep)}const Nn=0,Le=1,ut=2,On=3,Hi=4,hl=5,Dr=6,tc=7,tr=8,jo=9,nc=10,dt=11,oa=12,U_=13,Ps=14,nr=15,sa=16,rc=17,no=18,fl=19,ad=20,Ns=21,Io=22,pl=23,aa=24,Mt=25,cd=1,ld=2,Ho=7,ca=9,xr=11;function Di(n){return Array.isArray(n)&&"object"==typeof n[cd]}function ii(n){return Array.isArray(n)&&!0===n[cd]}function j_(n){return 0!=(4&n.flags)}function ic(n){return n.componentOffset>-1}function rp(n){return 1==(1&n.flags)}function $i(n){return!!n.template}function ip(n){return 0!=(512&n[ut])}function la(n,e){return n.hasOwnProperty(Ci)?n[Ci]:null}let xn=null,dd=!1;function ro(n){const e=xn;return xn=n,e}const sc={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function rr(n){if(!ac(n)||n.dirty){if(!n.producerMustRecompute(n)&&!Q_(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function K_(n){n.dirty=!0,function q_(n){if(void 0===n.liveConsumerNode)return;const e=dd;dd=!0;try{for(const t of n.liveConsumerNode)t.dirty||K_(t)}finally{dd=e}}(n),n.consumerMarkedDirty?.(n)}function _l(n){return n&&(n.nextProducerIndex=0),ro(n)}function ap(n,e){if(ro(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(ac(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)da(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Q_(n){$o(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(rr(t),r!==t.version))return!0}return!1}function cp(n){if($o(n),ac(n))for(let e=0;e<n.producerNode.length;e++)da(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function da(n,e){if(function yl(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),$o(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)da(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];$o(i),i.producerIndexOfThis[r]=e}}function ac(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function $o(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let up=null;const fd=()=>{},Nb=(()=>({...sc,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:fd}))();class Ob{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function kr(){return hp}function hp(n){return n.type.prototype.ngOnChanges&&(n.setInput=kb),xb}function xb(){const n=pd(this),e=n?.current;if(e){const t=n.previous;if(t===ni)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function kb(n,e,t,r){const i=this.declaredInputs[t],o=pd(n)||function Fb(n,e){return n[ry]=e}(n,{previous:ni,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new Ob(c&&c.currentValue,e,a===ni),n[r]=e}kr.ngInherit=!0;const ry="__ngSimpleChanges__";function pd(n){return n[ry]||null}const io=function(n,e,t){};function tn(n){for(;Array.isArray(n);)n=n[Nn];return n}function md(n,e){return tn(e[n])}function zr(n,e){return tn(e[n.index])}function Os(n,e){return n.data[e]}function Gi(n,e){const t=e[n];return Di(t)?t:t[Nn]}function us(n,e){return null==e?null:n[e]}function oy(n){n[rc]=0}function Ub(n){1024&n[ut]||(n[ut]|=1024,sy(n,1))}function _d(n){1024&n[ut]&&(n[ut]&=-1025,sy(n,-1))}function sy(n,e){let t=n[On];if(null===t)return;t[hl]+=e;let r=t;for(t=t[On];null!==t&&(1===e&&1===r[hl]||-1===e&&0===r[hl]);)t[hl]+=e,r=t,t=t[On]}const ot={lFrame:Al(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function bd(){return ot.bindingsEnabled}function ks(){return null!==ot.skipHydrationRootTNode}function me(){return ot.lFrame.lView}function Bt(){return ot.lFrame.tView}function Ar(n){return ot.lFrame.contextLView=n,n[tr]}function Wr(n){return ot.lFrame.contextLView=null,n}function Fr(){let n=Id();for(;null!==n&&64===n.type;)n=n.parent;return n}function Id(){return ot.lFrame.currentTNode}function Go(n,e){const t=ot.lFrame;t.currentTNode=n,t.isParent=e}function Cl(){return ot.lFrame.isParent}function mp(){ot.lFrame.isParent=!1}function ha(){return ot.lFrame.bindingIndex++}function zo(n){const e=ot.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function hy(n,e){const t=ot.lFrame;t.bindingIndex=t.bindingRootIndex=n,bp(e)}function bp(n){ot.lFrame.currentDirectiveIndex=n}function fy(){return ot.lFrame.currentQueryIndex}function Dl(n){ot.lFrame.currentQueryIndex=n}function zb(n){const e=n[Le];return 2===e.type?e.declTNode:1===e.type?n[Dr]:null}function py(n,e,t){if(t&Ct.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&Ct.Host||(i=zb(o),null===i||(o=o[Ps],10&i.type))););if(null===i)return!1;e=i,n=o}const r=ot.lFrame=gy();return r.currentTNode=e,r.lView=n,!0}function Ed(n){const e=gy(),t=n[Le];ot.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function gy(){const n=ot.lFrame,e=null===n?null:n.child;return null===e?Al(n):e}function Al(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function my(){const n=ot.lFrame;return ot.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const _y=my;function wp(){const n=my();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function oi(){return ot.lFrame.selectedIndex}function fa(n){ot.lFrame.selectedIndex=n}function Hn(){const n=ot.lFrame;return Os(n.tView,n.selectedIndex)}function Kr(){ot.lFrame.currentNamespace="svg"}function zi(){!function Qb(){ot.lFrame.currentNamespace=null}()}let vy=!0;function Sl(){return vy}function Fs(n){vy=n}function Td(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:d,ngOnDestroy:f}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),null!=f&&(n.destroyHooks??=[]).push(t,f)}}function Cd(n,e,t){Ad(n,e,3,t)}function Dd(n,e,t,r){(3&n[ut])===t&&Ad(n,e,t,r)}function Rl(n,e){let t=n[ut];(3&t)===e&&(t&=8191,t+=1,n[ut]=t)}function Ad(n,e,t,r){const o=r??-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&n[rc]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(n[rc]+=65536),(a<o||-1==o)&&(Ep(n,t,e,c),n[rc]=(4294901760&n[rc])+c+2),c++}function by(n,e){io(4,n,e);const t=ro(null);try{e.call(n)}finally{ro(t),io(5,n,e)}}function Ep(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];i?n[ut]>>13<n[rc]>>16&&(3&n[ut])===e&&(n[ut]+=8192,by(a,o)):by(a,o)}const cc=-1;class lc{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Sd(n){return n!==cc}function Ml(n){return 32767&n}function Pl(n,e){let t=function Zb(n){return n>>16}(n),r=e;for(;t>0;)r=r[Ps],t--;return r}let Ap=!0;function Rd(n){const e=Ap;return Ap=n,e}const Ty=255,eI=5;let tI=0;const Qr={};function Md(n,e){const t=Cy(n,e);if(-1!==t)return t;const r=e[Le];r.firstCreatePass&&(n.injectorIndex=e.length,Nl(r.data,n),Nl(e,null),Nl(r.blueprint,null));const i=uc(n,e),o=n.injectorIndex;if(Sd(i)){const s=Ml(i),a=Pl(i,e),c=a[Le].data;for(let d=0;d<8;d++)e[o+d]=a[s+d]|c[s+d]}return e[o+8]=i,o}function Nl(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Cy(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function uc(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=Ol(i),null===r)return cc;if(t++,i=i[Ps],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return cc}function Sp(n,e,t){!function nI(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(ul)&&(r=t[ul]),null==r&&(r=t[ul]=tI++);const i=r&Ty;e.data[n+(i>>eI)]|=1<<i}(n,e,t)}function Pd(n,e,t){if(t&Ct.Optional||void 0!==n)return n;mt()}function Dy(n,e,t,r){if(t&Ct.Optional&&void 0===r&&(r=null),!(t&(Ct.Self|Ct.Host))){const i=n[jo],o=Ti(void 0);try{return i?i.get(e,r,t&Ct.Optional):Wu(e,r,t&Ct.Optional)}finally{Ti(o)}}return Pd(r,0,t)}function Ay(n,e,t,r=Ct.Default,i){if(null!==n){if(2048&e[ut]&&!(r&Ct.Self)){const s=function aI(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[ut]&&!(512&s[ut]);){const a=Nd(o,s,t,r|Ct.Self,Qr);if(a!==Qr)return a;let c=o.parent;if(!c){const d=s[ad];if(d){const f=d.get(t,Qr,r);if(f!==Qr)return f}c=Ol(s),s=s[Ps]}o=c}return i}(n,e,t,r,Qr);if(s!==Qr)return s}const o=Nd(n,e,t,r,Qr);if(o!==Qr)return o}return Dy(e,t,r,i)}function Nd(n,e,t,r,i){const o=function oI(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(ul)?n[ul]:void 0;return"number"==typeof e?e>=0?e&Ty:Mp:e}(t);if("function"==typeof o){if(!py(e,n,r))return r&Ct.Host?Pd(i,0,r):Dy(e,t,r,i);try{let s;if(s=o(r),null!=s||r&Ct.Optional)return s;mt()}finally{_y()}}else if("number"==typeof o){let s=null,a=Cy(n,e),c=cc,d=r&Ct.Host?e[nr][Dr]:null;for((-1===a||r&Ct.SkipSelf)&&(c=-1===a?uc(n,e):e[a+8],c!==cc&&Rp(r,!1)?(s=e[Le],a=Ml(c),e=Pl(c,e)):a=-1);-1!==a;){const f=e[Le];if(Sy(o,a,f.data)){const m=iI(a,e,t,s,r,d);if(m!==Qr)return m}c=e[a+8],c!==cc&&Rp(r,e[Le].data[a+8]===d)&&Sy(o,a,e)?(s=f,a=Ml(c),e=Pl(c,e)):a=-1}}return i}function iI(n,e,t,r,i,o){const s=e[Le],a=s.data[n+8],f=Od(a,s,t,null==r?ic(a)&&Ap:r!=s&&0!=(3&a.type),i&Ct.Host&&o===a);return null!==f?pa(e,s,f,a):Qr}function Od(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,f=o>>20,y=i?a+f:n.directiveEnd;for(let b=r?a:a+f;b<y;b++){const E=s[b];if(b<c&&t===E||b>=c&&E.type===t)return b}if(i){const b=s[c];if(b&&$i(b)&&b.type===t)return c}return null}function pa(n,e,t,r){let i=n[t];const o=e.data;if(function Iy(n){return n instanceof lc}(i)){const s=i;s.resolving&&function ke(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new be(-200,`Circular dependency in DI detected for ${n}${t}`)}(function X(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():F(n)}(o[t]));const a=Rd(s.canSeeViewProviders);s.resolving=!0;const d=s.injectImpl?Ti(s.injectImpl):null;py(n,r,Ct.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function Yb(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=hp(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==d&&Ti(d),Rd(a),s.resolving=!1,_y()}}return i}function Sy(n,e,t){return!!(t[e+(n>>eI)]&1<<n)}function Rp(n,e){return!(n&Ct.Self||n&Ct.Host&&e)}class si{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Ay(this._tNode,this._lView,e,Qu(r),t)}}function Mp(){return new si(Fr(),me())}function Pp(n){return Bo(n)?()=>{const e=Pp(it(n));return e&&e()}:la(n)}function Ol(n){const e=n[Le],t=e.type;return 2===t?e.declTNode:1===t?n[Dr]:null}const hc="__parameters__";function fc(n,e,t){return Rs(()=>{const r=function Np(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,d,f){const m=c.hasOwnProperty(hc)?c[hc]:Object.defineProperty(c,hc,{value:[]})[hc];for(;m.length<=f;)m.push(null);return(m[f]=m[f]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Wo(n,e){n.forEach(t=>Array.isArray(t)?Wo(t,e):e(t))}function kp(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function xd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ba(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function ur(n,e,t){let r=pc(n,e);return r>=0?n[1|r]=t:(r=~r,function My(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function kd(n,e){const t=pc(n,e);if(t>=0)return n[1|t]}function pc(n,e){return function Py(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const Fl=bo(fc("Optional"),8),Fd=bo(fc("SkipSelf"),4);function By(n){return 128==(128&n.flags)}var gc=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(gc||{});const gI=new Map;let y8=0;const _I="__ngContext__";function Si(n,e){Di(e)?(n[_I]=e[fl],function b8(n){gI.set(n[fl],n)}(e)):n[_I]=e}let yI;function vI(n,e){return yI(n,e)}function qp(n){const e=n[On];return ii(e)?e[On]:e}function nR(n){return iR(n[oa])}function rR(n){return iR(n[Hi])}function iR(n){for(;null!==n&&!ii(n);)n=n[Hi];return n}function Ud(n,e,t,r,i){if(null!=r){let o,s=!1;ii(r)?o=r:Di(r)&&(s=!0,r=r[Nn]);const a=tn(r);0===n&&null!==t?null==i?cR(e,t,a):Vl(e,t,a,i||null,!0):1===n&&null!==t?Vl(e,t,a,i||null,!0):2===n?function Wy(n,e,t){const r=Gy(n,e);r&&function B8(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function H8(n,e,t,r,i){const o=t[Ho];o!==tn(t)&&Ud(e,n,r,o,i);for(let a=xr;a<t.length;a++){const c=t[a];Qp(c[Le],c,n,e,r,o)}}(e,n,o,t,i)}}function Hy(n,e,t){return n.createElement(e,t)}function sR(n,e){const t=n[ca],r=t.indexOf(e);_d(e),t.splice(r,1)}function $y(n,e){if(n.length<=xr)return;const t=xr+e,r=n[t];if(r){const i=r[sa];null!==i&&i!==n&&sR(i,r),e>0&&(n[t-1][Hi]=r[Hi]);const o=xd(n,xr+e);!function P8(n,e){Qp(n,e,e[dt],2,null,null),e[Nn]=null,e[Dr]=null}(r[Le],r);const s=o[no];null!==s&&s.detachView(o[Le]),r[On]=null,r[Hi]=null,r[ut]&=-129}return r}function II(n,e){if(!(256&e[ut])){const t=e[dt];e[pl]&&cp(e[pl]),e[aa]&&cp(e[aa]),t.destroyNode&&Qp(n,e,t,3,null,null),function x8(n){let e=n[oa];if(!e)return wI(n[Le],n);for(;e;){let t=null;if(Di(e))t=e[oa];else{const r=e[xr];r&&(t=r)}if(!t){for(;e&&!e[Hi]&&e!==n;)Di(e)&&wI(e[Le],e),e=e[On];null===e&&(e=n),Di(e)&&wI(e[Le],e),t=e&&e[Hi]}e=t}}(e)}}function wI(n,e){if(!(256&e[ut])){e[ut]&=-129,e[ut]|=256,function L8(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof lc)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];io(4,a,c);try{c.call(a)}finally{io(5,a,c)}}else{io(4,i,o);try{o.call(i)}finally{io(5,i,o)}}}}}(n,e),function V8(n,e){const t=n.cleanup,r=e[tc];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else t[o].call(r[t[o+1]]);null!==r&&(e[tc]=null);const i=e[Ns];if(null!==i){e[Ns]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(n,e),1===e[Le].type&&e[dt].destroy();const t=e[sa];if(null!==t&&ii(e[On])){t!==e[On]&&sR(t,e);const r=e[no];null!==r&&r.detachView(n)}!function I8(n){gI.delete(n[fl])}(e)}}function EI(n,e,t){return function aR(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[Nn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===_r.None||o===_r.Emulated)return null}return zr(r,t)}}(n,e.parent,t)}function Vl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function cR(n,e,t){n.appendChild(e,t)}function lR(n,e,t,r,i){null!==r?Vl(n,e,t,r,i):cR(n,e,t)}function Gy(n,e){return n.parentNode(e)}function uR(n,e,t){return hR(n,e,t)}let TI,SI,Ky,hR=function dR(n,e,t){return 40&n.type?zr(n,t):null};function zy(n,e,t,r){const i=EI(n,r,e),o=e[dt],a=uR(r.parent||e[Dr],r,e);if(null!=i)if(Array.isArray(t))for(let c=0;c<t.length;c++)lR(o,i,t[c],a,!1);else lR(o,i,t,a,!1);void 0!==TI&&TI(o,r,e,t,i)}function Kp(n,e){if(null!==e){const t=e.type;if(3&t)return zr(e,n);if(4&t)return CI(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Kp(n,r);{const i=n[e.index];return ii(i)?CI(-1,i):tn(i)}}if(32&t)return vI(e,n)()||tn(n[e.index]);{const r=pR(n,e);return null!==r?Array.isArray(r)?r[0]:Kp(qp(n[nr]),r):Kp(n,e.next)}}return null}function pR(n,e){return null!==e?n[nr][Dr].projection[e.projection]:null}function CI(n,e){const t=xr+n+1;if(t<e.length){const r=e[t],i=r[Le].firstChild;if(null!==i)return Kp(r,i)}return e[Ho]}function DI(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],c=t.type;if(s&&0===e&&(a&&Si(tn(a),r),t.flags|=2),32!=(32&t.flags))if(8&c)DI(n,e,t.child,r,i,o,!1),Ud(e,n,i,a,o);else if(32&c){const d=vI(t,r);let f;for(;f=d();)Ud(e,n,i,f,o);Ud(e,n,i,a,o)}else 16&c?mR(n,e,r,t,i,o):Ud(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Qp(n,e,t,r,i,o){DI(t,r,n.firstChild,e,i,o,!1)}function mR(n,e,t,r,i,o){const s=t[nr],c=s[Dr].projection[r.projection];if(Array.isArray(c))for(let d=0;d<c.length;d++)Ud(e,n,i,c[d],o);else{let d=c;const f=s[On];By(r)&&(d.flags|=128),DI(n,e,d,f,i,o,!0)}}function _R(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function yR(n,e,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&Zu(n,e,r),null!==i&&_R(n,e,i),null!==o&&function G8(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function IR(n){return function RI(){if(void 0===Ky&&(Ky=null,cn.trustedTypes))try{Ky=cn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ky}()?.createScriptURL(n)||n}class wR{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${as})`}}function mc(n){return n instanceof wR?n.changingThisBreaksApplicationSecurity:n}function Yp(n,e){const t=function eB(n){return n instanceof wR&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${as})`)}return t===e}const iB=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var $d=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}($d||{});function Yy(n){const e=Zp();return e?e.sanitize($d.URL,n)||"":Yp(n,"URL")?mc(n):function MI(n){return(n=String(n)).match(iB)?n:"unsafe:"+n}(F(n))}function RR(n){const e=Zp();if(e)return IR(e.sanitize($d.RESOURCE_URL,n)||"");if(Yp(n,"ResourceURL"))return IR(mc(n));throw new be(904,!1)}function Zp(){const n=me();return n&&n[nc].sanitizer}const Xp=new xe("ENVIRONMENT_INITIALIZER"),PR=new xe("INJECTOR",-1),NR=new xe("INJECTOR_DEF_TYPES");class xI{get(e,t=ol){if(t===ol){const r=new Error(`NullInjectorError: No provider for ${tt(e)}!`);throw r.name="NullInjectorError",r}return t}}function _B(...n){return{\u0275providers:xR(0,n),\u0275fromNgModule:!0}}function xR(n,...e){const t=[],r=new Set;let i;const o=s=>{t.push(s)};return Wo(e,s=>{const a=s;Jy(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&kR(i,o),t}function kR(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];kI(i,o=>{e(o,r)})}}function Jy(n,e,t,r){if(!(n=it(n)))return!1;let i=null,o=Gu(n);const s=!o&&xt(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const c=n.ngModule;if(o=Gu(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const d of c)Jy(d,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let d;r.add(i);try{Wo(o.imports,f=>{Jy(f,e,t,r)&&(d||=[],d.push(f))})}finally{}void 0!==d&&kR(d,e)}if(!a){const d=la(i)||(()=>new i);e({provide:i,useFactory:d,deps:Rt},i),e({provide:NR,useValue:i,multi:!0},i),e({provide:Xp,useValue:()=>ve(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const d=n;kI(c,f=>{e(f,d)})}}}return i!==n&&void 0!==n.providers}function kI(n,e){for(let t of n)Ja(t)&&(t=t.\u0275providers),Array.isArray(t)?kI(t,e):e(t)}const yB=et({provide:String,useValue:et});function FI(n){return null!==n&&"object"==typeof n&&yB in n}function Ll(n){return"function"==typeof n}const VI=new xe("Set Injector scope."),Zy={},bB={};let LI;function Xy(){return void 0===LI&&(LI=new xI),LI}class so{}class Gd extends so{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,UI(e,s=>this.processProvider(s)),this.records.set(PR,zd(void 0,this)),i.has("environment")&&this.records.set(so,zd(void 0,this));const o=this.records.get(VI);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(NR.multi,Rt,Ct.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Ss(this),r=Ti(void 0);try{return e()}finally{Ss(t),Ti(r)}}get(e,t=ol,r=Ct.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(dl))return e[dl](this);r=Qu(r);const o=Ss(this),s=Ti(void 0);try{if(!(r&Ct.SkipSelf)){let c=this.records.get(e);if(void 0===c){const d=function CB(n){return"function"==typeof n||"object"==typeof n&&n instanceof xe}(e)&&$u(e);c=d&&this.injectableDefInScope(d)?zd(BI(e),Zy):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&Ct.Self?Xy():this.parent).get(e,t=r&Ct.Optional&&t===ol?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[As]=a[As]||[]).unshift(tt(e)),o)throw a;return function bb(n,e,t,r){const i=n[As];throw e[vo]&&i.unshift(e[vo]),n.message=function cl(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=tt(e);if(Array.isArray(e))i=e.map(tt).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):tt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Hf,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[As]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Ti(s),Ss(o)}}resolveInjectorInitializers(){const e=Ss(this),t=Ti(void 0);try{const i=this.get(Xp.multi,Rt,Ct.Self);for(const o of i)o()}finally{Ss(e),Ti(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(tt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(e){let t=Ll(e=it(e))?e:it(e&&e.provide);const r=function wB(n){return FI(n)?zd(void 0,n.useValue):zd(function LR(n,e,t){let r;if(Ll(n)){const i=it(n);return la(i)||BI(i)}if(FI(n))r=()=>it(n.useValue);else if(function VR(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...al(n.deps||[]));else if(function FR(n){return!(!n||!n.useExisting)}(n))r=()=>ve(it(n.useExisting));else{const i=it(n&&(n.useClass||n.provide));if(!function EB(n){return!!n.deps}(n))return la(i)||BI(i);r=()=>new i(...al(n.deps))}return r}(n),Zy)}(e);if(Ll(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=zd(void 0,Zy,!0),i.factory=()=>al(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Zy&&(t.value=bB,t.value=t.factory()),"object"==typeof t.value&&t.value&&function TB(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=it(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function BI(n){const e=$u(n),t=null!==e?e.factory:la(n);if(null!==t)return t;if(n instanceof xe)throw new be(204,!1);if(n instanceof Function)return function IB(n){const e=n.length;if(e>0)throw ba(e,"?"),new be(204,!1);const t=function A_(n){return n&&(n[rl]||n[ia])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new be(204,!1)}function zd(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function UI(n,e){for(const t of n)Array.isArray(t)?UI(t,e):t&&Ja(t)?UI(t.\u0275providers,e):e(t)}const ev=new xe("AppId",{providedIn:"root",factory:()=>DB}),DB="ng",BR=new xe("Platform Initializer"),Ta=new xe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),UR=new xe("CSP nonce",{providedIn:"root",factory:()=>function Hd(){if(void 0!==SI)return SI;if(typeof document<"u")return document;throw new be(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let jR=(n,e,t)=>null;function KI(n,e,t=!1){return jR(n,e,t)}class FB{}class GR{}class LB{resolveComponentFactory(e){throw function VB(n){const e=Error(`No component factory found for ${tt(n)}.`);return e.ngComponent=n,e}(e)}}let sv=(()=>{class n{static{this.NULL=new LB}}return n})();function BB(){return Kd(Fr(),me())}function Kd(n,e){return new un(zr(n,e))}let un=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=BB}}return n})();function UB(n){return n instanceof un?n.nativeElement:n}class JI{}let To=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function jB(){const n=me(),t=Gi(Fr().index,n);return(Di(t)?t:n)[dt]}()}}return n})(),HB=(()=>{class n{static{this.\u0275prov=Ne({token:n,providedIn:"root",factory:()=>null})}}return n})();class Qd{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const WR=new Qd("16.2.12"),ZI={};function YR(n,e=null,t=null,r){const i=JR(n,e,t,r);return i.resolveInjectorInitializers(),i}function JR(n,e=null,t=null,r,i=new Set){const o=[t||Rt,_B(n)];return r=r||("object"==typeof n?void 0:tt(n)),new Gd(o,e||Xy(),r||null,i)}let ai=(()=>{class n{static{this.THROW_IF_NOT_FOUND=ol}static{this.NULL=new xI}static create(t,r){if(Array.isArray(t))return YR({name:""},r,t,"");{const i=t.name??"";return YR({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=Ne({token:n,providedIn:"any",factory:()=>ve(PR)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function XI(n){return n.ngOriginalError}class Ca{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&XI(e);for(;t&&XI(t);)t=XI(t);return t||null}}function ew(n){return e=>{setTimeout(n,void 0,e)}}const Xe=class YB extends G{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=ew(o),i&&(i=ew(i)),s&&(s=ew(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof St&&e.add(a),a}};function XR(...n){}class Pt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xe(!1),this.onMicrotaskEmpty=new Xe(!1),this.onStable=new Xe(!1),this.onError=new Xe(!1),typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function JB(){const n="function"==typeof cn.requestAnimationFrame;let e=cn[n?"requestAnimationFrame":"setTimeout"],t=cn[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function e9(n){const e=()=>{!function XB(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(cn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,nw(n),n.isCheckStableRunning=!0,tw(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),nw(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{if(function n9(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,o,s,a);try{return eM(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),tM(n)}},onInvoke:(t,r,i,o,s,a,c)=>{try{return eM(n),t.invoke(i,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),tM(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,nw(n),tw(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Pt.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(Pt.isInAngularZone())throw new be(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,ZB,XR,XR);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const ZB={};function tw(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function nw(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function eM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function tM(n){n._nesting--,tw(n)}class t9{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xe,this.onMicrotaskEmpty=new Xe,this.onStable=new Xe,this.onError=new Xe}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const nM=new xe("",{providedIn:"root",factory:rM});function rM(){const n=Me(Pt);let e=!0;return M(new lt(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new lt(i=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{Pt.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=n.onUnstable.subscribe(()=>{Pt.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(Z()))}function Da(n){return n instanceof Function?n():n}let rw=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=Ne({token:n,providedIn:"root",factory:()=>new n})}}return n})();function ng(n){for(;n;){n[ut]|=64;const e=qp(n);if(ip(n)&&!e)return n;n=e}return null}const cM=new xe("",{providedIn:"root",factory:()=>!1});let lv=null;function hM(n,e){return n[e]??gM()}function fM(n,e){const t=gM();t.producerNode?.length&&(n[e]=lv,t.lView=n,lv=pM())}const h9={...sc,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{ng(n.lView)},lView:null};function pM(){return Object.create(h9)}function gM(){return lv??=pM(),lv}const yt={};function Be(n){mM(Bt(),me(),oi()+n,!1)}function mM(n,e,t,r){if(!r)if(3==(3&e[ut])){const o=n.preOrderCheckHooks;null!==o&&Cd(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Dd(e,o,0,t)}fa(t)}function $(n,e=Ct.Default){const t=me();return null===t?ve(n,e):Ay(Fr(),t,it(n),e)}function uv(n,e,t,r,i,o,s,a,c,d,f){const m=e.blueprint.slice();return m[Nn]=i,m[ut]=140|r,(null!==d||n&&2048&n[ut])&&(m[ut]|=2048),oy(m),m[On]=m[Ps]=n,m[tr]=t,m[nc]=s||n&&n[nc],m[dt]=a||n&&n[dt],m[jo]=c||n&&n[jo]||null,m[Dr]=o,m[fl]=function v8(){return y8++}(),m[Io]=f,m[ad]=d,m[nr]=2==e.type?n[nr]:m,m}function Xd(n,e,t,r,i){let o=n.data[e];if(null===o)o=function iw(n,e,t,r,i){const o=Id(),s=Cl(),c=n.data[e]=function b9(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return ks()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,e,t,r,i),function uy(){return ot.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function Tl(){const n=ot.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Go(o,!0),o}function rg(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function yM(n,e,t,r,i){const o=hM(e,pl),s=oi(),a=2&r;try{fa(-1),a&&e.length>Mt&&mM(n,e,Mt,!1),io(a?2:0,i);const d=a?o:null,f=_l(d);try{null!==d&&(d.dirty=!1),t(r,i)}finally{ap(d,f)}}finally{a&&null===e[pl]&&fM(e,pl),fa(s),io(a?3:1,i)}}function ow(n,e,t){if(j_(e)){const r=ro(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{ro(r)}}}function sw(n,e,t){bd()&&(function A9(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;ic(t)&&function x9(n,e,t){const r=zr(e,n),i=vM(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=dv(n,uv(n,i,null,s,r,e,null,n[nc].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Md(t,e),Si(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const c=n.data[a],d=pa(e,n,a,t);Si(d,e),null!==s&&k9(0,a-i,d,c,0,s),$i(c)&&(Gi(t.index,e)[tr]=pa(e,n,a,t))}}(n,e,t,zr(t,e)),64==(64&t.flags)&&TM(n,e,t))}function aw(n,e,t=zr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function vM(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=cw(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function cw(n,e,t,r,i,o,s,a,c,d,f){const m=Mt+r,y=m+i,b=function p9(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:yt);return t}(m,y),E="function"==typeof d?d():d;return b[Le]={type:n,blueprint:b,template:t,queries:null,viewQuery:a,declTNode:e,data:b.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:E,incompleteFirstPass:!1,ssrId:f}}let bM=n=>null;function IM(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const o=n[i];null===r?wM(t,e,i,o):r.hasOwnProperty(i)&&wM(t,e,r[i],o)}return t}function wM(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function Co(n,e,t,r,i,o,s,a){const c=zr(e,t);let f,d=e.inputs;!a&&null!=d&&(f=d[r])?(fw(n,t,f,r,i),ic(e)&&function E9(n,e){const t=Gi(e,n);16&t[ut]||(t[ut]|=64)}(t,e.index)):3&e.type&&(r=function w9(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(c,r,i))}function lw(n,e,t,r){if(bd()){const i=null===r?null:{"":-1},o=function R9(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(nd(e,s.selectors,!1))if(r||(r=[]),$i(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),uw(n,e,a.length)}else r.unshift(s),uw(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&EM(n,e,t,s,i,a),i&&function M9(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new be(-301,!1);r.push(e[i],o)}}}(t,r,i)}t.mergedAttrs=ec(t.mergedAttrs,t.attrs)}function EM(n,e,t,r,i,o){for(let d=0;d<r.length;d++)Sp(Md(t,e),n,r[d].type);!function N9(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let d=0;d<r.length;d++){const f=r[d];f.providersResolver&&f.providersResolver(f)}let s=!1,a=!1,c=rg(n,e,r.length,null);for(let d=0;d<r.length;d++){const f=r[d];t.mergedAttrs=ec(t.mergedAttrs,f.hostAttrs),O9(n,t,e,c,f),P9(c,f,i),null!==f.contentQueries&&(t.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(t.flags|=64);const m=f.type.prototype;!s&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function I9(n,e,t){const i=e.directiveEnd,o=n.data,s=e.attrs,a=[];let c=null,d=null;for(let f=e.directiveStart;f<i;f++){const m=o[f],y=t?t.get(m):null,E=y?y.outputs:null;c=IM(m.inputs,f,c,y?y.inputs:null),d=IM(m.outputs,f,d,E);const D=null===c||null===s||Wf(e)?null:F9(c,f,s);a.push(D)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=d}(n,t,o)}function TM(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function vp(){return ot.lFrame.currentDirectiveIndex}();try{fa(o);for(let a=r;a<i;a++){const c=n.data[a],d=e[a];bp(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&S9(c,d)}}finally{fa(-1),bp(s)}}function S9(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function uw(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function P9(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;$i(e)&&(t[""]=n)}}function O9(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=la(i.type)),s=new lc(o,$i(i),$);n.blueprint[r]=s,t[r]=s,function C9(n,e,t,r,i){const o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function D9(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(n,e,r,rg(n,t,i.hostVars,yt),i)}function Vs(n,e,t,r,i,o){const s=zr(n,e);!function dw(n,e,t,r,i,o,s){if(null==o)n.removeAttribute(e,i,t);else{const a=null==s?F(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}(e[dt],s,o,n.value,t,r,i)}function k9(n,e,t,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)CM(r,t,s[a++],s[a++],s[a++])}function CM(n,e,t,r,i){const o=ro(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{ro(o)}}function F9(n,e,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function DM(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}function AM(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const s=n.data[o];Dl(t[r]),s.contentQueries(2,e[o],o)}}}function dv(n,e){return n[oa]?n[U_][Hi]=e:n[oa]=e,n[U_]=e,e}function hw(n,e,t){Dl(0);const r=ro(null);try{e(n,t)}finally{ro(r)}}function SM(n){return n[tc]||(n[tc]=[])}function RM(n){return n.cleanup||(n.cleanup=[])}function PM(n,e){const t=n[jo],r=t?t.get(Ca,null):null;r&&r.handleError(e)}function fw(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];CM(n.data[s],e[s],r,a,i)}}function V9(n,e){const t=Gi(e,n),r=t[Le];!function L9(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[Nn];null!==i&&null===t[Io]&&(t[Io]=KI(i,t[jo])),pw(r,t,t[tr])}function pw(n,e,t){Ed(e);try{const r=n.viewQuery;null!==r&&hw(1,r,t);const i=n.template;null!==i&&yM(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&AM(n,e),n.staticViewQueries&&hw(2,n.viewQuery,t);const o=n.components;null!==o&&function B9(n,e){for(let t=0;t<e.length;t++)V9(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ut]&=-5,wp()}}let NM=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function Pb(n,e,t){const r=Object.create(Nb);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>K_(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Q_(r))return;r.hasRun=!0;const s=_l(r);try{r.cleanupFn(),r.cleanupFn=fd,r.fn(i)}finally{ap(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(t,d=>{this.all.has(d)&&this.queue.set(d,o)},i);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=Ne({token:n,providedIn:"root",factory:()=>new n})}}return n})();function hv(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Or(i,a):2==o&&(r=Or(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function ig(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];null!==o&&r.push(tn(o)),ii(o)&&OM(o,r);const s=t.type;if(8&s)ig(n,e,t.child,r);else if(32&s){const a=vI(t,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=pR(e,t);if(Array.isArray(a))r.push(...a);else{const c=qp(e[nr]);ig(c[Le],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function OM(n,e){for(let t=xr;t<n.length;t++){const r=n[t],i=r[Le].firstChild;null!==i&&ig(r[Le],r,i,e)}n[Ho]!==n[Nn]&&e.push(n[Ho])}function fv(n,e,t,r=!0){const i=e[nc],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{xM(n,e,n.template,t)}catch(c){throw r&&PM(e,c),c}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function xM(n,e,t,r){const i=e[ut];if(256!=(256&i)){e[nc].effectManager?.flush(),Ed(e);try{oy(e),function ly(n){return ot.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&yM(n,e,t,2,r);const s=3==(3&i);if(s){const d=n.preOrderCheckHooks;null!==d&&Cd(e,d,null)}else{const d=n.preOrderHooks;null!==d&&Dd(e,d,0,null),Rl(e,0)}if(function H9(n){for(let e=nR(n);null!==e;e=rR(e)){if(!e[ld])continue;const t=e[ca];for(let r=0;r<t.length;r++){Ub(t[r])}}}(e),kM(e,2),null!==n.contentQueries&&AM(n,e),s){const d=n.contentCheckHooks;null!==d&&Cd(e,d)}else{const d=n.contentHooks;null!==d&&Dd(e,d,1),Rl(e,1)}!function f9(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=hM(e,aa);try{for(let i=0;i<t.length;i++){const o=t[i];if(o<0)fa(~o);else{const s=o,a=t[++i],c=t[++i];hy(a,s),r.dirty=!1;const d=_l(r);try{c(2,e[s])}finally{ap(r,d)}}}}finally{null===e[aa]&&fM(e,aa),fa(-1)}}(n,e);const a=n.components;null!==a&&VM(e,a,0);const c=n.viewQuery;if(null!==c&&hw(2,c,r),s){const d=n.viewCheckHooks;null!==d&&Cd(e,d)}else{const d=n.viewHooks;null!==d&&Dd(e,d,2),Rl(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[ut]&=-73,_d(e)}finally{wp()}}}function kM(n,e){for(let t=nR(n);null!==t;t=rR(t))for(let r=xr;r<t.length;r++)FM(t[r],e)}function $9(n,e,t){FM(Gi(e,n),t)}function FM(n,e){if(!function Bb(n){return 128==(128&n[ut])}(n))return;const t=n[Le],r=n[ut];if(80&r&&0===e||1024&r||2===e)xM(t,n,t.template,n[tr]);else if(n[hl]>0){kM(n,1);const i=t.components;null!==i&&VM(n,i,1)}}function VM(n,e,t){for(let r=0;r<e.length;r++)$9(n,e[r],t)}class og{get rootNodes(){const e=this._lView,t=e[Le];return ig(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[tr]}set context(e){this._lView[tr]=e}get destroyed(){return 256==(256&this._lView[ut])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[On];if(ii(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&($y(e,r),xd(t,r))}this._attachedToViewContainer=!1}II(this._lView[Le],this._lView)}onDestroy(e){!function yd(n,e){if(256==(256&n[ut]))throw new be(911,!1);null===n[Ns]&&(n[Ns]=[]),n[Ns].push(e)}(this._lView,e)}markForCheck(){ng(this._cdRefInjectingView||this._lView)}detach(){this._lView[ut]&=-129}reattach(){this._lView[ut]|=128}detectChanges(){fv(this._lView[Le],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function O8(n,e){Qp(n,e,e[dt],2,null,null)}(this._lView[Le],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=e}}class G9 extends og{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;fv(e[Le],e,e[tr],!1)}checkNoChanges(){}get context(){return null}}class LM extends sv{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=xt(e);return new sg(t,this.ngModule)}}function BM(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class W9{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Qu(r);const i=this.injector.get(e,ZI,r);return i!==ZI||t===ZI?i:this.parentInjector.get(e,t,r)}}class sg extends GR{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=BM(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return BM(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function id(n){return n.map(Jf).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof so?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new W9(e,o):e,a=s.get(JI,null);if(null===a)throw new be(407,!1);const m={rendererFactory:a,sanitizer:s.get(HB,null),effectManager:s.get(NM,null),afterRenderEventManager:s.get(rw,null)},y=a.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",E=r?function g9(n,e,t,r){const o=r.get(cM,!1)||t===_r.ShadowDom,s=n.selectRootElement(e,o);return function m9(n){bM(n)}(s),s}(y,r,this.componentDef.encapsulation,s):Hy(y,b,function z9(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(b)),j=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let O=null;null!==E&&(O=KI(E,s,!0));const J=cw(0,null,null,1,0,null,null,null,null,null,null),re=uv(null,J,null,j,null,null,m,y,s,null,O);let pe,Ae;Ed(re);try{const k=this.componentDef;let A,N=null;k.findHostDirectiveDefs?(A=[],N=new Map,k.findHostDirectiveDefs(k,A,N),A.push(k)):A=[k];const L=function K9(n,e){const t=n[Le],r=Mt;return n[r]=e,Xd(t,r,2,"#host",null)}(re,E),H=function Q9(n,e,t,r,i,o,s){const a=i[Le];!function Y9(n,e,t,r){for(const i of n)e.mergedAttrs=ec(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(hv(e,e.mergedAttrs,!0),null!==t&&yR(r,t,e))}(r,n,e,s);let c=null;null!==e&&(c=KI(e,i[jo]));const d=o.rendererFactory.createRenderer(e,t);let f=16;t.signals?f=4096:t.onPush&&(f=64);const m=uv(i,vM(t),null,f,i[n.index],n,o,d,null,null,c);return a.firstCreatePass&&uw(a,n,r.length-1),dv(i,m),i[n.index]=m}(L,E,k,A,re,m,y);Ae=Os(J,Mt),E&&function Z9(n,e,t,r){if(r)Zu(n,t,["ng-version",WR.full]);else{const{attrs:i,classes:o}=function Zf(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!ji(i))break;i=o}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&Zu(n,t,i),o&&o.length>0&&_R(n,t,o.join(" "))}}(y,k,E,r),void 0!==t&&function X9(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(Ae,this.ngContentSelectors,t),pe=function J9(n,e,t,r,i,o){const s=Fr(),a=i[Le],c=zr(s,i);EM(a,i,s,t,null,r);for(let f=0;f<t.length;f++)Si(pa(i,a,s.directiveStart+f,s),i);TM(a,i,s),c&&Si(c,i);const d=pa(i,a,s.directiveStart+s.componentOffset,s);if(n[tr]=i[tr]=d,null!==o)for(const f of o)f(d,e);return ow(a,s,n),d}(H,k,A,N,re,[eU]),pw(J,re,null)}finally{wp()}return new q9(this.componentType,pe,Kd(Ae,re),re,Ae)}}class q9 extends FB{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new G9(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;fw(o[Le],o,i,e,t),this.previousInputValues.set(e,t),ng(Gi(this._tNode.index,o))}}get injector(){return new si(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function eU(){const n=Fr();Td(me()[Le],n)}function GM(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(t[r]=i[2])}n.inputTransforms=t}function gv(n){return!!function gw(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Ri(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function hn(n,e,t,r){const i=me();return Ri(i,ha(),e)&&(Bt(),Vs(Hn(),i,n,e,t,r)),hn}function th(n,e,t,r){return Ri(n,ha(),t)?e+F(t)+r:yt}function Qe(n,e,t,r,i,o,s,a){const c=me(),d=Bt(),f=n+Mt,m=d.firstCreatePass?function SU(n,e,t,r,i,o,s,a,c){const d=e.consts,f=Xd(e,n,4,s||null,us(d,a));lw(e,t,f,us(d,c)),Td(e,f);const m=f.tView=cw(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return null!==e.queries&&(e.queries.template(e,f),m.queries=e.queries.embeddedTView(f)),f}(f,d,c,e,t,r,i,o,s):d.data[f];Go(m,!1);const y=rP(d,c,m,n);Sl()&&zy(d,c,y,m),Si(y,c),dv(c,c[f]=DM(y,c,y,m)),rp(m)&&sw(d,c,m),null!=s&&aw(c,m,a)}let rP=function iP(n,e,t,r){return Fs(!0),e[dt].createComment("")};function Vr(n){return function xs(n,e){return n[e]}(function _p(){return ot.lFrame.contextLView}(),Mt+n)}function Ge(n,e,t){const r=me();return Ri(r,ha(),e)&&Co(Bt(),Hn(),r,n,e,r[dt],t,!1),Ge}function Iw(n,e,t,r,i){const s=i?"class":"style";fw(n,t,e.inputs[s],s,r)}function he(n,e,t,r){const i=me(),o=Bt(),s=Mt+n,a=i[dt],c=o.firstCreatePass?function NU(n,e,t,r,i,o){const s=e.consts,c=Xd(e,n,2,r,us(s,i));return lw(e,t,c,us(s,o)),null!==c.attrs&&hv(c,c.attrs,!1),null!==c.mergedAttrs&&hv(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,e,t,r):o.data[s],d=oP(o,i,c,a,e,n);i[s]=d;const f=rp(c);return Go(c,!0),yR(a,d,c),32!=(32&c.flags)&&Sl()&&zy(o,i,d,c),0===function El(){return ot.lFrame.elementDepthCount}()&&Si(d,i),function Hb(){ot.lFrame.elementDepthCount++}(),f&&(sw(o,i,c),ow(o,c,i)),null!==r&&aw(i,c),he}function Ee(){let n=Fr();Cl()?mp():(n=n.parent,Go(n,!1));const e=n;(function pp(n){return ot.skipHydrationRootTNode===n})(e)&&function cy(){ot.skipHydrationRootTNode=null}(),function $b(){ot.lFrame.elementDepthCount--}();const t=Bt();return t.firstCreatePass&&(Td(t,n),j_(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Cp(n){return 0!=(8&n.flags)}(e)&&Iw(t,e,me(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Ey(n){return 0!=(16&n.flags)}(e)&&Iw(t,e,me(),e.stylesWithoutHost,!1),Ee}function At(n,e,t,r){return he(n,e,t,r),Ee(),At}let oP=(n,e,t,r,i,o)=>(Fs(!0),Hy(r,i,function yy(){return ot.lFrame.currentNamespace}()));function ao(){return me()}function hg(n){return!!n&&"function"==typeof n.then}function cP(n){return!!n&&"function"==typeof n.subscribe}function Dt(n,e,t,r){const i=me(),o=Bt(),s=Fr();return function uP(n,e,t,r,i,o,s){const a=rp(r),d=n.firstCreatePass&&RM(n),f=e[tr],m=SM(e);let y=!0;if(3&r.type||s){const D=zr(r,e),S=s?s(D):D,j=m.length,O=s?re=>s(tn(re[r.index])):r.index;let J=null;if(!s&&a&&(J=function LU(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[tc],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==J)(J.__ngLastListenerFn__||J).__ngNextListenerFn__=o,J.__ngLastListenerFn__=o,y=!1;else{o=hP(r,e,f,o,!1);const re=t.listen(S,i,o);m.push(o,re),d&&d.push(i,O,j,j+1)}}else o=hP(r,e,f,o,!1);const b=r.outputs;let E;if(y&&null!==b&&(E=b[i])){const D=E.length;if(D)for(let S=0;S<D;S+=2){const pe=e[E[S]][E[S+1]].subscribe(o),Ae=m.length;m.push(o,pe),d&&d.push(i,r.index,Ae,-(Ae+1))}}}(o,i,i[dt],s,n,e,r),Dt}function dP(n,e,t,r){try{return io(6,e,t),!1!==t(r)}catch(i){return PM(n,i),!1}finally{io(7,e,t)}}function hP(n,e,t,r,i){return function o(s){if(s===Function)return r;ng(n.componentOffset>-1?Gi(n.index,e):e);let c=dP(e,t,r,s),d=o.__ngNextListenerFn__;for(;d;)c=dP(e,t,d,s)&&c,d=d.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function ht(n=1){return function Wb(n){return(ot.lFrame.contextLView=function qb(n,e){for(;n>0;)e=e[Ps],n--;return e}(n,ot.lFrame.contextLView))[tr]}(n)}function BU(n,e){let t=null;const r=function rd(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?nd(n,o,!0):Qf(r,o))return i}else t=i}return t}function lh(n,e,t){return bv(n,"",e,"",t),lh}function bv(n,e,t,r,i){const o=me(),s=th(o,e,t,r);return s!==yt&&Co(Bt(),Hn(),o,n,s,o[dt],i,!1),bv}function Iv(n,e){return n<<17|e<<2}function _c(n){return n>>17&32767}function Tw(n){return 2|n}function Ul(n){return(131068&n)>>2}function Cw(n,e){return-131069&n|e<<2}function Dw(n){return 1|n}function EP(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?_c(o):Ul(o),c=!1;for(;0!==a&&(!1===c||s);){const f=n[a+1];zU(n[a],e)&&(c=!0,n[a+1]=r?Dw(f):Tw(f)),a=r?_c(f):Ul(f)}c&&(n[t+1]=r?Tw(o):Dw(o))}function zU(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&pc(n,e)>=0}const Lr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function TP(n){return n.substring(Lr.key,Lr.keyEnd)}function WU(n){return n.substring(Lr.value,Lr.valueEnd)}function CP(n,e){const t=Lr.textEnd;return t===e?-1:(e=Lr.keyEnd=function QU(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Lr.key=e,t),uh(n,e,t))}function DP(n,e){const t=Lr.textEnd;let r=Lr.key=uh(n,e,t);return t===r?-1:(r=Lr.keyEnd=function YU(n,e,t){let r;for(;e<t&&(45===(r=n.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(n,r,t),r=SP(n,r,t),r=Lr.value=uh(n,r,t),r=Lr.valueEnd=function JU(n,e,t){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<t;){const c=n.charCodeAt(s++);if(59===c)return a;34===c||39===c?a=s=RP(n,c,s,t):e===s-4&&85===o&&82===i&&76===r&&40===c?a=s=RP(n,41,s,t):c>32&&(a=s),o=i,i=r,r=-33&c}return a}(n,r,t),SP(n,r,t))}function AP(n){Lr.key=0,Lr.keyEnd=0,Lr.value=0,Lr.valueEnd=0,Lr.textEnd=n.length}function uh(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function SP(n,e,t,r){return(e=uh(n,e,t))<t&&e++,e}function RP(n,e,t,r){let i=-1,o=t;for(;o<r;){const s=n.charCodeAt(o++);if(s==e&&92!==i)return o;i=92==s&&92===i?0:s}throw new Error}function Yt(n,e){return function hs(n,e,t,r){const i=me(),o=Bt(),s=zo(2);o.firstUpdatePass&&NP(o,n,s,r),e!==yt&&Ri(i,s,e)&&xP(o,o.data[oi()],i,i[dt],n,i[s+1]=function sj(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=tt(mc(n)))),n}(e,t),r,s)}(n,e,null,!0),Yt}function ZU(n,e){for(let t=function KU(n){return AP(n),DP(n,uh(n,0,Lr.textEnd))}(e);t>=0;t=DP(e,t))OP(n,TP(e),WU(e))}function jl(n){fs(ij,Us,n,!0)}function Us(n,e){for(let t=function qU(n){return AP(n),CP(n,uh(n,0,Lr.textEnd))}(e);t>=0;t=CP(e,t))ur(n,TP(e),!0)}function fs(n,e,t,r){const i=Bt(),o=zo(2);i.firstUpdatePass&&NP(i,null,o,r);const s=me();if(t!==yt&&Ri(s,o,t)){const a=i.data[oi()];if(FP(a,r)&&!PP(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=Or(c,t||"")),Iw(i,a,s,t,r)}else!function oj(n,e,t,r,i,o,s,a){i===yt&&(i=Rt);let c=0,d=0,f=0<i.length?i[0]:null,m=0<o.length?o[0]:null;for(;null!==f||null!==m;){const y=c<i.length?i[c+1]:void 0,b=d<o.length?o[d+1]:void 0;let D,E=null;f===m?(c+=2,d+=2,y!==b&&(E=m,D=b)):null===m||null!==f&&f<m?(c+=2,E=f):(d+=2,E=m,D=b),null!==E&&xP(n,e,t,r,E,D,s,a),f=c<i.length?i[c]:null,m=d<o.length?o[d]:null}}(i,a,s,s[dt],s[o+1],s[o+1]=function rj(n,e,t){if(null==t||""===t)return Rt;const r=[],i=mc(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,o)}}function PP(n,e){return e>=n.expandoStartIndex}function NP(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[oi()],s=PP(n,t);FP(o,r)&&null===e&&!s&&(e=!1),e=function XU(n,e,t,r){const i=function Ip(n){const e=ot.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=fg(t=Aw(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=Aw(i,n,e,t,r),null===o){let c=function ej(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Ul(r))return n[_c(r)]}(n,e,r);void 0!==c&&Array.isArray(c)&&(c=Aw(null,n,e,c[1],r),c=fg(c,e.attrs,r),function tj(n,e,t,r){n[_c(t?e.classBindings:e.styleBindings)]=r}(n,e,r,c))}else o=function nj(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=fg(r,n[o].hostAttrs,t);return fg(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function $U(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=_c(s),c=Ul(s);n[r]=t;let f,d=!1;if(Array.isArray(t)?(f=t[1],(null===f||pc(t,f)>0)&&(d=!0)):f=t,i)if(0!==c){const y=_c(n[a+1]);n[r+1]=Iv(y,a),0!==y&&(n[y+1]=Cw(n[y+1],r)),n[a+1]=function jU(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Iv(a,0),0!==a&&(n[a+1]=Cw(n[a+1],r)),a=r;else n[r+1]=Iv(c,0),0===a?a=r:n[c+1]=Cw(n[c+1],r),c=r;d&&(n[r+1]=Tw(n[r+1])),EP(n,f,r,!0),EP(n,f,r,!1),function GU(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&pc(o,e)>=0&&(t[r+1]=Dw(t[r+1]))}(e,f,n,r,o),s=Iv(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}function Aw(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=fg(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function fg(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ur(n,s,!!t||e[++o]))}return void 0===n?null:n}function OP(n,e,t){ur(n,e,mc(t))}function ij(n,e,t){const r=String(e);""!==r&&!r.includes(" ")&&ur(n,r,t)}function xP(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const c=n.data,d=c[a+1],f=function HU(n){return 1==(1&n)}(d)?kP(c,e,t,i,Ul(d),s):void 0;wv(f)||(wv(o)||function UU(n){return 2==(2&n)}(d)&&(o=kP(c,null,t,i,a,s)),function $8(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:gc.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=gc.Important),n.setStyle(t,r,i,o))}}(r,s,md(oi(),t),i,o))}function kP(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const c=n[i],d=Array.isArray(c),f=d?c[1]:c,m=null===f;let y=t[i+1];y===yt&&(y=m?Rt:void 0);let b=m?kd(y,r):f===r?y:void 0;if(d&&!wv(b)&&(b=kd(c,r)),wv(b)&&(a=b,s))return a;const E=n[i+1];i=s?_c(E):Ul(E)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=kd(c,r))}return a}function wv(n){return void 0!==n}function FP(n,e){return 0!=(n.flags&(e?8:16))}function Ke(n,e=""){const t=me(),r=Bt(),i=n+Mt,o=r.firstCreatePass?Xd(r,i,1,e,null):r.data[i],s=VP(r,t,o,e,n);t[i]=s,Sl()&&zy(r,t,s,o),Go(o,!1)}let VP=(n,e,t,r,i)=>(Fs(!0),function jy(n,e){return n.createText(e)}(e[dt],r));function ci(n){return Hl("",n,""),ci}function Hl(n,e,t){const r=me(),i=th(r,n,e,t);return i!==yt&&function Aa(n,e,t){const r=md(e,n);!function oR(n,e,t){n.setValue(e,t)}(n[dt],r,t)}(r,oi(),i),Hl}function WP(n,e,t){!function Bs(n){fs(OP,ZU,n,!1)}(th(me(),n,e,t))}const hh="en-US";let oN=hh;class Gl{}class PN{}class xw extends Gl{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new LM(this);const i=ri(e);this._bootstrapComponents=Da(i.bootstrap),this._r3Injector=JR(e,t,[{provide:Gl,useValue:this},{provide:sv,useValue:this.componentFactoryResolver},...r],tt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class kw extends PN{constructor(e){super(),this.moduleType=e}create(e){return new xw(this.moduleType,e,[])}}class NN extends Gl{constructor(e){super(),this.componentFactoryResolver=new LM(this),this.instance=null;const t=new Gd([...e.providers,{provide:Gl,useValue:this},{provide:sv,useValue:this.componentFactoryResolver}],e.parent||Xy(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Fw(n,e,t=null){return new NN({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let S7=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=xR(0,t.type),i=r.length>0?Fw([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Ne({token:n,providedIn:"environment",factory:()=>new n(ve(so))})}}return n})();function Qo(n){n.getStandaloneInjector=e=>e.get(S7).getOrCreateStandaloneInjector(n)}function zl(n,e,t){const r=function qr(){const n=ot.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}()+n,i=me();return i[r]===yt?function Ls(n,e,t){return n[e]=t}(i,r,t?e.call(t):e()):function cg(n,e){return n[e]}(i,r)}function Y7(){return this._results[Symbol.iterator]()}class Bw{get changes(){return this._changes||(this._changes=new Xe)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Bw.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=Y7)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function kn(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function uI(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Z7(n,e,t,r=!0){const i=e[Le];if(function k8(n,e,t,r){const i=xr+r,o=t.length;r>0&&(t[i-1][Hi]=e),r<o-xr?(e[Hi]=t[i],kp(t,xr+r,e)):(t.push(e),e[Hi]=null),e[On]=t;const s=e[sa];null!==s&&t!==s&&function F8(n,e){const t=n[ca];e[nr]!==e[On][On][nr]&&(n[ld]=!0),null===t?n[ca]=[e]:t.push(e)}(s,e);const a=e[no];null!==a&&a.insertView(n),e[ut]|=128}(i,e,n,t),r){const o=CI(t,n),s=e[dt],a=Gy(s,n[Ho]);null!==a&&function N8(n,e,t,r,i,o){r[Nn]=i,r[Dr]=e,Qp(n,r,t,1,i,o)}(i,n[Dr],s,e,a,o)}}let ir=(()=>{class n{static{this.__NG_ELEMENT_ID__=tH}}return n})();const X7=ir,eH=class extends X7{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function J7(n,e,t,r){const i=e.tView,a=uv(n,i,t,4096&n[ut]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[sa]=n[e.index];const d=n[no];return null!==d&&(a[no]=d.createEmbeddedView(i)),pw(i,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:r});return new og(i)}};function tH(){return Av(Fr(),me())}function Av(n,e){return 4&n.type?new eH(e,n,Kd(n,e)):null}let Yo=(()=>{class n{static{this.__NG_ELEMENT_ID__=aH}}return n})();function aH(){return YN(Fr(),me())}const cH=Yo,KN=class extends cH{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Kd(this._hostTNode,this._hostLView)}get injector(){return new si(this._hostTNode,this._hostLView)}get parentInjector(){const e=uc(this._hostTNode,this._hostLView);if(Sd(e)){const t=Pl(e,this._hostLView),r=Ml(e);return new si(t[Le].data[r+8],t)}return new si(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=QN(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-xr}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,t,r,i,o){const s=e&&!function va(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const D=t||{};a=D.index,r=D.injector,i=D.projectableNodes,o=D.environmentInjector||D.ngModuleRef}const c=s?e:new sg(xt(e)),d=r||this.parentInjector;if(!o&&null==c.ngModule){const S=(s?d:this.parentInjector).get(so,null);S&&(o=S)}xt(c.componentType??{});const b=c.create(d,i,null,o);return this.insertImpl(b.hostView,a,false),b}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView;if(function fp(n){return ii(n[On])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=i[On],f=new KN(d,d[Dr],d[On]);f.detach(f.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;return Z7(a,i,s,!r),e.attachToViewContainerRef(),kp(Uw(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=QN(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=$y(this._lContainer,t);r&&(xd(Uw(this._lContainer),t),II(r[Le],r))}detach(e){const t=this._adjustIndex(e,-1),r=$y(this._lContainer,t);return r&&null!=xd(Uw(this._lContainer),t)?new og(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function QN(n){return n[8]}function Uw(n){return n[8]||(n[8]=[])}function YN(n,e){let t;const r=e[n.index];return ii(r)?t=r:(t=DM(r,e,null,n),e[n.index]=t,dv(e,t)),JN(t,e,n,r),new KN(t,n,e)}let JN=function ZN(n,e,t,r){if(n[Ho])return;let i;i=8&t.type?tn(r):function lH(n,e){const t=n[dt],r=t.createComment(""),i=zr(e,n);return Vl(t,Gy(t,i),r,function U8(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[Ho]=i};class jw{constructor(e){this.queryList=e,this.matches=null}clone(){return new jw(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hw{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Hw(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==rO(e,t).matches&&this.queries[t].setDirty()}}class XN{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class $w{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new $w(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Gw{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Gw(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,hH(t,o)),this.matchTNodeWithReadOption(e,t,Od(t,e,o,!1,!1))}else r===ir?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Od(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===un||i===Yo||i===ir&&4&t.type)this.addMatch(t.index,-2);else{const o=Od(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function hH(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function pH(n,e,t,r){return-1===t?function fH(n,e){return 11&n.type?Kd(n,e):4&n.type?Av(n,e):null}(e,n):-2===t?function gH(n,e,t){return t===un?Kd(e,n):t===ir?Av(e,n):t===Yo?YN(e,n):void 0}(n,e,r):pa(n,n[Le],t,e)}function eO(n,e,t,r){const i=e[no].queries[r];if(null===i.matches){const o=n.data,s=t.matches,a=[];for(let c=0;c<s.length;c+=2){const d=s[c];a.push(d<0?null:pH(e,o[d],s[c+1],t.metadata.read))}i.matches=a}return i.matches}function zw(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const s=eO(n,e,i,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const d=o[a+1],f=e[-c];for(let m=xr;m<f.length;m++){const y=f[m];y[sa]===y[On]&&zw(y[Le],y,d,r)}if(null!==f[ca]){const m=f[ca];for(let y=0;y<m.length;y++){const b=m[y];zw(b[Le],b,d,r)}}}}}return r}function pn(n){const e=me(),t=Bt(),r=fy();Dl(r+1);const i=rO(t,r);if(n.dirty&&function Lb(n){return 4==(4&n[ut])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?zw(t,e,r,[]):eO(t,e,i,r);n.reset(o,UB),n.notifyOnChanges()}return!0}return!1}function Wl(n,e,t){const r=Bt();r.firstCreatePass&&(function nO(n,e,t){null===n.queries&&(n.queries=new $w),n.queries.track(new Gw(e,t))}(r,new XN(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),function tO(n,e,t){const r=new Bw(4==(4&t));(function v9(n,e,t,r){const i=SM(e);i.push(t),n.firstCreatePass&&RM(n).push(r,i.length-1)})(n,e,r,r.destroy),null===e[no]&&(e[no]=new Hw),e[no].queries.push(new jw(r))}(r,me(),e)}function rO(n,e){return n.queries.getByIndex(e)}function Do(n,e){return Av(n,e)}const Jw=new xe("Application Initializer");let Zw=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=Me(Jw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const o=i();if(hg(o))t.push(o);else if(cP(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),bO=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const ps=new xe("LocaleId",{providedIn:"root",factory:()=>Me(ps,Ct.Optional|Ct.SkipSelf)||function LH(){return typeof $localize<"u"&&$localize.locale||hh}()});let IO=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new V(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class jH{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let wO=(()=>{class n{compileModuleSync(t){return new kw(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=Da(ri(t).declarations).reduce((s,a)=>{const c=xt(a);return c&&s.push(new sg(c)),s},[]);return new jH(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const DO=new xe(""),Pv=new xe("");let rE,tE=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,rE||(function l$(n){rE=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||n)(ve(Pt),ve(nE),ve(Pv))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac})}}return n})(),nE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return rE?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),yc=null;const AO=new xe("AllowMultipleToken"),iE=new xe("PlatformDestroyListeners"),oE=new xe("appBootstrapListener");class RO{constructor(e,t){this.name=e,this.token=t}}function PO(n,e,t=[]){const r=`Platform: ${e}`,i=new xe(r);return(o=[])=>{let s=sE();if(!s||s.injector.get(AO,!1)){const a=[...t,...o,{provide:i,useValue:!0}];n?n(a):function h$(n){if(yc&&!yc.get(AO,!1))throw new be(400,!1);(function SO(){!function Ab(n){up=n}(()=>{throw new be(600,!1)})})(),yc=n;const e=n.get(OO);(function MO(n){n.get(BR,null)?.forEach(t=>t())})(n)}(function NO(n=[],e){return ai.create({name:e,providers:[{provide:VI,useValue:"platform"},{provide:iE,useValue:new Set([()=>yc=null])},...n]})}(a,r))}return function p$(n){const e=sE();if(!e)throw new be(401,!1);return e}()}}function sE(){return yc?.get(OO)??null}let OO=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function g$(n="zone.js",e){return"noop"===n?new t9:"zone.js"===n?new Pt(e):n}(r?.ngZone,function xO(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function A7(n,e,t){return new xw(n,e,t)}(t.moduleType,this.injector,function BO(n){return[{provide:Pt,useFactory:n},{provide:Xp,multi:!0,useFactory:()=>{const e=Me(_$,{optional:!0});return()=>e.initialize()}},{provide:LO,useFactory:m$},{provide:nM,useFactory:rM}]}(()=>i)),s=o.injector.get(Ca,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{Nv(this._modules,o),a.unsubscribe()})}),function kO(n,e,t){try{const r=t();return hg(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(Zw);return a.runInitializers(),a.donePromise.then(()=>(function sN(n){to(n,"Expected localeId to be defined"),"string"==typeof n&&(oN=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(ps,hh)||hh),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,r=[]){const i=FO({},r);return function u$(n,e,t){const r=new kw(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(vc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new be(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(iE,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||n)(ve(ai))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function FO(n,e){return Array.isArray(e)?e.reduce(FO,n):{...n,...e}}let vc=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Me(LO),this.zoneIsStable=Me(nM),this.componentTypes=[],this.components=[],this.isStable=Me(IO).hasPendingTasks.pipe(Ve(t=>t?q(!1):this.zoneIsStable),fn(),Z()),this._injector=Me(so)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof GR;if(!this._injector.get(Zw).done)throw!i&&function Ms(n){const e=xt(n)||yr(n)||Cr(n);return null!==e&&e.standalone}(t),new be(405,!1);let s;s=i?t:this._injector.get(sv).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function d$(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Gl),d=s.create(ai.NULL,[],r||s.selector,a),f=d.location.nativeElement,m=d.injector.get(DO,null);return m?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),Nv(this.components,d),m?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Nv(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(oE,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Nv(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new be(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Nv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const LO=new xe("",{providedIn:"root",factory:()=>Me(Ca).handleError.bind(void 0)});function m$(){const n=Me(Pt),e=Me(Ca);return t=>n.runOutsideAngular(()=>e.handleError(t))}let _$=(()=>{class n{constructor(){this.zone=Me(Pt),this.applicationRef=Me(vc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();let gs=(()=>{class n{static{this.__NG_ELEMENT_ID__=v$}}return n})();function v$(n){return function b$(n,e,t){if(ic(n)&&!t){const r=Gi(n.index,e);return new og(r,r)}return 47&n.type?new og(e[nr],e):null}(Fr(),me(),16==(16&n))}class zO{constructor(){}supports(e){return gv(e)}create(e){return new C$(e)}}const T$=(n,e)=>e;class C${constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||T$}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<qO(r,i,o)?t:r,a=qO(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const d=a-i,f=c-i;if(d!=f){for(let y=0;y<d;y++){const b=y<o.length?o[y]:o[y]=0,E=b+y;f<=E&&E<d&&(o[y]=b+1)}o[s.previousIndex]=f-d}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!gv(e))throw new be(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function uU(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new D$(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new WO),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new WO),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class D${constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class A${constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class WO{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new A$,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qO(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function QO(){return new kv([new zO])}let kv=(()=>{class n{static{this.\u0275prov=Ne({token:n,providedIn:"root",factory:QO})}constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||QO()),deps:[[n,new Fd,new Fl]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new be(901,!1)}}return n})();const N$=PO(null,"core",[]);let O$=(()=>{class n{constructor(t){}static{this.\u0275fac=function(r){return new(r||n)(ve(vc))}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})();function gh(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function hE(n,e){const t=xt(n),r=e.elementInjector||Xy();return new sg(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}let fE=null;function bc(){return fE}class q${}const Br=new xe("DocumentToken");let pE=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:function(){return Me(Q$)},providedIn:"platform"})}}return n})();const K$=new xe("Location Initialized");let Q$=(()=>{class n extends pE{constructor(){super(),this._doc=Me(Br),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return bc().getBaseHref(this._doc)}onPopState(t){const r=bc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=bc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:function(){return new n},providedIn:"platform"})}}return n})();function gE(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ox(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Sa(n){return n&&"?"!==n[0]?"?"+n:n}let Kl=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:function(){return Me(ax)},providedIn:"root"})}}return n})();const sx=new xe("appBaseHref");let ax=(()=>{class n extends Kl{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Me(Br).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return gE(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Sa(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+Sa(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+Sa(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(ve(pE),ve(sx,8))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Y$=(()=>{class n extends Kl{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=gE(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Sa(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Sa(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(ve(pE),ve(sx,8))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac})}}return n})(),mE=(()=>{class n{constructor(t){this._subject=new Xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function X$(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(ox(cx(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Sa(r))}normalize(t){return n.stripTrailingSlash(function Z$(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,cx(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Sa(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Sa(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Sa}static{this.joinWithSlash=gE}static{this.stripTrailingSlash=ox}static{this.\u0275fac=function(r){return new(r||n)(ve(Kl))}}static{this.\u0275prov=Ne({token:n,factory:function(){return function J$(){return new mE(ve(Kl))}()},providedIn:"root"})}}return n})();function cx(n){return n.replace(/\/index.html$/,"")}class VG{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Pa=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new VG(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),Ix(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Ix(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)($(Yo),$(ir),$(kv))}}static{this.\u0275dir=Se({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function Ix(n,e){n.context.$implicit=e.item}let _s=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new LG,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){wx("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){wx("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)($(Yo),$(ir))}}static{this.\u0275dir=Se({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class LG{constructor(){this.$implicit=null,this.ngIf=null}}function wx(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${tt(e)}'.`)}let dz=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})();function qv(n){return"server"===n}let gz=(()=>{class n{static{this.\u0275prov=Ne({token:n,providedIn:"root",factory:()=>new mz(ve(Br),window)})}}return n})();class mz{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function _z(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class jz extends q${constructor(){super(...arguments),this.supportsDOMEvents=!0}}class xE extends jz{static makeCurrent(){!function W$(n){fE||(fE=n)}(new xE)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Hz(){return Mg=Mg||document.querySelector("base"),Mg?Mg.getAttribute("href"):null}();return null==t?null:function $z(n){Yv=Yv||document.createElement("a"),Yv.setAttribute("href",n);const e=Yv.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Mg=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function xG(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Yv,Mg=null,zz=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac})}}return n})();const kE=new xe("EventManagerPlugins");let Mx=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new be(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(ve(kE),ve(Pt))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac})}}return n})();class Px{constructor(e){this._doc=e}}const FE="ng-app-id";let Nx=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=qv(o),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${FE}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(FE),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(FE,this.appId),s}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(ve(Br),ve(ev),ve(UR,8),ve(Ta))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac})}}return n})();const VE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},LE=/%COMP%/g,Qz=new xe("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function xx(n,e){return e.map(t=>t.replace(LE,n))}let kx=(()=>{class n{constructor(t,r,i,o,s,a,c,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=qv(a),this.defaultRenderer=new BE(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===_r.ShadowDom&&(r={...r,encapsulation:_r.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof Vx?i.applyToHost(t):i instanceof UE&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case _r.Emulated:o=new Vx(c,d,r,this.appId,f,s,a,m);break;case _r.ShadowDom:return new Xz(c,d,t,r,s,a,this.nonce,m);default:o=new UE(c,d,r,f,s,a,m)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(ve(Mx),ve(Nx),ve(ev),ve(Qz),ve(Br),ve(Ta),ve(Pt),ve(UR))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac})}}return n})();class BE{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(VE[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Fx(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Fx(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new be(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=VE[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=VE[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(gc.DashCase|gc.Important)?e.style.setProperty(t,r,i&gc.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&gc.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=bc().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Fx(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Xz extends BE{constructor(e,t,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=xx(i.id,i.styles);for(const f of d){const m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=f,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class UE extends BE{constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?xx(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Vx extends UE{constructor(e,t,r,i,o,s,a,c){const d=i+"-"+r.id;super(e,t,r,o,s,a,c,d),this.contentAttr=function Yz(n){return"_ngcontent-%COMP%".replace(LE,n)}(d),this.hostAttr=function Jz(n){return"_nghost-%COMP%".replace(LE,n)}(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let eW=(()=>{class n extends Px{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(ve(Br))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac})}}return n})();const Lx=["alt","control","meta","shift"],tW={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nW={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let rW=(()=>{class n extends Px{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>bc().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Lx.forEach(d=>{const f=r.indexOf(d);f>-1&&(r.splice(f,1),s+=d+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=tW[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Lx.forEach(s=>{s!==i&&(0,nW[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(ve(Br))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac})}}return n})();const aW=PO(N$,"browser",[{provide:Ta,useValue:"browser"},{provide:BR,useValue:function iW(){xE.makeCurrent()},multi:!0},{provide:Br,useFactory:function sW(){return function K8(n){SI=n}(document),document},deps:[]}]),cW=new xe(""),jx=[{provide:Pv,useClass:class Gz{addToWindow(e){cn.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new be(5103,!1);return o},cn.getAllAngularTestabilities=()=>e.getAllTestabilities(),cn.getAllAngularRootElements=()=>e.getAllRootElements(),cn.frameworkStabilizers||(cn.frameworkStabilizers=[]),cn.frameworkStabilizers.push(r=>{const i=cn.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?bc().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:DO,useClass:tE,deps:[Pt,nE,Pv]},{provide:tE,useClass:tE,deps:[Pt,nE,Pv]}],Hx=[{provide:VI,useValue:"root"},{provide:Ca,useFactory:function oW(){return new Ca},deps:[]},{provide:kE,useClass:eW,multi:!0,deps:[Br,Pt,Ta]},{provide:kE,useClass:rW,multi:!0,deps:[Br]},kx,Nx,Mx,{provide:JI,useExisting:kx},{provide:class yz{},useClass:zz,deps:[]},[]];let lW=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:ev,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||n)(ve(cW,12))}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({providers:[...Hx,...jx],imports:[dz,O$]})}}return n})(),$x=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(ve(Br))}}static{this.\u0275prov=Ne({token:n,factory:function(r){let i=null;return i=r?new r:function dW(){return new $x(ve(Br))}(),i},providedIn:"root"})}}return n})();typeof window<"u"&&window;const{isArray:_W}=Array,{getPrototypeOf:yW,prototype:vW,keys:bW}=Object;const{isArray:wW}=Array;function HE(n){return ye(e=>function EW(n,e){return wW(e)?n(...e):n(e)}(n,e))}function $E(...n){const e=Ds(n),t=is(n),{args:r,keys:i}=function qx(n){if(1===n.length){const e=n[0];if(_W(e))return{args:e,keys:null};if(function IW(n){return n&&"object"==typeof n&&yW(n)===vW}(e)){const t=bW(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}(n);if(0===r.length)return R([],e);const o=new lt(function TW(n,e,t=Zt){return r=>{Qx(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)Qx(e,()=>{const d=R(n[c],e);let f=!1;d.subscribe(te(r,m=>{o[c]=m,f||(f=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>function Kx(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}(i,s):Zt));return t?o.pipe(HE(t)):o}function Qx(n,e,t){n?Pn(t,n,e):e()}const Jv=Je(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Pg(...n){return function CW(){return Xt(1)}()(R(n,Ds(n)))}function Yx(n){return new lt(e=>{De(n()).subscribe(e)})}function Ng(n,e){const t=C(n)?n:()=>n,r=i=>i.error(t());return new lt(e?i=>e.schedule(r,0,i):r)}function GE(){return z((n,e)=>{let t=null;n._refCount++;const r=te(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Jx extends lt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ce(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new St;const t=this.getSubject();e.add(this.source.subscribe(te(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=St.EMPTY)}return e}refCount(){return GE()(this)}}function li(n){return n<=0?()=>en:z((e,t)=>{let r=0;e.subscribe(te(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Og(...n){const e=Ds(n);return z((t,r)=>{(e?Pg(n,t,e):Pg(n,t)).subscribe(r)})}function br(n,e){return z((t,r)=>{let i=0;t.subscribe(te(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Zv(n){return z((e,t)=>{let r=!1;e.subscribe(te(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Zx(n=DW){return z((e,t)=>{let r=!1;e.subscribe(te(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function DW(){return new Jv}function wc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?br((i,o)=>n(i,o,r)):Zt,li(1),t?Zv(e):Zx(()=>new Jv))}function xg(n,e){return C(e)?an(n,e,1):an(n,1)}function Ur(n,e,t){const r=C(n)||e||t?{next:n,error:e,complete:t}:n;return r?z((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(te(o,c=>{var d;null===(d=r.next)||void 0===d||d.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var d;a=!1,null===(d=r.error)||void 0===d||d.call(r,c),o.error(c)},()=>{var c,d;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(d=r.finalize)||void 0===d||d.call(r)}))}):Zt}function Ql(n){return z((e,t)=>{let o,r=null,i=!1;r=e.subscribe(te(t,void 0,void 0,s=>{o=De(n(s,Ql(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Xv(n,e){return z(function AW(n,e,t,r,i){return(o,s)=>{let a=t,c=e,d=0;o.subscribe(te(s,f=>{const m=d++;c=a?n(c,f,m):(a=!0,f),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(n,e,arguments.length>=2,!0))}function zE(n){return n<=0?()=>en:z((e,t)=>{let r=[];e.subscribe(te(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function WE(n){return z((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function hr(n){return z((e,t)=>{De(n).subscribe(te(t,()=>t.complete(),He)),!t.closed&&e.subscribe(t)})}const Et="primary",kg=Symbol("RouteTitle");class RW{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function yh(n){return new RW(n)}function MW(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function js(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!e2(n[i],e[i]))return!1;return!0}function e2(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function t2(n){return n.length>0?n[n.length-1]:null}function Ec(n){return function mW(n){return!!n&&(n instanceof lt||C(n.lift)&&C(n.subscribe))}(n)?n:hg(n)?R(Promise.resolve(n)):q(n)}const NW={exact:function i2(n,e,t){if(!Yl(n.segments,e.segments)||!e0(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!i2(n.children[r],e.children[r],t))return!1;return!0},subset:o2},n2={exact:function OW(n,e){return js(n,e)},subset:function xW(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>e2(n[t],e[t]))},ignored:()=>!0};function r2(n,e,t){return NW[t.paths](n.root,e.root,t.matrixParams)&&n2[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function o2(n,e,t){return s2(n,e,e.segments,t)}function s2(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Yl(i,t)||e.hasChildren()||!e0(i,t,r))}if(n.segments.length===t.length){if(!Yl(n.segments,t)||!e0(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!o2(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Yl(n.segments,i)&&e0(n.segments,i,r)&&n.children[Et])&&s2(n.children[Et],e,o,r)}}function e0(n,e,t){return e.every((r,i)=>n2[t](n[i].parameters,r.parameters))}class vh{constructor(e=new mn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yh(this.queryParams)),this._queryParamMap}toString(){return VW.serialize(this)}}class mn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return t0(this)}}class Fg{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=yh(this.parameters)),this._parameterMap}toString(){return l2(this)}}function Yl(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Vg=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:function(){return new qE},providedIn:"root"})}}return n})();class qE{parse(e){const t=new KW(e);return new vh(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Lg(e.root,!0)}`,r=function UW(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${n0(t)}=${n0(i)}`).join("&"):`${n0(t)}=${n0(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function LW(n){return encodeURI(n)}(e.fragment)}`:""}`}}const VW=new qE;function t0(n){return n.segments.map(e=>l2(e)).join("/")}function Lg(n,e){if(!n.hasChildren())return t0(n);if(e){const t=n.children[Et]?Lg(n.children[Et],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Et&&r.push(`${i}:${Lg(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function FW(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Et&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Et&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===Et?[Lg(n.children[Et],!1)]:[`${i}:${Lg(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Et]?`${t0(n)}/${t[0]}`:`${t0(n)}/(${t.join("//")})`}}function a2(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function n0(n){return a2(n).replace(/%3B/gi,";")}function KE(n){return a2(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function r0(n){return decodeURIComponent(n)}function c2(n){return r0(n.replace(/\+/g,"%20"))}function l2(n){return`${KE(n.path)}${function BW(n){return Object.keys(n).map(e=>`;${KE(e)}=${KE(n[e])}`).join("")}(n.parameters)}`}const jW=/^[^\/()?;#]+/;function QE(n){const e=n.match(jW);return e?e[0]:""}const HW=/^[^\/()?;=#]+/,GW=/^[^=?&#]+/,WW=/^[^&#]+/;class KW{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new mn([],{}):new mn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Et]=new mn(e,t)),r}parseSegment(){const e=QE(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new be(4009,!1);return this.capture(e),new Fg(r0(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function $W(n){const e=n.match(HW);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=QE(this.remaining);i&&(r=i,this.capture(r))}e[r0(t)]=r0(r)}parseQueryParam(e){const t=function zW(n){const e=n.match(GW);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function qW(n){const e=n.match(WW);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=c2(t),o=c2(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=QE(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new be(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Et);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[Et]:new mn([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new be(4011,!1)}}function u2(n){return n.segments.length>0?new mn([],{[Et]:n}):n}function d2(n){const e={};for(const r of Object.keys(n.children)){const o=d2(n.children[r]);if(r===Et&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function QW(n){if(1===n.numberOfChildren&&n.children[Et]){const e=n.children[Et];return new mn(n.segments.concat(e.segments),e.children)}return n}(new mn(n.segments,e))}function Jl(n){return n instanceof vh}function h2(n){let e;const i=u2(function t(o){const s={};for(const c of o.children){const d=t(c);s[c.outlet]=d}const a=new mn(o.url,s);return o===n&&(e=a),a}(n.root));return e??i}function f2(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return YE(i,i,i,t,r);const o=function JW(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new g2(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,d])=>{a[c]="string"==typeof d?d.split("/"):d}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new g2(t,e,r)}(e);if(o.toRoot())return YE(i,i,new mn([],{}),t,r);const s=function ZW(n,e,t){if(n.isAbsolute)return new s0(e,!0,0);if(!t)return new s0(e,!1,NaN);if(null===t.parent)return new s0(t,!0,0);const r=o0(n.commands[0])?0:1;return function XW(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new be(4005,!1);i=r.segments.length}return new s0(r,!1,i-o)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(o,i,n),a=s.processChildren?Ug(s.segmentGroup,s.index,o.commands):m2(s.segmentGroup,s.index,o.commands);return YE(i,s.segmentGroup,a,t,r)}function o0(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Bg(n){return"object"==typeof n&&null!=n&&n.outlets}function YE(n,e,t,r,i){let s,o={};r&&Object.entries(r).forEach(([c,d])=>{o[c]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`}),s=n===e?t:p2(n,e,t);const a=u2(d2(s));return new vh(a,o,i)}function p2(n,e,t){const r={};return Object.entries(n.children).forEach(([i,o])=>{r[i]=o===e?t:p2(o,e,t)}),new mn(n.segments,r)}class g2{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&o0(r[0]))throw new be(4003,!1);const i=r.find(Bg);if(i&&i!==t2(r))throw new be(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class s0{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function m2(n,e,t){if(n||(n=new mn([],{})),0===n.segments.length&&n.hasChildren())return Ug(n,e,t);const r=function tq(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(Bg(a))break;const c=`${a}`,d=r<t.length-1?t[r+1]:null;if(i>0&&void 0===c)break;if(c&&d&&"object"==typeof d&&void 0===d.outlets){if(!y2(c,d,s))return o;r+=2}else{if(!y2(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new mn(n.segments.slice(0,r.pathIndex),{});return o.children[Et]=new mn(n.segments.slice(r.pathIndex),n.children),Ug(o,0,i)}return r.match&&0===i.length?new mn(n.segments,{}):r.match&&!n.hasChildren()?JE(n,e,t):r.match?Ug(n,0,i):JE(n,e,t)}function Ug(n,e,t){if(0===t.length)return new mn(n.segments,{});{const r=function eq(n){return Bg(n[0])?n[0].outlets:{[Et]:n}}(t),i={};if(Object.keys(r).some(o=>o!==Et)&&n.children[Et]&&1===n.numberOfChildren&&0===n.children[Et].segments.length){const o=Ug(n.children[Et],e,t);return new mn(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=m2(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new mn(n.segments,i)}}function JE(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(Bg(o)){const c=nq(o.outlets);return new mn(r,c)}if(0===i&&o0(t[0])){r.push(new Fg(n.segments[e].path,_2(t[0]))),i++;continue}const s=Bg(o)?o.outlets[Et]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&o0(a)?(r.push(new Fg(s,_2(a))),i+=2):(r.push(new Fg(s,{})),i++)}return new mn(r,{})}function nq(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=JE(new mn([],{}),0,r))}),e}function _2(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function y2(n,e,t){return n==t.path&&js(e,t.parameters)}const jg="imperative";class Hs{constructor(e,t){this.id=e,this.url=t}}class a0 extends Hs{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Tc extends Hs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Hg extends Hs{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bh extends Hs{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class c0 extends Hs{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class v2 extends Hs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rq extends Hs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iq extends Hs{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class oq extends Hs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sq extends Hs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aq{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class cq{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class lq{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uq{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dq{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hq{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class b2{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ZE{}class XE{constructor(e){this.url=e}}class fq{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new $g,this.attachRef=null}}let $g=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new fq,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class I2{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=eT(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=eT(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=tT(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return tT(e,this._root).map(t=>t.value)}}function eT(n,e){if(n===e.value)return e;for(const t of e.children){const r=eT(n,t);if(r)return r}return null}function tT(n,e){if(n===e.value)return[e];for(const t of e.children){const r=tT(n,t);if(r.length)return r.unshift(e),r}return[]}class Na{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ih(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class w2 extends I2{constructor(e,t){super(e),this.snapshot=t,nT(this,e)}toString(){return this.snapshot.toString()}}function E2(n,e){const t=function pq(n,e){const s=new l0([],{},{},"",{},Et,e,null,{});return new C2("",new Na(s,[]))}(0,e),r=new V([new Fg("",{})]),i=new V({}),o=new V({}),s=new V({}),a=new V(""),c=new wh(r,i,s,a,o,Et,e,t.root);return c.snapshot=t.root,new w2(new Na(c,[]),t)}class wh{constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ye(d=>d[kg]))??q(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ye(e=>yh(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ye(e=>yh(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function T2(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function gq(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class l0{get title(){return this.data?.[kg]}constructor(e,t,r,i,o,s,a,c,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class C2 extends I2{constructor(e,t){super(t),this.url=e,nT(this,t)}toString(){return D2(this._root)}}function nT(n,e){e.value._routerState=n,e.children.forEach(t=>nT(n,t))}function D2(n){const e=n.children.length>0?` { ${n.children.map(D2).join(", ")} } `:"";return`${n.value}${e}`}function rT(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,js(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),js(e.params,t.params)||n.paramsSubject.next(t.params),function PW(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!js(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),js(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function iT(n,e){const t=js(n.params,e.params)&&function kW(n,e){return Yl(n,e)&&n.every((t,r)=>js(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||iT(n.parent,e.parent))}let oT=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Et,this.activateEvents=new Xe,this.deactivateEvents=new Xe,this.attachEvents=new Xe,this.detachEvents=new Xe,this.parentContexts=Me($g),this.location=Me(Yo),this.changeDetector=Me(gs),this.environmentInjector=Me(so),this.inputBinder=Me(u0,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new be(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new be(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new be(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new be(4013,!1);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new mq(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Se({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[kr]})}}return n})();class mq{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===wh?this.route:e===$g?this.childContexts:this.parent.get(e,t)}}const u0=new xe("");let A2=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=$E([r.queryParams,r.params,r.data]).pipe(Ve(([o,s,a],c)=>(a={...o,...s,...a},0===c?q(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const s=function z$(n){const e=xt(n);if(!e)return null;const t=new sg(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac})}}return n})();function Gg(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function yq(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Gg(n,r,i);return Gg(n,r)})}(n,e,t);return new Na(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Gg(n,a)),s}}const r=function vq(n){return new wh(new V(n.url),new V(n.params),new V(n.queryParams),new V(n.fragment),new V(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>Gg(n,o));return new Na(r,i)}}const sT="ngNavigationCancelingError";function S2(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Jl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=R2(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function R2(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[sT]=!0,r.cancellationCode=e,t&&(r.url=t),r}function M2(n){return n&&n[sT]}let P2=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=En({type:n,selectors:[["ng-component"]],standalone:!0,features:[Qo],decls:1,vars:0,template:function(r,i){1&r&&At(0,"router-outlet")},dependencies:[oT],encapsulation:2})}}return n})();function aT(n){const e=n.children&&n.children.map(aT),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Et&&(t.component=P2),t}function vs(n){return n.outlet||Et}function zg(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Aq{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),rT(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ih(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ih(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ih(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ih(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new hq(o.value.snapshot))}),e.children.length&&this.forwardEvent(new uq(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(rT(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),rT(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=zg(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class N2{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class d0{constructor(e,t){this.component=e,this.route=t}}function Sq(n,e,t){const r=n._root;return Wg(r,e?e._root:null,t,[r.value])}function Eh(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function _b(n){return null!==$u(n)}(n)?e.get(n):n:r}function Wg(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ih(e);return n.children.forEach(s=>{(function Mq(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function Pq(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Yl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Yl(n.url,e.url)||!js(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!iT(n,e)||!js(n.queryParams,e.queryParams);default:return!iT(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new N2(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Wg(n,e,o.component?a?a.children:null:t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new d0(a.outlet.component,s))}else s&&qg(e,a,i),i.canActivateChecks.push(new N2(r)),Wg(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>qg(a,t.getContext(s),i)),i}function qg(n,e,t){const r=Ih(n),i=n.value;Object.entries(r).forEach(([o,s])=>{qg(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new d0(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Kg(n){return"function"==typeof n}function O2(n){return n instanceof Jv||"EmptyError"===n?.name}const h0=Symbol("INITIAL_VALUE");function Th(){return Ve(n=>$E(n.map(e=>e.pipe(li(1),Og(h0)))).pipe(ye(e=>{for(const t of e)if(!0!==t){if(t===h0)return h0;if(!1===t||t instanceof vh)return t}return!0}),br(e=>e!==h0),li(1)))}function x2(n){return function Gr(...n){return bi(n)}(Ur(e=>{if(Jl(e))throw S2(0,e)}),ye(e=>!0===e))}class f0{constructor(e){this.segmentGroup=e||null}}class k2{constructor(e){this.urlTree=e}}function Ch(n){return Ng(new f0(n))}function F2(n){return Ng(new k2(n))}class Jq{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new be(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return q(r);if(i.numberOfChildren>1||!i.children[Et])return Ng(new be(4e3,!1));i=i.children[Et]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new vh(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new mn(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new be(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const cT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Zq(n,e,t,r,i){const o=lT(n,e,t);return o.matched?(r=function Iq(n,e){return n.providers&&!n._injector&&(n._injector=Fw(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function Kq(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?q(i.map(s=>{const a=Eh(s,n);return Ec(function Vq(n){return n&&Kg(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Th(),x2()):q(!0)}(r,e,t).pipe(ye(s=>!0===s?o:{...cT}))):q(o)}function lT(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...cT}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||MW)(t,n,e);if(!i)return{...cT};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function V2(n,e,t,r){return t.length>0&&function tK(n,e,t){return t.some(r=>p0(n,e,r)&&vs(r)!==Et)}(n,t,r)?{segmentGroup:new mn(e,eK(r,new mn(t,n.children))),slicedSegments:[]}:0===t.length&&function nK(n,e,t){return t.some(r=>p0(n,e,r))}(n,t,r)?{segmentGroup:new mn(n.segments,Xq(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new mn(n.segments,n.children),slicedSegments:t}}function Xq(n,e,t,r,i){const o={};for(const s of r)if(p0(n,t,s)&&!i[vs(s)]){const a=new mn([],{});o[vs(s)]=a}return{...i,...o}}function eK(n,e){const t={};t[Et]=e;for(const r of n)if(""===r.path&&vs(r)!==Et){const i=new mn([],{});t[vs(r)]=i}return t}function p0(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class sK{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Jq(this.urlSerializer,this.urlTree)}noMatchError(e){return new be(4002,!1)}recognize(){const e=V2(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Et).pipe(Ql(t=>{if(t instanceof k2)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof f0?this.noMatchError(t):t}),ye(t=>{const r=new l0([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Et,this.rootComponentType,null,{}),i=new Na(r,t),o=new C2("",i),s=function YW(n,e,t=null,r=null){return f2(h2(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Et).pipe(Ql(r=>{throw r instanceof f0?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=T2(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return R(i).pipe(xg(o=>{const s=r.children[o],a=function Cq(n,e){const t=n.filter(r=>vs(r)===e);return t.push(...n.filter(r=>vs(r)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),Xv((o,s)=>(o.push(...s),o)),Zv(null),function SW(n,e){const t=arguments.length>=2;return r=>r.pipe(n?br((i,o)=>n(i,o,r)):Zt,zE(1),t?Zv(e):Zx(()=>new Jv))}(),an(o=>{if(null===o)return Ch(r);const s=L2(o);return function aK(n){n.sort((e,t)=>e.value.outlet===Et?-1:t.value.outlet===Et?1:e.value.outlet.localeCompare(t.value.outlet))}(s),q(s)}))}processSegment(e,t,r,i,o,s){return R(t).pipe(xg(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,o,s).pipe(Ql(c=>{if(c instanceof f0)return q(null);throw c}))),wc(a=>!!a),Ql(a=>{if(O2(a))return function iK(n,e,t){return 0===e.length&&!n.children[t]}(r,i,o)?q([]):Ch(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,o,s,a){return function rK(n,e,t,r){return!!(vs(n)===r||r!==Et&&p0(e,t,n))&&("**"===n.path||lT(e,n,t).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s):Ch(i):Ch(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?F2(o):this.applyRedirects.lineralizeSegments(r,o).pipe(an(s=>{const a=new mn(s,{});return this.processSegment(e,t,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:d,positionalParamSegments:f}=lT(t,i,o);if(!a)return Ch(t);const m=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,f);return i.redirectTo.startsWith("/")?F2(m):this.applyRedirects.lineralizeSegments(i,m).pipe(an(y=>this.processSegment(e,r,t,y.concat(d),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a;if("**"===r.path){const c=i.length>0?t2(i).parameters:{};a=q({snapshot:new l0(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,B2(r),vs(r),r.component??r._loadedComponent??null,r,U2(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=Zq(t,r,i,e).pipe(ye(({matched:c,consumedSegments:d,remainingSegments:f,parameters:m})=>c?{snapshot:new l0(d,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,B2(r),vs(r),r.component??r._loadedComponent??null,r,U2(r)),consumedSegments:d,remainingSegments:f}:null));return a.pipe(Ve(c=>null===c?Ch(t):this.getChildConfig(e=r._injector??e,r,i).pipe(Ve(({routes:d})=>{const f=r._loadedInjector??e,{snapshot:m,consumedSegments:y,remainingSegments:b}=c,{segmentGroup:E,slicedSegments:D}=V2(t,y,b,d);if(0===D.length&&E.hasChildren())return this.processChildren(f,d,E).pipe(ye(j=>null===j?null:[new Na(m,j)]));if(0===d.length&&0===D.length)return q([new Na(m,[])]);const S=vs(r)===o;return this.processSegment(f,d,E,D,S?Et:o,!0).pipe(ye(j=>[new Na(m,j)]))}))))}getChildConfig(e,t,r){return t.children?q({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?q({routes:t._loadedRoutes,injector:t._loadedInjector}):function qq(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?q(!0):q(i.map(s=>{const a=Eh(s,n);return Ec(function Oq(n){return n&&Kg(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Th(),x2())}(e,t,r).pipe(an(i=>i?this.configLoader.loadChildren(e,t).pipe(Ur(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function Yq(n){return Ng(R2(!1,3))}())):q({routes:[],injector:e})}}function cK(n){const e=n.value.routeConfig;return e&&""===e.path}function L2(n){const e=[],t=new Set;for(const r of n){if(!cK(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=L2(r.children);e.push(new Na(r.value,i))}return e.filter(r=>!t.has(r))}function B2(n){return n.data||{}}function U2(n){return n.resolve||{}}function uK(n,e){return an(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return q(t);let o=0;return R(i).pipe(xg(s=>function dK(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!j2(i)&&(o[kg]=i.title),function hK(n,e,t,r){const i=function fK(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return q({});const o={};return R(i).pipe(an(s=>function pK(n,e,t,r){const i=zg(e)??r,o=Eh(n,i);return Ec(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[s],e,t,r).pipe(wc(),Ur(a=>{o[s]=a}))),zE(1),function Xx(n){return ye(()=>n)}(o),Ql(s=>O2(s)?en:Ng(s)))}(o,n,e,r).pipe(ye(s=>(n._resolvedData=s,n.data=T2(n,t).resolve,i&&j2(i)&&(n.data[kg]=i.title),null)))}(s.route,r,n,e)),Ur(()=>o++),zE(1),an(s=>o===i.length?q(t):en))})}function j2(n){return"string"==typeof n.title||null===n.title}function uT(n){return Ve(e=>{const t=n(e);return t?R(t).pipe(ye(()=>e)):q(e)})}const Dh=new xe("ROUTES");let dT=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Me(wO)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return q(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Ec(t.loadComponent()).pipe(ye(H2),Ur(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),WE(()=>{this.componentLoaders.delete(t)})),i=new Jx(r,()=>new G).pipe(GE());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function gK(n,e,t,r){return Ec(n.loadChildren()).pipe(ye(H2),an(i=>i instanceof PN||Array.isArray(i)?q(i):R(e.compileModuleAsync(i))),ye(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(t).injector,s=o.get(Dh,[],{optional:!0,self:!0}).flat()),{routes:s.map(aT),injector:o}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(WE(()=>{this.childrenLoaders.delete(r)})),s=new Jx(o,()=>new G).pipe(GE());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function H2(n){return function mK(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let g0=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new G,this.transitionAbortSubject=new G,this.configLoader=Me(dT),this.environmentInjector=Me(so),this.urlSerializer=Me(Vg),this.rootContexts=Me($g),this.inputBindingEnabled=null!==Me(u0,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>q(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new cq(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new aq(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new V({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:jg,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(br(o=>0!==o.id),ye(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),Ve(o=>{this.currentTransition=o;let s=!1,a=!1;return q(o).pipe(Ur(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ve(c=>{const d=c.currentBrowserUrl.toString(),f=!t.navigated||c.extractedUrl.toString()!==d||d!==c.currentUrlTree.toString();if(!f&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const y="";return this.events.next(new bh(c.id,this.urlSerializer.serialize(c.rawUrl),y,0)),c.resolve(null),en}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return q(c).pipe(Ve(y=>{const b=this.transitions?.getValue();return this.events.next(new a0(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),b!==this.transitions?.getValue()?en:Promise.resolve(y)}),function lK(n,e,t,r,i,o){return an(s=>function oK(n,e,t,r,i,o,s="emptyOnly"){return new sK(n,e,t,r,i,s,o).recognize()}(n,e,t,r,s.extractedUrl,i,o).pipe(ye(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Ur(y=>{o.targetSnapshot=y.targetSnapshot,o.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:y.urlAfterRedirects};const b=new v2(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(b)}));if(f&&t.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:y,extractedUrl:b,source:E,restoredState:D,extras:S}=c,j=new a0(y,this.urlSerializer.serialize(b),E,D);this.events.next(j);const O=E2(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:O,urlAfterRedirects:b,extras:{...S,skipLocationChange:!1,replaceUrl:!1}},q(o)}{const y="";return this.events.next(new bh(c.id,this.urlSerializer.serialize(c.extractedUrl),y,1)),c.resolve(null),en}}),Ur(c=>{const d=new rq(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),ye(c=>(this.currentTransition=o={...c,guards:Sq(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function Bq(n,e){return an(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?q({...t,guardsResult:!0}):function Uq(n,e,t,r){return R(n).pipe(an(i=>function Wq(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?q(o.map(a=>{const c=zg(e)??i,d=Eh(a,c);return Ec(function Fq(n){return n&&Kg(n.canDeactivate)}(d)?d.canDeactivate(n,e,t,r):c.runInContext(()=>d(n,e,t,r))).pipe(wc())})).pipe(Th()):q(!0)}(i.component,i.route,t,e,r)),wc(i=>!0!==i,!0))}(s,r,i,n).pipe(an(a=>a&&function Nq(n){return"boolean"==typeof n}(a)?function jq(n,e,t,r){return R(e).pipe(xg(i=>Pg(function $q(n,e){return null!==n&&e&&e(new lq(n)),q(!0)}(i.route.parent,r),function Hq(n,e){return null!==n&&e&&e(new dq(n)),q(!0)}(i.route,r),function zq(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function Rq(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>Yx(()=>q(s.guards.map(c=>{const d=zg(s.node)??t,f=Eh(c,d);return Ec(function kq(n){return n&&Kg(n.canActivateChild)}(f)?f.canActivateChild(r,n):d.runInContext(()=>f(r,n))).pipe(wc())})).pipe(Th())));return q(o).pipe(Th())}(n,i.path,t),function Gq(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return q(!0);const i=r.map(o=>Yx(()=>{const s=zg(e)??t,a=Eh(o,s);return Ec(function xq(n){return n&&Kg(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(wc())}));return q(i).pipe(Th())}(n,i.route,t))),wc(i=>!0!==i,!0))}(r,o,n,e):q(a)),ye(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Ur(c=>{if(o.guardsResult=c.guardsResult,Jl(c.guardsResult))throw S2(0,c.guardsResult);const d=new iq(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),br(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),uT(c=>{if(c.guards.canActivateChecks.length)return q(c).pipe(Ur(d=>{const f=new oq(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),Ve(d=>{let f=!1;return q(d).pipe(uK(t.paramsInheritanceStrategy,this.environmentInjector),Ur({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",2)}}))}),Ur(d=>{const f=new sq(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),uT(c=>{const d=f=>{const m=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(f.routeConfig).pipe(Ur(y=>{f.component=y}),ye(()=>{})));for(const y of f.children)m.push(...d(y));return m};return $E(d(c.targetSnapshot.root)).pipe(Zv(),li(1))}),uT(()=>this.afterPreactivation()),ye(c=>{const d=function _q(n,e,t){const r=Gg(n,e._root,t?t._root:void 0);return new w2(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:d},o}),Ur(()=>{this.events.next(new ZE)}),((n,e,t,r)=>ye(i=>(new Aq(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),li(1),Ur({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Tc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),hr(this.transitionAbortSubject.pipe(Ur(c=>{throw c}))),WE(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Ql(c=>{if(a=!0,M2(c))this.events.next(new Hg(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function bq(n){return M2(n)&&Jl(n.url)}(c)?this.events.next(new XE(c.url)):o.resolve(!1);else{this.events.next(new c0(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(d){o.reject(d)}}return en}))}))}cancelNavigationTransition(t,r,i){const o=new Hg(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function $2(n){return n!==jg}let G2=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Et);return r}getResolvedTitleForRoute(t){return t.data[kg]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:function(){return Me(_K)},providedIn:"root"})}}return n})(),_K=(()=>{class n extends G2{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(ve($x))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),yK=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:function(){return Me(bK)},providedIn:"root"})}}return n})();class vK{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let bK=(()=>{class n extends vK{static{this.\u0275fac=function(){let t;return function(i){return(t||(t=function $n(n){return Rs(()=>{const e=n.prototype.constructor,t=e[Ci]||Pp(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[Ci]||Pp(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}(n)))(i||n)}}()}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const m0=new xe("",{providedIn:"root",factory:()=>({})});let IK=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:function(){return Me(wK)},providedIn:"root"})}}return n})(),wK=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Qg=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Qg||{});function z2(n,e){n.events.pipe(br(t=>t instanceof Tc||t instanceof Hg||t instanceof c0||t instanceof bh),ye(t=>t instanceof Tc||t instanceof bh?Qg.COMPLETE:t instanceof Hg&&(0===t.code||1===t.code)?Qg.REDIRECTING:Qg.FAILED),br(t=>t!==Qg.REDIRECTING),li(1)).subscribe(()=>{e()})}function EK(n){throw n}function TK(n,e,t){return e.parse("/")}const CK={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},DK={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let So=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Me(bO),this.isNgZoneEnabled=!1,this._events=new G,this.options=Me(m0,{optional:!0})||{},this.pendingTasks=Me(IO),this.errorHandler=this.options.errorHandler||EK,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||TK,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Me(IK),this.routeReuseStrategy=Me(yK),this.titleStrategy=Me(G2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Me(Dh,{optional:!0})?.flat()??[],this.navigationTransitions=Me(g0),this.urlSerializer=Me(Vg),this.location=Me(mE),this.componentInputBindingEnabled=!!Me(u0,{optional:!0}),this.eventsSubscription=new St,this.isNgZoneEnabled=Me(Pt)instanceof Pt&&Pt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new vh,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=E2(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(W2(r)&&this._events.next(r));if(r instanceof a0)$2(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof bh)this.rawUrlTree=i.rawUrl;else if(r instanceof v2){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof ZE)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Hg)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof XE){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||$2(i.source)};this.scheduleNavigation(o,jg,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof c0&&this.restoreHistory(i,!0),r instanceof Tc&&(this.navigated=!0),W2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),jg,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(aT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,d=c?this.currentUrlTree.fragment:s;let m,f=null;switch(a){case"merge":f={...this.currentUrlTree.queryParams,...o};break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}null!==f&&(f=this.removeEmptyProps(f));try{m=h2(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),m=this.currentUrlTree.root}return f2(m,t,f,d??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Jl(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,jg,null,r)}navigate(t,r={skipLocationChange:!1}){return function AK(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new be(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...CK}:!1===r?{...DK}:r,Jl(t))return r2(this.currentUrlTree,t,i);const o=this.parseUrl(t);return r2(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,d;s?(a=s.resolve,c=s.reject,d=s.promise):d=new Promise((m,y)=>{a=m,c=y});const f=this.pendingTasks.add();return z2(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function W2(n){return!(n instanceof ZE||n instanceof XE)}let Cc=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new G,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(d=>{d instanceof Tc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function MR(n,e,t){return function mB(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?RR:Yy}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)($(So),$(wh),function ma(n){return function rI(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(Xu(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(Fr(),n)}("tabindex"),$(To),$(un),$(Kl))}}static{this.\u0275dir=Se({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Dt("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&hn("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",gh],skipLocationChange:["skipLocationChange","skipLocationChange",gh],replaceUrl:["replaceUrl","replaceUrl",gh],routerLink:"routerLink"},standalone:!0,features:[GM,kr]})}}return n})();class q2{}let MK=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(br(t=>t instanceof Tc),xg(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Fw(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return R(i).pipe(Xt())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):q(null);const o=i.pipe(an(s=>null===s?q(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?R([o,this.loader.loadComponent(r)]).pipe(Xt()):o})}static{this.\u0275fac=function(r){return new(r||n)(ve(So),ve(wO),ve(so),ve(q2),ve(dT))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const hT=new xe("");let K2=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof a0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Tc?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof bh&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof b2&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new b2(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){!function _M(){throw new Error("invalid")}()}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac})}}return n})();function Oa(n,e){return{\u0275kind:n,\u0275providers:e}}function Y2(){const n=Me(ai);return e=>{const t=n.get(vc);if(e!==t.components[0])return;const r=n.get(So),i=n.get(J2);1===n.get(fT)&&r.initialNavigation(),n.get(Z2,null,Ct.Optional)?.setUpPreloading(),n.get(hT,null,Ct.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const J2=new xe("",{factory:()=>new G}),fT=new xe("",{providedIn:"root",factory:()=>1}),Z2=new xe("");function xK(n){return Oa(0,[{provide:Z2,useExisting:MK},{provide:q2,useExisting:n}])}const X2=new xe("ROUTER_FORROOT_GUARD"),FK=[mE,{provide:Vg,useClass:qE},So,$g,{provide:wh,useFactory:function Q2(n){return n.routerState.root},deps:[So]},dT,[]];function VK(){return new RO("Router",So)}let ek=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[FK,[],{provide:Dh,multi:!0,useValue:t},{provide:X2,useFactory:jK,deps:[[So,new Fl,new Fd]]},{provide:m0,useValue:r||{}},r?.useHash?{provide:Kl,useClass:Y$}:{provide:Kl,useClass:ax},{provide:hT,useFactory:()=>{const n=Me(gz),e=Me(Pt),t=Me(m0),r=Me(g0),i=Me(Vg);return t.scrollOffset&&n.setOffset(t.scrollOffset),new K2(i,r,n,e,t)}},r?.preloadingStrategy?xK(r.preloadingStrategy).\u0275providers:[],{provide:RO,multi:!0,useFactory:VK},r?.initialNavigation?HK(r):[],r?.bindToComponentInputs?Oa(8,[A2,{provide:u0,useExisting:A2}]).\u0275providers:[],[{provide:tk,useFactory:Y2},{provide:oE,multi:!0,useExisting:tk}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Dh,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(ve(X2,8))}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})();function jK(n){return"guarded"}function HK(n){return["disabled"===n.initialNavigation?Oa(3,[{provide:Jw,multi:!0,useFactory:()=>{const e=Me(So);return()=>{e.setUpLocationChangeListener()}}},{provide:fT,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Oa(2,[{provide:fT,useValue:0},{provide:Jw,multi:!0,deps:[ai],useFactory:e=>{const t=e.get(K$,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(So),o=e.get(J2);z2(i,()=>{r(!0)}),e.get(g0).afterPreactivation=()=>(r(!0),o.closed?q(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const tk=new xe("");var Ah=ct(852);(0,Ah.registerVersion)("firebase","10.14.1","app");class WK extends St{constructor(e,t){super()}schedule(e,t=0){return this}}const _0={setInterval(n,e,...t){const{delegate:r}=_0;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=_0;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class nk extends WK{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return _0.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&_0.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,se(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const pT={now:()=>(pT.delegate||Date).now(),delegate:void 0};class Yg{constructor(e,t=Yg.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Yg.now=pT.now;class rk extends Yg{constructor(e,t=Yg.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const QK=new class KK extends rk{}(class qK extends nk{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),y0=new rk(nk),YK=y0,ik=new Qd("ANGULARFIRE2_VERSION");class ok{constructor(){return((n,e)=>{const t=(0,Ah.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r})(ZK)}}const ZK="app-check";function Sh(){}class sk{zone;delegate;constructor(e,t=QK){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},t,r)}}class XK{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Sh,{},Sh,Sh)),t.pipe(Ur({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ak=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new sk(Zone.current)),this.insideAngular=t.run(()=>new sk(Zone.current,y0)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(ve(Pt))};static \u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ro(n){return function tQ(n){return function(t){return(t=t.lift(new XK(n.ngZone))).pipe(Ei(n.outsideAngular),Li(n.insideAngular))}}(function Rh(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}())(n)}var Xl=ct(345);Xl.A.registerVersion("firebase","10.14.1","app-compat");const oQ=["ngOnDestroy"];class ck{constructor(e){return e}}const v0=new xe("angularfire2.app.options"),b0=new xe("angularfire2.app.name");function gT(n,e,t){const i="object"==typeof t&&t||{};i.name=i.name||"string"==typeof t&&t||"[DEFAULT]";const s=Xl.A.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Xl.A.initializeApp(n,i));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){const a=!!module.hot;cQ("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new ck(s)}const cQ=(n,...e)=>{},lQ={provide:ck,useFactory:gT,deps:[v0,Pt,[new Fl,b0]]};let uQ=(()=>{class n{static initializeApp(t,r){return{ngModule:n,providers:[{provide:v0,useValue:t},{provide:b0,useValue:r}]}}constructor(t){Xl.A.registerVersion("angularfire",ik.full,"core"),Xl.A.registerVersion("angularfire",ik.full,"app-compat"),Xl.A.registerVersion("angular",WR.full,t.toString())}static \u0275fac=function(r){return new(r||n)(ve(Ta))};static \u0275mod=ln({type:n});static \u0275inj=Wt({providers:[lQ]})}return n})();function lk(n,e,t,r,i){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return function dQ(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(i,s)||(uk("error",`${e} was already initialized on the ${t} Firebase App with different settings.${hQ?" You may need to reload as Firebase is not HMR aware.":""}`),uk("warn",{is:i,was:s})),o;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([n,a,i]),a}}const hQ=typeof module<"u"&&!!module.hot,uk=(n,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[],ct(955);class fQ extends G{constructor(e=1/0,t=1/0,r=pT){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=t.now();let a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}}function dk(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,Z({connector:()=>new fQ(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function hk(n,e){return C(e)?Ve(()=>n,e):Ve(()=>n)}const fk=new xe("angularfire2.auth.use-emulator"),pk=new xe("angularfire2.auth.settings"),gk=new xe("angularfire2.auth.tenant-id"),mk=new xe("angularfire2.auth.langugage-code"),_k=new xe("angularfire2.auth.use-device-language"),yk=new xe("angularfire.auth.persistence"),vk=(n,e,t,r,i,o,s,a)=>lk(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const c=e.runOutsideAngular(()=>n.auth());if(t&&c.useEmulator(...t),r&&(c.tenantId=r),c.languageCode=i,o&&c.useDeviceLanguage(),s)for(const[d,f]of Object.entries(s))c.settings[d]=f;return a&&c.setPersistence(a),c},[t,r,i,o,s,a]);let mT=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,i,o,s,a,c,d,f,m,y,b){const E=new G,D=q(void 0).pipe(Li(s.outsideAngular),Ve(()=>o.runOutsideAngular(()=>Promise.resolve().then(ct.bind(ct,955)))),ye(()=>gT(t,o,r)),ye(S=>vk(S,o,a,d,f,m,c,y)),dk({bufferSize:1,refCount:!1}));if(qv(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=q(null);else{D.pipe(wc()).subscribe();const S=D.pipe(Ve(J=>J.getRedirectResult().then(re=>re,()=>null)),Ro,dk({bufferSize:1,refCount:!1})),j=D.pipe(Ve(J=>new lt(re=>({unsubscribe:o.runOutsideAngular(()=>J.onAuthStateChanged(pe=>re.next(pe),pe=>re.error(pe),()=>re.complete()))})))),O=D.pipe(Ve(J=>new lt(re=>({unsubscribe:o.runOutsideAngular(()=>J.onIdTokenChanged(pe=>re.next(pe),pe=>re.error(pe),()=>re.complete()))}))));this.authState=S.pipe(hk(j),Ei(s.outsideAngular),Li(s.insideAngular)),this.user=S.pipe(hk(O),Ei(s.outsideAngular),Li(s.insideAngular)),this.idToken=this.user.pipe(Ve(J=>J?R(J.getIdToken()):q(null))),this.idTokenResult=this.user.pipe(Ve(J=>J?R(J.getIdTokenResult()):q(null))),this.credential=M(S,E,this.authState.pipe(br(J=>!J))).pipe(ye(J=>J?.user?J:null),Ei(s.outsideAngular),Li(s.insideAngular))}return((n,e,t,r={})=>new Proxy(n,{get:(i,o)=>t.runOutsideAngular(()=>{if(n[o])return r?.spy?.get&&r.spy.get(o,n[o]),n[o];if(oQ.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(a=>{const c=a?.[o];return"function"==typeof c?c.bind(a):c?.then?c.then(d=>t.run(()=>d)):t.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,d)=>s.then(f=>{const m=f?.(...d);return r?.spy?.apply&&r.spy.apply(o,d,m),m})})})}))(this,D,o,{spy:{apply:(S,j,O)=>{(S.startsWith("signIn")||S.startsWith("createUser"))&&O.then(J=>E.next(J))}}})}static \u0275fac=function(r){return new(r||n)(ve(v0),ve(b0,8),ve(Ta),ve(Pt),ve(ak),ve(fk,8),ve(pk,8),ve(gk,8),ve(mk,8),ve(_k,8),ve(yk,8),ve(ok,8))};static \u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();function _T(){return z((n,e)=>{let t,r=!1;n.subscribe(te(e,i=>{const o=t;t=i,r&&e.next([o,i]),r=!0}))})}var eu,Ek,ue=ct(467),bk=ct(362),$s=ct(41),on=ct(76),Ik=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wk={};(function(){var n;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(k,A,N){N||(N=0);var L=Array(16);if("string"==typeof A)for(var H=0;16>H;++H)L[H]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(H=0;16>H;++H)L[H]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;var Y=k.g[3],x=(A=k.g[0])+(Y^(N=k.g[1])&((H=k.g[2])^Y))+L[0]+3614090360&4294967295;x=(N=(H=(Y=(A=(N=(H=(Y=(A=(N=(H=(Y=(A=(N=(H=(Y=(A=(N=(H=(Y=(A=(N=(H=(Y=(A=(N=(H=(Y=(A=(N=(H=(Y=(A=(N=(H=(Y=(A=(N=(H=(Y=(A=(N=(H=(Y=(A=(N=(H=(Y=(A=(N=(H=(Y=(A=(N=(H=(Y=(A=(N=(H=(Y=(A=N+(x<<7&4294967295|x>>>25))+((x=Y+(H^A&(N^H))+L[1]+3905402710&4294967295)<<12&4294967295|x>>>20))+((x=H+(N^Y&(A^N))+L[2]+606105819&4294967295)<<17&4294967295|x>>>15))+((x=N+(A^H&(Y^A))+L[3]+3250441966&4294967295)<<22&4294967295|x>>>10))+((x=A+(Y^N&(H^Y))+L[4]+4118548399&4294967295)<<7&4294967295|x>>>25))+((x=Y+(H^A&(N^H))+L[5]+1200080426&4294967295)<<12&4294967295|x>>>20))+((x=H+(N^Y&(A^N))+L[6]+2821735955&4294967295)<<17&4294967295|x>>>15))+((x=N+(A^H&(Y^A))+L[7]+4249261313&4294967295)<<22&4294967295|x>>>10))+((x=A+(Y^N&(H^Y))+L[8]+1770035416&4294967295)<<7&4294967295|x>>>25))+((x=Y+(H^A&(N^H))+L[9]+2336552879&4294967295)<<12&4294967295|x>>>20))+((x=H+(N^Y&(A^N))+L[10]+4294925233&4294967295)<<17&4294967295|x>>>15))+((x=N+(A^H&(Y^A))+L[11]+2304563134&4294967295)<<22&4294967295|x>>>10))+((x=A+(Y^N&(H^Y))+L[12]+1804603682&4294967295)<<7&4294967295|x>>>25))+((x=Y+(H^A&(N^H))+L[13]+4254626195&4294967295)<<12&4294967295|x>>>20))+((x=H+(N^Y&(A^N))+L[14]+2792965006&4294967295)<<17&4294967295|x>>>15))+((x=N+(A^H&(Y^A))+L[15]+1236535329&4294967295)<<22&4294967295|x>>>10))+((x=A+(H^Y&(N^H))+L[1]+4129170786&4294967295)<<5&4294967295|x>>>27))+((x=Y+(N^H&(A^N))+L[6]+3225465664&4294967295)<<9&4294967295|x>>>23))+((x=H+(A^N&(Y^A))+L[11]+643717713&4294967295)<<14&4294967295|x>>>18))+((x=N+(Y^A&(H^Y))+L[0]+3921069994&4294967295)<<20&4294967295|x>>>12))+((x=A+(H^Y&(N^H))+L[5]+3593408605&4294967295)<<5&4294967295|x>>>27))+((x=Y+(N^H&(A^N))+L[10]+38016083&4294967295)<<9&4294967295|x>>>23))+((x=H+(A^N&(Y^A))+L[15]+3634488961&4294967295)<<14&4294967295|x>>>18))+((x=N+(Y^A&(H^Y))+L[4]+3889429448&4294967295)<<20&4294967295|x>>>12))+((x=A+(H^Y&(N^H))+L[9]+568446438&4294967295)<<5&4294967295|x>>>27))+((x=Y+(N^H&(A^N))+L[14]+3275163606&4294967295)<<9&4294967295|x>>>23))+((x=H+(A^N&(Y^A))+L[3]+4107603335&4294967295)<<14&4294967295|x>>>18))+((x=N+(Y^A&(H^Y))+L[8]+1163531501&4294967295)<<20&4294967295|x>>>12))+((x=A+(H^Y&(N^H))+L[13]+2850285829&4294967295)<<5&4294967295|x>>>27))+((x=Y+(N^H&(A^N))+L[2]+4243563512&4294967295)<<9&4294967295|x>>>23))+((x=H+(A^N&(Y^A))+L[7]+1735328473&4294967295)<<14&4294967295|x>>>18))+((x=N+(Y^A&(H^Y))+L[12]+2368359562&4294967295)<<20&4294967295|x>>>12))+((x=A+(N^H^Y)+L[5]+4294588738&4294967295)<<4&4294967295|x>>>28))+((x=Y+(A^N^H)+L[8]+2272392833&4294967295)<<11&4294967295|x>>>21))+((x=H+(Y^A^N)+L[11]+1839030562&4294967295)<<16&4294967295|x>>>16))+((x=N+(H^Y^A)+L[14]+4259657740&4294967295)<<23&4294967295|x>>>9))+((x=A+(N^H^Y)+L[1]+2763975236&4294967295)<<4&4294967295|x>>>28))+((x=Y+(A^N^H)+L[4]+1272893353&4294967295)<<11&4294967295|x>>>21))+((x=H+(Y^A^N)+L[7]+4139469664&4294967295)<<16&4294967295|x>>>16))+((x=N+(H^Y^A)+L[10]+3200236656&4294967295)<<23&4294967295|x>>>9))+((x=A+(N^H^Y)+L[13]+681279174&4294967295)<<4&4294967295|x>>>28))+((x=Y+(A^N^H)+L[0]+3936430074&4294967295)<<11&4294967295|x>>>21))+((x=H+(Y^A^N)+L[3]+3572445317&4294967295)<<16&4294967295|x>>>16))+((x=N+(H^Y^A)+L[6]+76029189&4294967295)<<23&4294967295|x>>>9))+((x=A+(N^H^Y)+L[9]+3654602809&4294967295)<<4&4294967295|x>>>28))+((x=Y+(A^N^H)+L[12]+3873151461&4294967295)<<11&4294967295|x>>>21))+((x=H+(Y^A^N)+L[15]+530742520&4294967295)<<16&4294967295|x>>>16))+((x=N+(H^Y^A)+L[2]+3299628645&4294967295)<<23&4294967295|x>>>9))+((x=A+(H^(N|~Y))+L[0]+4096336452&4294967295)<<6&4294967295|x>>>26))+((x=Y+(N^(A|~H))+L[7]+1126891415&4294967295)<<10&4294967295|x>>>22))+((x=H+(A^(Y|~N))+L[14]+2878612391&4294967295)<<15&4294967295|x>>>17))+((x=N+(Y^(H|~A))+L[5]+4237533241&4294967295)<<21&4294967295|x>>>11))+((x=A+(H^(N|~Y))+L[12]+1700485571&4294967295)<<6&4294967295|x>>>26))+((x=Y+(N^(A|~H))+L[3]+2399980690&4294967295)<<10&4294967295|x>>>22))+((x=H+(A^(Y|~N))+L[10]+4293915773&4294967295)<<15&4294967295|x>>>17))+((x=N+(Y^(H|~A))+L[1]+2240044497&4294967295)<<21&4294967295|x>>>11))+((x=A+(H^(N|~Y))+L[8]+1873313359&4294967295)<<6&4294967295|x>>>26))+((x=Y+(N^(A|~H))+L[15]+4264355552&4294967295)<<10&4294967295|x>>>22))+((x=H+(A^(Y|~N))+L[6]+2734768916&4294967295)<<15&4294967295|x>>>17))+((x=N+(Y^(H|~A))+L[13]+1309151649&4294967295)<<21&4294967295|x>>>11))+((Y=(A=N+((x=A+(H^(N|~Y))+L[4]+4149444226&4294967295)<<6&4294967295|x>>>26))+((x=Y+(N^(A|~H))+L[11]+3174756917&4294967295)<<10&4294967295|x>>>22))^((H=Y+((x=H+(A^(Y|~N))+L[2]+718787259&4294967295)<<15&4294967295|x>>>17))|~A))+L[9]+3951481745&4294967295,k.g[0]=k.g[0]+A&4294967295,k.g[1]=k.g[1]+(H+(x<<21&4294967295|x>>>11))&4294967295,k.g[2]=k.g[2]+H&4294967295,k.g[3]=k.g[3]+Y&4294967295}function s(k,A){this.h=A;for(var N=[],L=!0,H=k.length-1;0<=H;H--){var Y=0|k[H];L&&Y==A||(N[H]=Y,L=!1)}this.g=N}(function e(k,A){function N(){}N.prototype=A.prototype,k.D=A.prototype,k.prototype=new N,k.prototype.constructor=k,k.C=function(L,H,Y){for(var x=Array(arguments.length-2),_i=2;_i<arguments.length;_i++)x[_i-2]=arguments[_i];return A.prototype[H].apply(L,x)}})(r,function t(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(k,A){void 0===A&&(A=k.length);for(var N=A-this.blockSize,L=this.B,H=this.h,Y=0;Y<A;){if(0==H)for(;Y<=N;)i(this,k,Y),Y+=this.blockSize;if("string"==typeof k){for(;Y<A;)if(L[H++]=k.charCodeAt(Y++),H==this.blockSize){i(this,L),H=0;break}}else for(;Y<A;)if(L[H++]=k[Y++],H==this.blockSize){i(this,L),H=0;break}}this.h=H,this.o+=A},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var A=1;A<k.length-8;++A)k[A]=0;var N=8*this.o;for(A=k.length-8;A<k.length;++A)k[A]=255&N,N/=256;for(this.u(k),k=Array(16),A=N=0;4>A;++A)for(var L=0;32>L;L+=8)k[N++]=this.g[A]>>>L&255;return k};var a={};function c(k){return-128<=k&&128>k?function o(k,A){var N=a;return Object.prototype.hasOwnProperty.call(N,k)?N[k]:N[k]=A(k)}(k,function(A){return new s([0|A],0>A?-1:0)}):new s([0|k],0>k?-1:0)}function d(k){if(isNaN(k)||!isFinite(k))return m;if(0>k)return S(d(-k));for(var A=[],N=1,L=0;k>=N;L++)A[L]=k/N|0,N*=4294967296;return new s(A,0)}var m=c(0),y=c(1),b=c(16777216);function E(k){if(0!=k.h)return!1;for(var A=0;A<k.g.length;A++)if(0!=k.g[A])return!1;return!0}function D(k){return-1==k.h}function S(k){for(var A=k.g.length,N=[],L=0;L<A;L++)N[L]=~k.g[L];return new s(N,~k.h).add(y)}function j(k,A){return k.add(S(A))}function O(k,A){for(;(65535&k[A])!=k[A];)k[A+1]+=k[A]>>>16,k[A]&=65535,A++}function J(k,A){this.g=k,this.h=A}function re(k,A){if(E(A))throw Error("division by zero");if(E(k))return new J(m,m);if(D(k))return A=re(S(k),A),new J(S(A.g),S(A.h));if(D(A))return A=re(k,S(A)),new J(S(A.g),A.h);if(30<k.g.length){if(D(k)||D(A))throw Error("slowDivide_ only works with positive integers.");for(var N=y,L=A;0>=L.l(k);)N=pe(N),L=pe(L);var H=Ae(N,1),Y=Ae(L,1);for(L=Ae(L,2),N=Ae(N,2);!E(L);){var x=Y.add(L);0>=x.l(k)&&(H=H.add(N),Y=x),L=Ae(L,1),N=Ae(N,1)}return A=j(k,H.j(A)),new J(H,A)}for(H=m;0<=k.l(A);){for(N=Math.max(1,Math.floor(k.m()/A.m())),L=48>=(L=Math.ceil(Math.log(N)/Math.LN2))?1:Math.pow(2,L-48),x=(Y=d(N)).j(A);D(x)||0<x.l(k);)x=(Y=d(N-=L)).j(A);E(Y)&&(Y=y),H=H.add(Y),k=j(k,x)}return new J(H,k)}function pe(k){for(var A=k.g.length+1,N=[],L=0;L<A;L++)N[L]=k.i(L)<<1|k.i(L-1)>>>31;return new s(N,k.h)}function Ae(k,A){var N=A>>5;A%=32;for(var L=k.g.length-N,H=[],Y=0;Y<L;Y++)H[Y]=0<A?k.i(Y+N)>>>A|k.i(Y+N+1)<<32-A:k.i(Y+N);return new s(H,k.h)}(n=s.prototype).m=function(){if(D(this))return-S(this).m();for(var k=0,A=1,N=0;N<this.g.length;N++){var L=this.i(N);k+=(0<=L?L:4294967296+L)*A,A*=4294967296}return k},n.toString=function(k){if(2>(k=k||10)||36<k)throw Error("radix out of range: "+k);if(E(this))return"0";if(D(this))return"-"+S(this).toString(k);for(var A=d(Math.pow(k,6)),N=this,L="";;){var H=re(N,A).g,Y=((0<(N=j(N,H.j(A))).g.length?N.g[0]:N.h)>>>0).toString(k);if(E(N=H))return Y+L;for(;6>Y.length;)Y="0"+Y;L=Y+L}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h},n.l=function(k){return D(k=j(this,k))?-1:E(k)?0:1},n.abs=function(){return D(this)?S(this):this},n.add=function(k){for(var A=Math.max(this.g.length,k.g.length),N=[],L=0,H=0;H<=A;H++){var Y=L+(65535&this.i(H))+(65535&k.i(H)),x=(Y>>>16)+(this.i(H)>>>16)+(k.i(H)>>>16);L=x>>>16,N[H]=(x&=65535)<<16|(Y&=65535)}return new s(N,-2147483648&N[N.length-1]?-1:0)},n.j=function(k){if(E(this)||E(k))return m;if(D(this))return D(k)?S(this).j(S(k)):S(S(this).j(k));if(D(k))return S(this.j(S(k)));if(0>this.l(b)&&0>k.l(b))return d(this.m()*k.m());for(var A=this.g.length+k.g.length,N=[],L=0;L<2*A;L++)N[L]=0;for(L=0;L<this.g.length;L++)for(var H=0;H<k.g.length;H++){var Y=this.i(L)>>>16,x=65535&this.i(L),_i=k.i(H)>>>16,Fo=65535&k.i(H);N[2*L+2*H]+=x*Fo,O(N,2*L+2*H),N[2*L+2*H+1]+=Y*Fo,O(N,2*L+2*H+1),N[2*L+2*H+1]+=x*_i,O(N,2*L+2*H+1),N[2*L+2*H+2]+=Y*_i,O(N,2*L+2*H+2)}for(L=0;L<A;L++)N[L]=N[2*L+1]<<16|N[2*L];for(L=A;L<2*A;L++)N[L]=0;return new s(N,0)},n.A=function(k){return re(this,k).h},n.and=function(k){for(var A=Math.max(this.g.length,k.g.length),N=[],L=0;L<A;L++)N[L]=this.i(L)&k.i(L);return new s(N,this.h&k.h)},n.or=function(k){for(var A=Math.max(this.g.length,k.g.length),N=[],L=0;L<A;L++)N[L]=this.i(L)|k.i(L);return new s(N,this.h|k.h)},n.xor=function(k){for(var A=Math.max(this.g.length,k.g.length),N=[],L=0;L<A;L++)N[L]=this.i(L)^k.i(L);return new s(N,this.h^k.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ek=wk.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=function f(k,A){if(0==k.length)throw Error("number format error: empty string");if(2>(A=A||10)||36<A)throw Error("radix out of range: "+A);if("-"==k.charAt(0))return S(f(k.substring(1),A));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=d(Math.pow(A,8)),L=m,H=0;H<k.length;H+=8){var Y=Math.min(8,k.length-H),x=parseInt(k.substring(H,H+Y),A);8>Y?(Y=d(Math.pow(A,Y)),L=L.j(Y).add(d(x))):L=(L=L.j(N)).add(d(x))}return L},eu=wk.Integer=s}).apply(typeof Ik<"u"?Ik:typeof self<"u"?self:typeof window<"u"?window:{});var Tk,Jg,Ck,w0,yT,Dk,Ak,Sk,I0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xa={};(function(){var n,e="function"==typeof Object.defineProperties?Object.defineProperty:function(h,_,I){return h==Array.prototype||h==Object.prototype||(h[_]=I.value),h},r=function t(h){h=["object"==typeof globalThis&&globalThis,h,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof I0&&I0];for(var _=0;_<h.length;++_){var I=h[_];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}(this);!function i(h,_){if(_)e:{var I=r;h=h.split(".");for(var T=0;T<h.length-1;T++){var K=h[T];if(!(K in I))break e;I=I[K]}(_=_(T=I[h=h[h.length-1]]))!=T&&null!=_&&e(I,h,{configurable:!0,writable:!0,value:_})}}("Array.prototype.values",function(h){return h||function(){return function o(h,_){h instanceof String&&(h+="");var I=0,T=!1,K={next:function(){if(!T&&I<h.length){var ae=I++;return{value:_(ae,h[ae]),done:!1}}return T=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}(this,function(_,I){return I})}});var s=s||{},a=this||self;function c(h){var _=typeof h;return"array"==(_="object"!=_?_:h?Array.isArray(h)?"array":_:"null")||"object"==_&&"number"==typeof h.length}function d(h){var _=typeof h;return"object"==_&&null!=h||"function"==_}function f(h,_,I){return h.call.apply(h.bind,arguments)}function m(h,_,I){if(!h)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,T),h.apply(_,K)}}return function(){return h.apply(_,arguments)}}function y(h,_,I){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?f:m).apply(null,arguments)}function b(h,_){var I=Array.prototype.slice.call(arguments,1);return function(){var T=I.slice();return T.push.apply(T,arguments),h.apply(this,T)}}function E(h,_){function I(){}I.prototype=_.prototype,h.aa=_.prototype,h.prototype=new I,h.prototype.constructor=h,h.Qb=function(T,K,ae){for(var Oe=Array(arguments.length-2),An=2;An<arguments.length;An++)Oe[An-2]=arguments[An];return _.prototype[K].apply(T,Oe)}}function D(h){const _=h.length;if(0<_){const I=Array(_);for(let T=0;T<_;T++)I[T]=h[T];return I}return[]}function S(h,_){for(let I=1;I<arguments.length;I++){const T=arguments[I];if(c(T)){const K=h.length||0,ae=T.length||0;h.length=K+ae;for(let Oe=0;Oe<ae;Oe++)h[K+Oe]=T[Oe]}else h.push(T)}}function O(h){return/^[\s\xa0]*$/.test(h)}function J(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function re(h){return re[" "](h),h}re[" "]=function(){};var pe=!(-1==J().indexOf("Gecko")||-1!=J().toLowerCase().indexOf("webkit")&&-1==J().indexOf("Edge")||-1!=J().indexOf("Trident")||-1!=J().indexOf("MSIE")||-1!=J().indexOf("Edge"));function Ae(h,_,I){for(const T in h)_.call(I,h[T],T,h)}function A(h){const _={};for(const I in h)_[I]=h[I];return _}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(h,_){let I,T;for(let K=1;K<arguments.length;K++){for(I in T=arguments[K],T)h[I]=T[I];for(let ae=0;ae<N.length;ae++)I=N[ae],Object.prototype.hasOwnProperty.call(T,I)&&(h[I]=T[I])}}function H(h){var _=1;h=h.split(":");const I=[];for(;0<_&&h.length;)I.push(h.shift()),_--;return h.length&&I.push(h.join(":")),I}function Y(h){a.setTimeout(()=>{throw h},0)}function x(){var h=Es;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}var Fo=new class j{constructor(_,I){this.i=_,this.j=I,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}(()=>new Ji,h=>h.reset());class Ji{constructor(){this.next=this.g=this.h=null}set(_,I){this.h=_,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let yi,Xs=!1,Es=new class _i{constructor(){this.h=this.g=null}add(_,I){const T=Fo.get();T.set(_,I),this.h?this.h.next=T:this.g=T,this.h=T}},Ou=()=>{const h=a.Promise.resolve(void 0);yi=()=>{h.then(n_)}};var n_=()=>{for(var h;h=x();){try{h.h.call(h.g)}catch(I){Y(I)}var _=Fo;_.j(h),100>_.h&&(_.h++,h.next=_.g,_.g=h)}Xs=!1};function mo(){this.s=this.s,this.C=this.C}function Er(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}mo.prototype.s=!1,mo.prototype.ma=function(){this.s||(this.s=!0,this.N())},mo.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Er.prototype.h=function(){this.defaultPrevented=!0};var Jc=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const I=()=>{};a.addEventListener("test",I,_),a.removeEventListener("test",I,_)}catch{}return h}();function _o(h,_){if(Er.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var I=this.type=h.type,T=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget){if(pe){e:{try{re(_.nodeName);var K=!0;break e}catch{}K=!1}K||(_=null)}}else"mouseover"==I?_=h.fromElement:"mouseout"==I&&(_=h.toElement);this.relatedTarget=_,T?(this.clientX=void 0!==T.clientX?T.clientX:T.pageX,this.clientY=void 0!==T.clientY?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=void 0!==h.clientX?h.clientX:h.pageX,this.clientY=void 0!==h.clientY?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType="string"==typeof h.pointerType?h.pointerType:xu[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&_o.aa.h.call(this)}}E(_o,Er);var xu={2:"touch",3:"pen",4:"mouse"};_o.prototype.h=function(){_o.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ea="closure_listenable_"+(1e6*Math.random()|0),za=0;function r_(h,_,I,T,K){this.listener=h,this.proxy=null,this.src=_,this.type=I,this.capture=!!T,this.ha=K,this.key=++za,this.da=this.fa=!1}function Df(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Zc(h){this.src=h,this.g={},this.h=0}function i_(h,_){var I=_.type;if(I in h.g){var ae,T=h.g[I],K=Array.prototype.indexOf.call(T,_,void 0);(ae=0<=K)&&Array.prototype.splice.call(T,K,1),ae&&(Df(_),0==h.g[I].length&&(delete h.g[I],h.h--))}}function Af(h,_,I,T){for(var K=0;K<h.length;++K){var ae=h[K];if(!ae.da&&ae.listener==_&&ae.capture==!!I&&ae.ha==T)return K}return-1}Zc.prototype.add=function(h,_,I,T,K){var ae=h.toString();(h=this.g[ae])||(h=this.g[ae]=[],this.h++);var Oe=Af(h,_,T,K);return-1<Oe?(_=h[Oe],I||(_.fa=!1)):((_=new r_(_,this.src,ae,!!T,K)).fa=I,h.push(_)),_};var o_="closure_lm_"+(1e6*Math.random()|0),s_={};function a_(h,_,I,T,K){if(T&&T.once)return Z1(h,_,I,T,K);if(Array.isArray(_)){for(var ae=0;ae<_.length;ae++)a_(h,_[ae],I,T,K);return null}return I=Rf(I),h&&h[ea]?h.K(_,I,d(T)?!!T.capture:!!T,K):c_(h,_,I,!1,T,K)}function c_(h,_,I,T,K,ae){if(!_)throw Error("Invalid event type");var Oe=d(K)?!!K.capture:!!K,An=ku(h);if(An||(h[o_]=An=new Zc(h)),(I=An.add(_,I,T,Oe,ae)).proxy)return I;if(T=function WA(){const _=X1;return function h(I){return _.call(h.src,h.listener,I)}}(),I.proxy=T,T.src=h,T.listener=I,h.addEventListener)Jc||(K=Oe),void 0===K&&(K=!1),h.addEventListener(_.toString(),T,K);else if(h.attachEvent)h.attachEvent(l_(_.toString()),T);else{if(!h.addListener||!h.removeListener)throw Error("addEventListener and attachEvent are unavailable.");h.addListener(T)}return I}function Z1(h,_,I,T,K){if(Array.isArray(_)){for(var ae=0;ae<_.length;ae++)Z1(h,_[ae],I,T,K);return null}return I=Rf(I),h&&h[ea]?h.L(_,I,d(T)?!!T.capture:!!T,K):c_(h,_,I,!0,T,K)}function ta(h,_,I,T,K){if(Array.isArray(_))for(var ae=0;ae<_.length;ae++)ta(h,_[ae],I,T,K);else T=d(T)?!!T.capture:!!T,I=Rf(I),h&&h[ea]?(h=h.i,(_=String(_).toString())in h.g&&-1<(I=Af(ae=h.g[_],I,T,K))&&(Df(ae[I]),Array.prototype.splice.call(ae,I,1),0==ae.length&&(delete h.g[_],h.h--))):h&&(h=ku(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Af(_,I,T,K)),(I=-1<h?_[h]:null)&&Xc(I))}function Xc(h){if("number"!=typeof h&&h&&!h.da){var _=h.src;if(_&&_[ea])i_(_.i,h);else{var I=h.type,T=h.proxy;_.removeEventListener?_.removeEventListener(I,T,h.capture):_.detachEvent?_.detachEvent(l_(I),T):_.addListener&&_.removeListener&&_.removeListener(T),(I=ku(_))?(i_(I,h),0==I.h&&(I.src=null,_[o_]=null)):Df(h)}}}function l_(h){return h in s_?s_[h]:s_[h]="on"+h}function X1(h,_){if(h.da)h=!0;else{_=new _o(_,this);var I=h.listener,T=h.ha||h.src;h.fa&&Xc(h),h=I.call(T,_)}return h}function ku(h){return(h=h[o_])instanceof Zc?h:null}var Sf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rf(h){return"function"==typeof h?h:(h[Sf]||(h[Sf]=function(_){return h.handleEvent(_)}),h[Sf])}function $r(){mo.call(this),this.i=new Zc(this),this.M=this,this.F=null}function ei(h,_){var I,T=h.F;if(T)for(I=[];T;T=T.F)I.push(T);if(h=h.M,T=_.type||_,"string"==typeof _)_=new Er(_,h);else if(_ instanceof Er)_.target=_.target||h;else{var K=_;L(_=new Er(T,h),K)}if(K=!0,I)for(var ae=I.length-1;0<=ae;ae--){var Oe=_.g=I[ae];K=eb(Oe,T,!0,_)&&K}if(K=eb(Oe=_.g=h,T,!0,_)&&K,K=eb(Oe,T,!1,_)&&K,I)for(ae=0;ae<I.length;ae++)K=eb(Oe=_.g=I[ae],T,!1,_)&&K}function eb(h,_,I,T){if(!(_=h.i.g[String(_)]))return!0;_=_.concat();for(var K=!0,ae=0;ae<_.length;++ae){var Oe=_[ae];if(Oe&&!Oe.da&&Oe.capture==I){var An=Oe.listener,vi=Oe.ha||Oe.src;Oe.fa&&i_(h.i,Oe),K=!1!==An.call(vi,T)&&K}}return K&&!T.defaultPrevented}function f6(h,_,I){if("function"==typeof h)I&&(h=y(h,I));else{if(!h||"function"!=typeof h.handleEvent)throw Error("Invalid listener argument");h=y(h.handleEvent,h)}return 2147483647<Number(_)?-1:a.setTimeout(h,_||0)}function p6(h){h.g=f6(()=>{h.g=null,h.i&&(h.i=!1,p6(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}E($r,mo),$r.prototype[ea]=!0,$r.prototype.removeEventListener=function(h,_,I,T){ta(this,h,_,I,T)},$r.prototype.N=function(){if($r.aa.N.call(this),this.i){var _,h=this.i;for(_ in h.g){for(var I=h.g[_],T=0;T<I.length;T++)Df(I[T]);delete h.g[_],h.h--}}this.F=null},$r.prototype.K=function(h,_,I,T){return this.i.add(String(h),_,!1,I,T)},$r.prototype.L=function(h,_,I,T){return this.i.add(String(h),_,!0,I,T)};class Yoe extends mo{constructor(_,I){super(),this.m=_,this.l=I,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:p6(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function u_(h){mo.call(this),this.h=h,this.g={}}E(u_,mo);var g6=[];function m6(h){Ae(h.g,function(_,I){this.g.hasOwnProperty(I)&&Xc(_)},h),h.g={}}u_.prototype.N=function(){u_.aa.N.call(this),m6(this)},u_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qA=a.JSON.stringify,Joe=a.JSON.parse,Zoe=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function KA(){}function y6(){}KA.prototype.h=null;var d_={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function QA(){Er.call(this,"d")}function YA(){Er.call(this,"c")}E(QA,Er),E(YA,Er);var Fu={},v6=null;function tb(){return v6=v6||new $r}function b6(h){Er.call(this,Fu.La,h)}function h_(h){const _=tb();ei(_,new b6(_))}function I6(h,_){Er.call(this,Fu.STAT_EVENT,h),this.stat=_}function Zi(h){const _=tb();ei(_,new I6(_,h))}function w6(h,_){Er.call(this,Fu.Ma,h),this.size=_}function f_(h,_){if("function"!=typeof h)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},_)}function p_(){this.g=!0}function Mf(h,_,I,T){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+function nse(h,_){if(!h.g)return _;if(!_)return null;try{var I=JSON.parse(_);if(I)for(h=0;h<I.length;h++)if(Array.isArray(I[h])){var T=I[h];if(!(2>T.length)){var K=T[1];if(Array.isArray(K)&&!(1>K.length)){var ae=K[0];if("noop"!=ae&&"stop"!=ae&&"close"!=ae)for(var Oe=1;Oe<K.length;Oe++)K[Oe]=""}}}return qA(I)}catch{return _}}(h,I)+(T?" "+T:"")})}Fu.La="serverreachability",E(b6,Er),Fu.STAT_EVENT="statevent",E(I6,Er),Fu.Ma="timingevent",E(w6,Er),p_.prototype.xa=function(){this.g=!1},p_.prototype.info=function(){};var JA,nb={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},E6={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function rb(){}function el(h,_,I,T){this.j=h,this.i=_,this.l=I,this.R=T||1,this.U=new u_(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new T6}function T6(){this.i=null,this.g="",this.h=!1}E(rb,KA),rb.prototype.g=function(){return new XMLHttpRequest},rb.prototype.i=function(){return{}},JA=new rb;var C6={},ZA={};function XA(h,_,I){h.L=1,h.v=ab(Wa(_)),h.m=I,h.P=!0,D6(h,null)}function D6(h,_){h.F=Date.now(),ib(h),h.A=Wa(h.v);var I=h.A,T=h.R;Array.isArray(T)||(T=[String(T)]),U6(I.i,"t",T),h.C=0,I=h.j.J,h.h=new T6,h.g=i8(h.j,I?_:null,!h.m),0<h.O&&(h.M=new Yoe(y(h.Y,h,h.g),h.O)),_=h.U,I=h.g,T=h.ca;var K="readystatechange";Array.isArray(K)||(K&&(g6[0]=K.toString()),K=g6);for(var ae=0;ae<K.length;ae++){var Oe=a_(I,K[ae],T||_.handleEvent,!1,_.h||_);if(!Oe)break;_.g[Oe.key]=Oe}_=h.H?A(h.H):{},h.m?(h.u||(h.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,_)):(h.u="GET",h.g.ea(h.A,h.u,null,_)),h_(),function Xoe(h,_,I,T,K,ae){h.info(function(){if(h.g)if(ae)for(var Oe="",An=ae.split("&"),vi=0;vi<An.length;vi++){var Jt=An[vi].split("=");if(1<Jt.length){var xi=Jt[0];Jt=Jt[1];var ki=xi.split("_");Oe=2<=ki.length&&"type"==ki[1]?Oe+(xi+"=")+Jt+"&":Oe+(xi+"=redacted&")}}else Oe=null;else Oe=ae;return"XMLHTTP REQ ("+T+") [attempt "+K+"]: "+_+"\n"+I+"\n"+Oe})}(h.i,h.u,h.A,h.l,h.R,h.m)}function A6(h){return!!h.g&&"GET"==h.u&&2!=h.L&&h.j.Ca}function rse(h,_){var I=h.C,T=_.indexOf("\n",I);return-1==T?ZA:(I=Number(_.substring(I,T)),isNaN(I)?C6:(T+=1)+I>_.length?ZA:(_=_.slice(T,T+I),h.C=T+I,_))}function ib(h){h.S=Date.now()+h.I,S6(h,h.I)}function S6(h,_){if(null!=h.B)throw Error("WatchDog timer not null");h.B=f_(y(h.ba,h),_)}function eS(h){h.B&&(a.clearTimeout(h.B),h.B=null)}function g_(h){0==h.j.G||h.J||e8(h.j,h)}function Vu(h){eS(h);var _=h.M;_&&"function"==typeof _.ma&&_.ma(),h.M=null,m6(h.U),h.g&&(_=h.g,h.g=null,_.abort(),_.ma())}function tS(h,_){try{var I=h.j;if(0!=I.G&&(I.g==h||nS(I.h,h)))if(!h.K&&nS(I.h,h)&&3==I.G){try{var T=I.Da.g.parse(_)}catch{T=null}if(Array.isArray(T)&&3==T.length){var K=T;if(0==K[0]){e:if(!I.u){if(I.g){if(!(I.g.F+3e3<h.F))break e;hb(I),ub(I)}sS(I),Zi(18)}}else I.za=K[1],0<I.za-I.T&&37500>K[2]&&I.F&&0==I.v&&!I.C&&(I.C=f_(y(I.Za,I),6e3));if(1>=P6(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else Bu(I,11)}else if((h.K||I.g==h)&&hb(I),!O(_))for(K=I.Da.g.parse(_),_=0;_<K.length;_++){let Jt=K[_];if(I.T=Jt[0],Jt=Jt[1],2==I.G)if("c"==Jt[0]){I.K=Jt[1],I.ia=Jt[2];const xi=Jt[3];null!=xi&&(I.la=xi,I.j.info("VER="+I.la));const ki=Jt[4];null!=ki&&(I.Aa=ki,I.j.info("SVER="+I.Aa));const Of=Jt[5];null!=Of&&"number"==typeof Of&&0<Of&&(I.L=T=1.5*Of,I.j.info("backChannelRequestTimeoutMs_="+T)),T=I;const Ts=h.g;if(Ts){const pb=Ts.g?Ts.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pb){var ae=T.h;ae.g||-1==pb.indexOf("spdy")&&-1==pb.indexOf("quic")&&-1==pb.indexOf("h2")||(ae.j=ae.l,ae.g=new Set,ae.h&&(rS(ae,ae.h),ae.h=null))}if(T.D){const cS=Ts.g?Ts.g.getResponseHeader("X-HTTP-Session-Id"):null;cS&&(T.ya=cS,Kn(T.I,T.D,cS))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-h.F,I.j.info("Handshake RTT: "+I.R+"ms"));var Oe=h;if((T=I).qa=r8(T,T.J?T.ia:null,T.W),Oe.K){N6(T.h,Oe);var An=Oe,vi=T.L;vi&&(An.I=vi),An.B&&(eS(An),ib(An)),T.g=Oe}else Z6(T);0<I.i.length&&db(I)}else"stop"!=Jt[0]&&"close"!=Jt[0]||Bu(I,7);else 3==I.G&&("stop"==Jt[0]||"close"==Jt[0]?"stop"==Jt[0]?Bu(I,7):oS(I):"noop"!=Jt[0]&&I.l&&I.l.ta(Jt),I.v=0)}h_()}catch{}}function R6(h){this.l=h||10,h=a.PerformanceNavigationTiming?0<(h=a.performance.getEntriesByType("navigation")).length&&("hq"==h[0].nextHopProtocol||"h2"==h[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function M6(h){return!!h.h||!!h.g&&h.g.size>=h.j}function P6(h){return h.h?1:h.g?h.g.size:0}function nS(h,_){return h.h?h.h==_:!!h.g&&h.g.has(_)}function rS(h,_){h.g?h.g.add(_):h.h=_}function N6(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}function O6(h){if(null!=h.h)return h.i.concat(h.h.D);if(null!=h.g&&0!==h.g.size){let _=h.i;for(const I of h.g.values())_=_.concat(I.D);return _}return D(h.i)}function x6(h,_){if(h.forEach&&"function"==typeof h.forEach)h.forEach(_,void 0);else if(c(h)||"string"==typeof h)Array.prototype.forEach.call(h,_,void 0);else for(var I=function sse(h){if(h.na&&"function"==typeof h.na)return h.na();if(!h.V||"function"!=typeof h.V){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(c(h)||"string"==typeof h){var _=[];h=h.length;for(var I=0;I<h;I++)_.push(I);return _}_=[],I=0;for(const T in h)_[I++]=T;return _}}}(h),T=function ose(h){if(h.V&&"function"==typeof h.V)return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if("string"==typeof h)return h.split("");if(c(h)){for(var _=[],I=h.length,T=0;T<I;T++)_.push(h[T]);return _}for(T in _=[],I=0,h)_[I++]=h[T];return _}(h),K=T.length,ae=0;ae<K;ae++)_.call(void 0,T[ae],I&&I[ae],h)}el.prototype.ca=function(h){h=h.target;const _=this.M;_&&3==qa(h)?_.j():this.Y(h)},el.prototype.Y=function(h){try{if(h==this.g)e:{const ki=qa(this.g);var _=this.g.Ba();if(this.g.Z(),!(3>ki)&&(3!=ki||this.g&&(this.h.h||this.g.oa()||q6(this.g)))){this.J||4!=ki||7==_||h_(),eS(this);var I=this.g.Z();this.X=I;t:if(A6(this)){var T=q6(this.g);h="";var K=T.length,ae=4==qa(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Vu(this),g_(this);var Oe="";break t}this.h.i=new a.TextDecoder}for(_=0;_<K;_++)this.h.h=!0,h+=this.h.i.decode(T[_],{stream:!(ae&&_==K-1)});T.length=0,this.h.g+=h,this.C=0,Oe=this.h.g}else Oe=this.g.oa();if(this.o=200==I,function ese(h,_,I,T,K,ae,Oe){h.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+K+"]: "+_+"\n"+I+"\n"+ae+" "+Oe})}(this.i,this.u,this.A,this.l,this.R,ki,I),this.o){if(this.T&&!this.K){t:{if(this.g){var An,vi=this.g;if((An=vi.g?vi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(An)){var Jt=An;break t}}Jt=null}if(!(I=Jt)){this.o=!1,this.s=3,Zi(12),Vu(this),g_(this);break e}Mf(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tS(this,I)}if(this.P){let Ts;for(I=!0;!this.J&&this.C<Oe.length;){if(Ts=rse(this,Oe),Ts==ZA){4==ki&&(this.s=4,Zi(14),I=!1),Mf(this.i,this.l,null,"[Incomplete Response]");break}if(Ts==C6){this.s=4,Zi(15),Mf(this.i,this.l,Oe,"[Invalid Chunk]"),I=!1;break}Mf(this.i,this.l,Ts,null),tS(this,Ts)}if(A6(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=ki||0!=Oe.length||this.h.h||(this.s=1,Zi(16),I=!1),this.o=this.o&&I,I){if(0<Oe.length&&!this.W){this.W=!0;var xi=this.j;xi.g==this&&xi.ba&&!xi.M&&(xi.j.info("Great, no buffering proxy detected. Bytes received: "+Oe.length),aS(xi),xi.M=!0,Zi(11))}}else Mf(this.i,this.l,Oe,"[Invalid Chunked Response]"),Vu(this),g_(this)}else Mf(this.i,this.l,Oe,null),tS(this,Oe);4==ki&&Vu(this),this.o&&!this.J&&(4==ki?e8(this.j,this):(this.o=!1,ib(this)))}else(function bse(h){const _={};h=(h.g&&2<=qa(h)&&h.g.getAllResponseHeaders()||"").split("\r\n");for(let T=0;T<h.length;T++){if(O(h[T]))continue;var I=H(h[T]);const K=I[0];if("string"!=typeof(I=I[1]))continue;I=I.trim();const ae=_[K]||[];_[K]=ae,ae.push(I)}!function k(h,_){for(const I in h)_.call(void 0,h[I],I,h)}(_,function(T){return T.join(", ")})})(this.g),400==I&&0<Oe.indexOf("Unknown SID")?(this.s=3,Zi(12)):(this.s=0,Zi(13)),Vu(this),g_(this)}}}catch{}},el.prototype.cancel=function(){this.J=!0,Vu(this)},el.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(function tse(h,_){h.info(function(){return"TIMEOUT: "+_})}(this.i,this.A),2!=this.L&&(h_(),Zi(17)),Vu(this),this.s=2,g_(this)):S6(this,this.S-h)},R6.prototype.cancel=function(){if(this.i=O6(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const h of this.g.values())h.cancel();this.g.clear()}};var k6=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lu(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Lu){this.h=h.h,ob(this,h.j),this.o=h.o,this.g=h.g,sb(this,h.s),this.l=h.l;var _=h.i,I=new y_;I.i=_.i,_.g&&(I.g=new Map(_.g),I.h=_.h),F6(this,I),this.m=h.m}else h&&(_=String(h).match(k6))?(this.h=!1,ob(this,_[1]||"",!0),this.o=m_(_[2]||""),this.g=m_(_[3]||"",!0),sb(this,_[4]),this.l=m_(_[5]||"",!0),F6(this,_[6]||"",!0),this.m=m_(_[7]||"")):(this.h=!1,this.i=new y_(null,this.h))}function Wa(h){return new Lu(h)}function ob(h,_,I){h.j=I?m_(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function sb(h,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);h.s=_}else h.s=null}function F6(h,_,I){_ instanceof y_?(h.i=_,function fse(h,_){_&&!h.j&&(tl(h),h.i=null,h.g.forEach(function(I,T){var K=T.toLowerCase();T!=K&&(L6(this,T),U6(this,K,I))},h)),h.j=_}(h.i,h.h)):(I||(_=__(_,dse)),h.i=new y_(_,h.h))}function Kn(h,_,I){h.i.set(_,I)}function ab(h){return Kn(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function m_(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function __(h,_,I){return"string"==typeof h?(h=encodeURI(h).replace(_,cse),I&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function cse(h){return"%"+((h=h.charCodeAt(0))>>4&15).toString(16)+(15&h).toString(16)}Lu.prototype.toString=function(){var h=[],_=this.j;_&&h.push(__(_,V6,!0),":");var I=this.g;return(I||"file"==_)&&(h.push("//"),(_=this.o)&&h.push(__(_,V6,!0),"@"),h.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(I=this.s)&&h.push(":",String(I))),(I=this.l)&&(this.g&&"/"!=I.charAt(0)&&h.push("/"),h.push(__(I,"/"==I.charAt(0)?use:lse,!0))),(I=this.i.toString())&&h.push("?",I),(I=this.m)&&h.push("#",__(I,hse)),h.join("")};var h,V6=/[#\/\?@]/g,lse=/[#\?:]/g,use=/[#\?]/g,dse=/[#\?@]/g,hse=/#/g;function y_(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function tl(h){h.g||(h.g=new Map,h.h=0,h.i&&function ase(h,_){if(h){h=h.split("&");for(var I=0;I<h.length;I++){var T=h[I].indexOf("="),K=null;if(0<=T){var ae=h[I].substring(0,T);K=h[I].substring(T+1)}else ae=h[I];_(ae,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}(h.i,function(_,I){h.add(decodeURIComponent(_.replace(/\+/g," ")),I)}))}function L6(h,_){tl(h),_=Pf(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function B6(h,_){return tl(h),_=Pf(h,_),h.g.has(_)}function U6(h,_,I){L6(h,_),0<I.length&&(h.i=null,h.g.set(Pf(h,_),D(I)),h.h+=I.length)}function Pf(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function nl(h,_,I,T,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),T(I)}catch{}}function mse(){this.g=new Zoe}function _se(h,_,I){const T=I||"";try{x6(h,function(K,ae){let Oe=K;d(K)&&(Oe=qA(K)),_.push(T+ae+"="+encodeURIComponent(Oe))})}catch(K){throw _.push(T+"type="+encodeURIComponent("_badmap")),K}}function v_(h){this.l=h.Ub||null,this.j=h.eb||!1}function cb(h,_){$r.call(this),this.D=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function j6(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}function b_(h){h.readyState=4,h.l=null,h.j=null,h.v=null,I_(h)}function I_(h){h.onreadystatechange&&h.onreadystatechange.call(h)}function H6(h){let _="";return Ae(h,function(I,T){_+=T,_+=":",_+=I,_+="\r\n"}),_}function iS(h,_,I){e:{for(T in I){var T=!1;break e}T=!0}T||(I=H6(I),"string"==typeof h?null!=I&&encodeURIComponent(String(I)):Kn(h,_,I))}function pr(h){$r.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=y_.prototype).add=function(h,_){tl(this),this.i=null,h=Pf(this,h);var I=this.g.get(h);return I||this.g.set(h,I=[]),I.push(_),this.h+=1,this},n.forEach=function(h,_){tl(this),this.g.forEach(function(I,T){I.forEach(function(K){h.call(_,K,T,this)},this)},this)},n.na=function(){tl(this);const h=Array.from(this.g.values()),_=Array.from(this.g.keys()),I=[];for(let T=0;T<_.length;T++){const K=h[T];for(let ae=0;ae<K.length;ae++)I.push(_[T])}return I},n.V=function(h){tl(this);let _=[];if("string"==typeof h)B6(this,h)&&(_=_.concat(this.g.get(Pf(this,h))));else{h=Array.from(this.g.values());for(let I=0;I<h.length;I++)_=_.concat(h[I])}return _},n.set=function(h,_){return tl(this),this.i=null,B6(this,h=Pf(this,h))&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},n.get=function(h,_){return h&&0<(h=this.V(h)).length?String(h[0]):_},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(var I=0;I<_.length;I++){var T=_[I];const ae=encodeURIComponent(String(T)),Oe=this.V(T);for(T=0;T<Oe.length;T++){var K=ae;""!==Oe[T]&&(K+="="+encodeURIComponent(String(Oe[T]))),h.push(K)}}return this.i=h.join("&")},E(v_,KA),v_.prototype.g=function(){return new cb(this.l,this.j)},v_.prototype.i=(h={},function(){return h}),E(cb,$r),(n=cb.prototype).open=function(h,_){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=_,this.readyState=1,I_(this)},n.send=function(h){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(_.body=h),(this.D||a).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,b_(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,I_(this)),this.g&&(this.readyState=3,I_(this),this.g)))if("arraybuffer"===this.responseType)h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;j6(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?b_(this):I_(this),3==this.readyState&&j6(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,b_(this))},n.Qa=function(h){this.g&&(this.response=h,b_(this))},n.ga=function(){this.g&&b_(this)},n.setRequestHeader=function(h,_){this.u.append(h,_)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var I=_.next();!I.done;)h.push((I=I.value)[0]+": "+I[1]),I=_.next();return h.join("\r\n")},Object.defineProperty(cb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(h){this.m=h?"include":"same-origin"}}),E(pr,$r);var yse=/^https?$/i,vse=["POST","PUT"];function $6(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.m=5,G6(h),lb(h)}function G6(h){h.A||(h.A=!0,ei(h,"complete"),ei(h,"error"))}function z6(h){if(h.h&&typeof s<"u"&&(!h.v[1]||4!=qa(h)||2!=h.Z()))if(h.u&&4==qa(h))f6(h.Ea,0,h);else if(ei(h,"readystatechange"),4==qa(h)){h.h=!1;try{const Oe=h.Z();e:switch(Oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var I;if(!(I=_)){var T;if(T=0===Oe){var K=String(h.D).match(k6)[1]||null;!K&&a.self&&a.self.location&&(K=a.self.location.protocol.slice(0,-1)),T=!yse.test(K?K.toLowerCase():"")}I=T}if(I)ei(h,"complete"),ei(h,"success");else{h.m=6;try{var ae=2<qa(h)?h.g.statusText:""}catch{ae=""}h.l=ae+" ["+h.Z()+"]",G6(h)}}finally{lb(h)}}}function lb(h,_){if(h.g){W6(h);const I=h.g,T=h.v[0]?()=>{}:null;h.g=null,h.v=null,_||ei(h,"ready");try{I.onreadystatechange=T}catch{}}}function W6(h){h.I&&(a.clearTimeout(h.I),h.I=null)}function qa(h){return h.g?h.g.readyState:0}function q6(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function w_(h,_,I){return I&&I.internalChannelParams&&I.internalChannelParams[h]||_}function K6(h){this.Aa=0,this.i=[],this.j=new p_,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=w_("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=w_("baseRetryDelayMs",5e3,h),this.cb=w_("retryDelaySeedMs",1e4,h),this.Wa=w_("forwardChannelMaxRetries",2,h),this.wa=w_("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new R6(h&&h.concurrentRequestLimit),this.Da=new mse,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function oS(h){if(Q6(h),3==h.G){var _=h.U++,I=Wa(h.I);if(Kn(I,"SID",h.K),Kn(I,"RID",_),Kn(I,"TYPE","terminate"),E_(h,I),(_=new el(h,h.j,_)).L=2,_.v=ab(Wa(I)),I=!1,a.navigator&&a.navigator.sendBeacon)try{I=a.navigator.sendBeacon(_.v.toString(),"")}catch{}!I&&a.Image&&((new Image).src=_.v,I=!0),I||(_.g=i8(_.j,null),_.g.ea(_.v)),_.F=Date.now(),ib(_)}n8(h)}function ub(h){h.g&&(aS(h),h.g.cancel(),h.g=null)}function Q6(h){ub(h),h.u&&(a.clearTimeout(h.u),h.u=null),hb(h),h.h.cancel(),h.s&&("number"==typeof h.s&&a.clearTimeout(h.s),h.s=null)}function db(h){if(!M6(h.h)&&!h.s){h.s=!0;var _=h.Ga;yi||Ou(),Xs||(yi(),Xs=!0),Es.add(_,h),h.B=0}}function Y6(h,_){var I;I=_?_.l:h.U++;const T=Wa(h.I);Kn(T,"SID",h.K),Kn(T,"RID",I),Kn(T,"AID",h.T),E_(h,T),h.m&&h.o&&iS(T,h.m,h.o),I=new el(h,h.j,I,h.B+1),null===h.m&&(I.H=h.o),_&&(h.i=_.D.concat(h.i)),_=J6(h,I,1e3),I.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),rS(h.h,I),XA(I,T,_)}function E_(h,_){h.H&&Ae(h.H,function(I,T){Kn(_,T,I)}),h.l&&x6({},function(I,T){Kn(_,T,I)})}function J6(h,_,I){I=Math.min(h.i.length,I);var T=h.l?y(h.l.Na,h.l,h):null;e:{var K=h.i;let ae=-1;for(;;){const Oe=["count="+I];-1==ae?0<I?(ae=K[0].g,Oe.push("ofs="+ae)):ae=0:Oe.push("ofs="+ae);let An=!0;for(let vi=0;vi<I;vi++){let Jt=K[vi].g;const xi=K[vi].map;if(Jt-=ae,0>Jt)ae=Math.max(0,K[vi].g-100),An=!1;else try{_se(xi,Oe,"req"+Jt+"_")}catch{T&&T(xi)}}if(An){T=Oe.join("&");break e}}}return h=h.i.splice(0,I),_.D=h,T}function Z6(h){if(!h.g&&!h.u){h.Y=1;var _=h.Fa;yi||Ou(),Xs||(yi(),Xs=!0),Es.add(_,h),h.v=0}}function sS(h){return!(h.g||h.u||3<=h.v||(h.Y++,h.u=f_(y(h.Fa,h),t8(h,h.v)),h.v++,0))}function aS(h){null!=h.A&&(a.clearTimeout(h.A),h.A=null)}function X6(h){h.g=new el(h,h.j,"rpc",h.Y),null===h.m&&(h.g.H=h.o),h.g.O=0;var _=Wa(h.qa);Kn(_,"RID","rpc"),Kn(_,"SID",h.K),Kn(_,"AID",h.T),Kn(_,"CI",h.F?"0":"1"),!h.F&&h.ja&&Kn(_,"TO",h.ja),Kn(_,"TYPE","xmlhttp"),E_(h,_),h.m&&h.o&&iS(_,h.m,h.o),h.L&&(h.g.I=h.L);var I=h.g;h=h.ia,I.L=1,I.v=ab(Wa(_)),I.m=null,I.P=!0,D6(I,h)}function hb(h){null!=h.C&&(a.clearTimeout(h.C),h.C=null)}function e8(h,_){var I=null;if(h.g==_){hb(h),aS(h),h.g=null;var T=2}else{if(!nS(h.h,_))return;I=_.D,N6(h.h,_),T=1}if(0!=h.G)if(_.o)if(1==T){I=_.m?_.m.length:0,_=Date.now()-_.F;var K=h.B;ei(T=tb(),new w6(T,I)),db(h)}else Z6(h);else if(3==(K=_.s)||0==K&&0<_.X||!(1==T&&function Ise(h,_){return!(P6(h.h)>=h.h.j-(h.s?1:0)||(h.s?(h.i=_.D.concat(h.i),0):1==h.G||2==h.G||h.B>=(h.Va?0:h.Wa)||(h.s=f_(y(h.Ga,h,_),t8(h,h.B)),h.B++,0)))}(h,_)||2==T&&sS(h)))switch(I&&0<I.length&&(_=h.h,_.i=_.i.concat(I)),K){case 1:Bu(h,5);break;case 4:Bu(h,10);break;case 3:Bu(h,6);break;default:Bu(h,2)}}function t8(h,_){let I=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(I*=2),I*_}function Bu(h,_){if(h.j.info("Error code "+_),2==_){var I=y(h.fb,h),T=h.Xa;const K=!T;T=new Lu(T||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||ob(T,"https"),ab(T),K?function pse(h,_){const I=new p_;if(a.Image){const T=new Image;T.onload=b(nl,I,"TestLoadImage: loaded",!0,_,T),T.onerror=b(nl,I,"TestLoadImage: error",!1,_,T),T.onabort=b(nl,I,"TestLoadImage: abort",!1,_,T),T.ontimeout=b(nl,I,"TestLoadImage: timeout",!1,_,T),a.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=h}else _(!1)}(T.toString(),I):function gse(h,_){new p_;const T=new AbortController,K=setTimeout(()=>{T.abort(),nl(0,0,!1,_)},1e4);fetch(h,{signal:T.signal}).then(ae=>{clearTimeout(K),nl(0,0,!!ae.ok,_)}).catch(()=>{clearTimeout(K),nl(0,0,!1,_)})}(T.toString(),I)}else Zi(2);h.G=0,h.l&&h.l.sa(_),n8(h),Q6(h)}function n8(h){if(h.G=0,h.ka=[],h.l){const _=O6(h.h);(0!=_.length||0!=h.i.length)&&(S(h.ka,_),S(h.ka,h.i),h.h.i.length=0,D(h.i),h.i.length=0),h.l.ra()}}function r8(h,_,I){var T=I instanceof Lu?Wa(I):new Lu(I);if(""!=T.g)_&&(T.g=_+"."+T.g),sb(T,T.s);else{var K=a.location;T=K.protocol,_=_?_+"."+K.hostname:K.hostname,K=+K.port;var ae=new Lu(null);T&&ob(ae,T),_&&(ae.g=_),K&&sb(ae,K),I&&(ae.l=I),T=ae}return _=h.ya,(I=h.D)&&_&&Kn(T,I,_),Kn(T,"VER",h.la),E_(h,T),T}function i8(h,_,I){if(_&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return(_=new pr(h.Ca&&!h.pa?new v_({eb:I}):h.pa)).Ha(h.J),_}function o8(){}function fb(){}function Vo(h,_){$r.call(this),this.g=new K6(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(h?h["X-WebChannel-Client-Profile"]=_.va:h={"X-WebChannel-Client-Profile":_.va}),this.g.S=h,(h=_&&_.Sb)&&!O(h)&&(this.g.m=h),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!O(_)&&(this.g.D=_,null!==(h=this.h)&&_ in h&&_ in(h=this.h)&&delete h[_]),this.j=new Nf(this)}function s8(h){QA.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const I in _){h=I;break e}h=void 0}(this.i=h)&&(h=this.i,_=null!==_&&h in _?_[h]:void 0),this.data=_}else this.data=h}function a8(){YA.call(this),this.status=1}function Nf(h){this.g=h}(n=pr.prototype).Ha=function(h){this.J=h},n.ea=function(h,_,I,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():JA.g(),this.v=function _6(h){return h.h||(h.h=h.i())}(this.o?this.o:JA),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(ae){return void $6(this,ae)}if(h=I||"",I=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var K in T)I.set(K,T[K]);else{if("function"!=typeof T.keys||"function"!=typeof T.get)throw Error("Unknown input type for opt_headers: "+String(T));for(const ae of T.keys())I.set(ae,T.get(ae))}T=Array.from(I.keys()).find(ae=>"content-type"==ae.toLowerCase()),K=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(vse,_,void 0))||T||K||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,Oe]of I)this.g.setRequestHeader(ae,Oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{W6(this),this.u=!0,this.g.send(h),this.u=!1}catch(ae){$6(this,ae)}},n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,ei(this,"complete"),ei(this,"abort"),lb(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lb(this,!0)),pr.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?z6(this):this.bb())},n.bb=function(){z6(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<qa(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var _=this.g.responseText;return h&&0==_.indexOf(h)&&(_=_.substring(h.length)),Joe(_)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=K6.prototype).la=8,n.G=1,n.connect=function(h,_,I,T){Zi(0),this.W=h,this.H=_||{},I&&void 0!==T&&(this.H.OSID=I,this.H.OAID=T),this.F=this.X,this.I=r8(this,null,this.W),db(this)},n.Ga=function(h){if(this.s)if(this.s=null,1==this.G){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const K=new el(this,this.j,h);let ae=this.o;if(this.S&&(ae?(ae=A(ae),L(ae,this.S)):ae=this.S),null!==this.m||this.O||(K.H=ae,ae=null),this.P)e:{for(var _=0,I=0;I<this.i.length;I++){var T=this.i[I];if(void 0===(T="__data__"in T.map&&"string"==typeof(T=T.map.__data__)?T.length:void 0))break;if(4096<(_+=T)){_=I;break e}if(4096===_||I===this.i.length-1){_=I+1;break e}}_=1e3}else _=1e3;_=J6(this,K,_),Kn(I=Wa(this.I),"RID",h),Kn(I,"CVER",22),this.D&&Kn(I,"X-HTTP-Session-Id",this.D),E_(this,I),ae&&(this.O?_="headers="+encodeURIComponent(String(H6(ae)))+"&"+_:this.m&&iS(I,this.m,ae)),rS(this.h,K),this.Ua&&Kn(I,"TYPE","init"),this.P?(Kn(I,"$req",_),Kn(I,"SID","null"),K.T=!0,XA(K,I,null)):XA(K,I,_),this.G=2}}else 3==this.G&&(h?Y6(this,h):0==this.i.length||M6(this.h)||Y6(this))},n.Fa=function(){if(this.u=null,X6(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=f_(y(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Zi(10),ub(this),X6(this))},n.Za=function(){null!=this.C&&(this.C=null,ub(this),sS(this),Zi(19))},n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Zi(2)):(this.j.info("Failed to ping google.com"),Zi(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=o8.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},fb.prototype.g=function(h,_){return new Vo(h,_)},E(Vo,$r),Vo.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vo.prototype.close=function(){oS(this.g)},Vo.prototype.o=function(h){var _=this.g;if("string"==typeof h){var I={};I.__data__=h,h=I}else this.u&&((I={}).__data__=qA(h),h=I);_.i.push(new class{constructor(h,_){this.g=h,this.map=_}}(_.Ya++,h)),3==_.G&&db(_)},Vo.prototype.N=function(){this.g.l=null,delete this.j,oS(this.g),delete this.g,Vo.aa.N.call(this)},E(s8,QA),E(a8,YA),E(Nf,o8),Nf.prototype.ua=function(){ei(this.g,"a")},Nf.prototype.ta=function(h){ei(this.g,new s8(h))},Nf.prototype.sa=function(h){ei(this.g,new a8)},Nf.prototype.ra=function(){ei(this.g,"b")},fb.prototype.createWebChannel=fb.prototype.g,Vo.prototype.send=Vo.prototype.o,Vo.prototype.open=Vo.prototype.m,Vo.prototype.close=Vo.prototype.close,Sk=xa.createWebChannelTransport=function(){return new fb},Ak=xa.getStatEventTarget=function(){return tb()},Dk=xa.Event=Fu,yT=xa.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nb.NO_ERROR=0,nb.TIMEOUT=8,nb.HTTP_ERROR=6,w0=xa.ErrorCode=nb,E6.COMPLETE="complete",Ck=xa.EventType=E6,y6.EventType=d_,d_.OPEN="a",d_.CLOSE="b",d_.ERROR="c",d_.MESSAGE="d",$r.prototype.listen=$r.prototype.K,Jg=xa.WebChannel=y6,xa.FetchXmlHttpFactory=v_,pr.prototype.listenOnce=pr.prototype.L,pr.prototype.getLastError=pr.prototype.Ka,pr.prototype.getLastErrorCode=pr.prototype.Ba,pr.prototype.getStatus=pr.prototype.Z,pr.prototype.getResponseJson=pr.prototype.Oa,pr.prototype.getResponseText=pr.prototype.oa,pr.prototype.send=pr.prototype.ea,pr.prototype.setWithCredentials=pr.prototype.Ha,Tk=xa.XhrIo=pr}).apply(typeof I0<"u"?I0:typeof self<"u"?self:typeof window<"u"?window:{});const Rk="@firebase/firestore";class Jr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jr.UNAUTHENTICATED=new Jr(null),Jr.GOOGLE_CREDENTIALS=new Jr("google-credentials-uid"),Jr.FIRST_PARTY=new Jr("first-party-uid"),Jr.MOCK_USER=new Jr("mock-user");let Mh="10.14.0";const Dc=new $s.Vy("@firebase/firestore");function Ph(){return Dc.logLevel}function Ie(n,...e){if(Dc.logLevel<=$s.$b.DEBUG){const t=e.map(vT);Dc.debug(`Firestore (${Mh}): ${n}`,...t)}}function Ir(n,...e){if(Dc.logLevel<=$s.$b.ERROR){const t=e.map(vT);Dc.error(`Firestore (${Mh}): ${n}`,...t)}}function Mo(n,...e){if(Dc.logLevel<=$s.$b.WARN){const t=e.map(vT);Dc.warn(`Firestore (${Mh}): ${n}`,...t)}}function vT(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function We(n="Unexpected state"){const e=`FIRESTORE (${Mh}) INTERNAL ASSERTION FAILED: `+n;throw Ir(e),new Error(e)}function qe(n,e){n||We()}function Pe(n,e){return n}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends on.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Mk{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Jr.UNAUTHENTICATED))}shutdown(){}}class vQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class bQ{constructor(e){this.t=e,this.currentUser=Jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;qe(void 0===this.o);let i=this.i;const o=d=>this.i!==i?(i=this.i,t(d)):Promise.resolve();let s=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Zr,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const d=s;e.enqueueRetryable((0,ue.A)(function*(){yield d.promise,yield o(r.currentUser)}))},c=d=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Zr)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe("string"==typeof r.accessToken),new Mk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(null===e||"string"==typeof e),new Jr(e)}}class IQ{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Jr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class wQ{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new IQ(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Jr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EQ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){qe(void 0===this.o);const r=o=>{null!=o.error&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Ie("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(qe("string"==typeof t.token),this.R=t.token,new Pk(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function TQ(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Nk{static newId(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=TQ(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function ft(n,e){return n<e?-1:n>e?1:0}function Nh(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Ok(n){return n+"\0"}class Qn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new _e(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qn.fromMillis(Date.now())}static fromDate(e){return Qn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Qn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ft(this.nanoseconds,e.nanoseconds):ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ye{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ye(e)}static min(){return new Ye(new Qn(0,0))}static max(){return new Ye(new Qn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Zg{constructor(e,t,r){void 0===t?t=0:t>e.length&&We(),void 0===r?r=e.length-t:r>e.length-t&&We(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Zg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ut extends Zg{construct(e,t,r){return new Ut(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ut(t)}static emptyPath(){return new Ut([])}}const CQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zn extends Zg{construct(e,t,r){return new zn(e,t,r)}static isValidIdentifier(e){return CQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new zn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new _e(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new _e(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new _e(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new _e(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zn(t)}static emptyPath(){return new zn([])}}class Fe{constructor(e){this.path=e}static fromPath(e){return new Fe(Ut.fromString(e))}static fromName(e){return new Fe(Ut.fromString(e).popFirst(5))}static empty(){return new Fe(Ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ut.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fe(new Ut(e.slice()))}}class Oh{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function bT(n){return n.fields.find(e=>2===e.kind)}function tu(n){return n.fields.filter(e=>2!==e.kind)}Oh.UNKNOWN_ID=-1;class nu{constructor(e,t){this.fieldPath=e,this.kind=t}}class xh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new xh(0,Po.min())}}function xk(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ye.fromTimestamp(1e9===r?new Qn(t+1,0):new Qn(t,r));return new Po(i,Fe.empty(),e)}function kk(n){return new Po(n.readTime,n.key,-1)}class Po{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Po(Ye.min(),Fe.empty(),-1)}static max(){return new Po(Ye.max(),Fe.empty(),-1)}}function IT(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Fe.comparator(n.documentKey,e.documentKey),0!==t?t:ft(n.largestBatchId,e.largestBatchId))}const Fk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Vk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ac(n){return wT.apply(this,arguments)}function wT(){return(wT=(0,ue.A)(function*(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==Fk)throw n;Ie("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&We(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.reject(t)}static resolve(e){return new Q((t,r)=>{t(e)})}static reject(e){return new Q((t,r)=>{r(e)})}static waitFor(e){return new Q((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=Q.resolve(!1);for(const r of e)t=t.next(i=>i?Q.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new Q((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const d=c;t(e[d]).next(f=>{s[d]=f,++a,a===o&&r(s)},f=>i(f))}})}static doWhile(e,t){return new Q((r,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):r()};o()})}}class E0{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Zr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Xg(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=ET(r.target.error);this.V.reject(new Xg(e,i))}}static open(e,t,r,i){try{return new E0(t,e.transaction(i,r))}catch(o){throw new Xg(t,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ie("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new RQ(t)}}class Gs{constructor(e,t,r){this.name=e,this.version=t,this.p=r,12.2===Gs.S((0,on.ZQ)())&&Ir("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ie("SimpleDb","Removing database:",e),ru(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,on.zW)())return!1;if(Gs.v())return!0;const e=(0,on.ZQ)(),t=Gs.S(e),r=0<t&&t<10,i=Lk(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}M(e){var t=this;return(0,ue.A)(function*(){return t.db||(Ie("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=s=>{r(s.target.result)},o.onblocked=()=>{i(new Xg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;i("VersionError"===a.name?new _e(ie.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new _e(ie.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Xg(e,a))},o.onupgradeneeded=s=>{Ie("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',s.oldVersion),t.p.O(s.target.result,o.transaction,s.oldVersion,t.version).next(()=>{Ie("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.N&&(t.db.onversionchange=r=>t.N(r)),t.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var o=this;return(0,ue.A)(function*(){const s="readonly"===t;let a=0;for(;;){++a;try{o.db=yield o.M(e);const c=E0.open(o.db,e,s?"readonly":"readwrite",r),d=i(c).next(f=>(c.g(),f)).catch(f=>(c.abort(f),Q.reject(f))).toPromise();return d.catch(()=>{}),yield c.m,d}catch(c){const d=c,f="FirebaseError"!==d.name&&a<3;if(Ie("SimpleDb","Transaction failed with error:",d.message,"Retrying:",f),o.close(),!f)return Promise.reject(d)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Lk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class SQ{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return ru(this.B.delete())}}class Xg extends _e{constructor(e,t){super(ie.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Sc(n){return"IndexedDbTransactionError"===n.name}class RQ{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ie("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ie("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ru(r)}add(e){return Ie("SimpleDb","ADD",this.store.name,e,e),ru(this.store.add(e))}get(e){return ru(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ie("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ie("SimpleDb","DELETE",this.store.name,e),ru(this.store.delete(e))}count(){return Ie("SimpleDb","COUNT",this.store.name),ru(this.store.count())}U(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if("function"==typeof i.getAll){const o=i.getAll(r.range);return new Q((s,a)=>{o.onerror=c=>{a(c.target.error)},o.onsuccess=c=>{s(c.target.result)}})}{const o=this.cursor(r),s=[];return this.W(o,(a,c)=>{s.push(c)}).next(()=>s)}}G(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Q((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}j(e,t){Ie("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const i=this.cursor(r);return this.W(i,(o,s,a)=>a.delete())}J(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Y(e){const t=this.cursor({});return new Q((r,i)=>{t.onerror=o=>{const s=ET(o.target.error);i(s)},t.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}W(e,t){const r=[];return new Q((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const c=new SQ(a),d=t(a.primaryKey,a.value,c);if(d instanceof Q){const f=d.catch(m=>(c.done(),Q.reject(m)));r.push(f)}c.isDone?i():null===c.K?a.continue():a.continue(c.K)}}).next(()=>Q.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ru(n){return new Q((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=ET(r.target.error);t(i)}})}let Bk=!1;function ET(n){const e=Gs.S((0,on.ZQ)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new _e("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Bk||(Bk=!0,setTimeout(()=>{throw r},0)),r}}return n}class MQ{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var t=this;Ie("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ue.A)(function*(){t.task=null;try{Ie("IndexBackfiller",`Documents written: ${yield t.Z.ee()}`)}catch(r){Sc(r)?Ie("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):yield Ac(r)}yield t.X(6e4)}))}}class PQ{constructor(e,t){this.localStore=e,this.persistence=t}ee(e=50){var t=this;return(0,ue.A)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.te(r,e))})()}te(e,t){const r=new Set;let i=t,o=!0;return Q.doWhile(()=>!0===o&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!r.has(s))return Ie("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>t-i)}ne(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.re(i,o)).next(a=>(Ie("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}re(e,t){let r=e;return t.changes.forEach((i,o)=>{const s=kk(o);IT(s,r)>0&&(r=s)}),new Po(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let No=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function em(n){return null==n}function tm(n){return 0===n&&1/n==-1/0}function Uk(n){return"number"==typeof n&&Number.isInteger(n)&&!tm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Mi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=jk(e)),e=NQ(n.get(t),e);return jk(e)}function NQ(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function jk(n){return n+"\x01\x01"}function zs(n){const e=n.length;if(qe(e>=2),2===e)return qe("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Ut.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const s=n.indexOf("\x01",o);switch((s<0||s>t)&&We(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let c;0===i.length?c=a:(i+=a,c=i,i=""),r.push(c);break;case"\x10":i+=n.substring(o,s),i+="\0";break;case"\x11":i+=n.substring(o,s+1);break;default:We()}o=s+2}return new Ut(r)}const Hk=["userId","batchId"];function T0(n,e){return[n,Mi(e)]}function $k(n,e,t){return[n,Mi(e),t]}const OQ={},xQ=["prefixPath","collectionGroup","readTime","documentId"],kQ=["prefixPath","collectionGroup","documentId"],FQ=["collectionGroup","readTime","prefixPath","documentId"],VQ=["canonicalId","targetId"],LQ=["targetId","path"],BQ=["path","targetId"],UQ=["collectionId","parent"],jQ=["indexId","uid"],HQ=["uid","sequenceNumber"],$Q=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],GQ=["indexId","uid","orderedDocumentKey"],zQ=["userId","collectionPath","documentId"],WQ=["userId","collectionPath","largestBatchId"],qQ=["userId","collectionGroup","largestBatchId"],Gk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],KQ=[...Gk,"documentOverlays"],zk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Wk=zk,TT=[...Wk,"indexConfiguration","indexState","indexEntries"],QQ=TT,YQ=[...TT,"globals"];class CT extends Vk{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function jr(n,e){const t=Pe(n);return Gs.F(t._e,e)}function qk(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Rc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Qk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Ln{constructor(e,t){this.comparator=e,this.root=t||ui.EMPTY}insert(e,t){return new Ln(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ui.BLACK,null,null))}remove(e){return new Ln(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ui.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new C0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new C0(this.root,e,this.comparator,!1)}getReverseIterator(){return new C0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new C0(this.root,e,this.comparator,!0)}}class C0{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ui{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??ui.RED,this.left=i??ui.EMPTY,this.right=o??ui.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new ui(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ui.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ui.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ui.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ui.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw We();const e=this.left.check();if(e!==this.right.check())throw We();return e+(this.isRed()?0:1)}}ui.EMPTY=null,ui.RED=!0,ui.BLACK=!1,ui.EMPTY=new class{constructor(){this.size=0}get key(){throw We()}get value(){throw We()}get color(){throw We()}get left(){throw We()}get right(){throw We()}copy(e,t,r,i,o){return this}insert(e,t,r){return new ui(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bn{constructor(e){this.comparator=e,this.data=new Ln(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Yk(this.data.getIterator())}getIteratorFrom(e){return new Yk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof bn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new bn(this.comparator);return t.data=e,t}}class Yk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function kh(n){return n.hasNext()?n.getNext():void 0}class uo{constructor(e){this.fields=e,e.sort(zn.comparator)}static empty(){return new uo([])}unionWith(e){let t=new bn(zn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new uo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Nh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Jk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Jk("Invalid base64 string: "+o):o}}(e);return new fr(t)}static fromUint8Array(e){const t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new fr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fr.EMPTY_BYTE_STRING=new fr("");const ZQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ka(n){if(qe(!!n),"string"==typeof n){let e=0;const t=ZQ.exec(n);if(qe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yn(n.seconds),nanos:Yn(n.nanos)}}function Yn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Fa(n){return"string"==typeof n?fr.fromBase64String(n):fr.fromUint8Array(n)}function D0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function A0(n){const e=n.mapValue.fields.__previous_value__;return D0(e)?A0(e):e}function nm(n){const e=ka(n.mapValue.fields.__local_write_time__.timestampValue);return new Qn(e.seconds,e.nanos)}class XQ{constructor(e,t,r,i,o,s,a,c,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d}}class Mc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Mc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Mc&&e.projectId===this.projectId&&e.database===this.database}}const Pc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},S0={nullValue:"NULL_VALUE"};function Nc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?D0(n)?4:nF(n)?9007199254740991:P0(n)?10:11:We()}function Ws(n,e){if(n===e)return!0;const t=Nc(n);if(t!==Nc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return nm(n).isEqual(nm(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ka(i.timestampValue),a=ka(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Fa(n.bytesValue).isEqual(Fa(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Yn(i.geoPointValue.latitude)===Yn(o.geoPointValue.latitude)&&Yn(i.geoPointValue.longitude)===Yn(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Yn(i.integerValue)===Yn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Yn(i.doubleValue),a=Yn(o.doubleValue);return s===a?tm(s)===tm(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Nh(n.arrayValue.values||[],e.arrayValue.values||[],Ws);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(qk(s)!==qk(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!Ws(s[c],a[c])))return!1;return!0}(n,e);default:return We()}var o}function rm(n,e){return void 0!==(n.values||[]).find(t=>Ws(t,e))}function Oc(n,e){if(n===e)return 0;const t=Nc(n),r=Nc(e);if(t!==r)return ft(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ft(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Yn(o.integerValue||o.doubleValue),c=Yn(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return Zk(n.timestampValue,e.timestampValue);case 4:return Zk(nm(n),nm(e));case 5:return ft(n.stringValue,e.stringValue);case 6:return function(o,s){const a=Fa(o),c=Fa(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),c=s.split("/");for(let d=0;d<a.length&&d<c.length;d++){const f=ft(a[d],c[d]);if(0!==f)return f}return ft(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ft(Yn(o.latitude),Yn(s.latitude));return 0!==a?a:ft(Yn(o.longitude),Yn(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Xk(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,d,f;const b=null===(a=(o.fields||{}).value)||void 0===a?void 0:a.arrayValue,E=null===(c=(s.fields||{}).value)||void 0===c?void 0:c.arrayValue,D=ft((null===(d=b?.values)||void 0===d?void 0:d.length)||0,(null===(f=E?.values)||void 0===f?void 0:f.length)||0);return 0!==D?D:Xk(b,E)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Pc.mapValue&&s===Pc.mapValue)return 0;if(o===Pc.mapValue)return 1;if(s===Pc.mapValue)return-1;const a=o.fields||{},c=Object.keys(a),d=s.fields||{},f=Object.keys(d);c.sort(),f.sort();for(let m=0;m<c.length&&m<f.length;++m){const y=ft(c[m],f[m]);if(0!==y)return y;const b=Oc(a[c[m]],d[f[m]]);if(0!==b)return b}return ft(c.length,f.length)}(n.mapValue,e.mapValue);default:throw We()}}function Zk(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ft(n,e);const t=ka(n),r=ka(e),i=ft(t.seconds,r.seconds);return 0!==i?i:ft(t.nanos,r.nanos)}function Xk(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=Oc(t[i],r[i]);if(o)return o}return ft(t.length,r.length)}function Fh(n){return DT(n)}function DT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=ka(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Fa(n.bytesValue).toBase64():"referenceValue"in n?Fe.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=DT(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${DT(t.fields[s])}`;return i+"}"}(n.mapValue):We()}function iu(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function AT(n){return!!n&&"integerValue"in n}function im(n){return!!n&&"arrayValue"in n}function eF(n){return!!n&&"nullValue"in n}function tF(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function M0(n){return!!n&&"mapValue"in n}function P0(n){var e,t;return"__vector__"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function om(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Rc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=om(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=om(n.arrayValue.values[t]);return e}return Object.assign({},n)}function nF(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}const rF={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function eY(n){return"nullValue"in n?S0:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?iu(Mc.empty(),Fe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?P0(n)?rF:{mapValue:{}}:We()}function tY(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?iu(Mc.empty(),Fe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?rF:"mapValue"in n?P0(n)?{mapValue:{}}:Pc:We()}function iF(n,e){const t=Oc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function oF(n,e){const t=Oc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class di{constructor(e){this.value=e}static empty(){return new di({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!M0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=om(t)}setAll(e){let t=zn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=om(s):i.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());M0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ws(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];M0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Rc(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new di(om(this.value))}}function sF(n){const e=[];return Rc(n.fields,(t,r)=>{const i=new zn([t]);if(M0(r)){const o=sF(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new uo(e)}class Wn{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Wn(e,0,Ye.min(),Ye.min(),Ye.min(),di.empty(),0)}static newFoundDocument(e,t,r,i){return new Wn(e,1,t,Ye.min(),r,i,0)}static newNoDocument(e,t){return new Wn(e,2,t,Ye.min(),Ye.min(),di.empty(),0)}static newUnknownDocument(e,t){return new Wn(e,3,t,Ye.min(),Ye.min(),di.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ye.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=di.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=di.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xc{constructor(e,t){this.position=e,this.inclusive=t}}function aF(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],s=n.position[i];if(r=o.field.isKeyField()?Fe.comparator(Fe.fromName(s.referenceValue),t.key):Oc(s,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function cF(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ws(n.position[t],e.position[t]))return!1;return!0}class sm{constructor(e,t="asc"){this.field=e,this.dir=t}}function nY(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class lF{}class jt extends lF{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new rY(e,t,r):"array-contains"===t?new sY(e,r):"in"===t?new gF(e,r):"not-in"===t?new aY(e,r):"array-contains-any"===t?new cY(e,r):new jt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new iY(e,r):new oY(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Oc(t,this.value)):null!==t&&Nc(this.value)===Nc(t)&&this.matchesComparison(Oc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return We()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _n extends lF{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new _n(e,t)}matches(e){return Vh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Vh(n){return"and"===n.op}function ST(n){return"or"===n.op}function RT(n){return uF(n)&&Vh(n)}function uF(n){for(const e of n.filters)if(e instanceof _n)return!1;return!0}function MT(n){if(n instanceof jt)return n.field.canonicalString()+n.op.toString()+Fh(n.value);if(RT(n))return n.filters.map(e=>MT(e)).join(",");{const e=n.filters.map(t=>MT(t)).join(",");return`${n.op}(${e})`}}function dF(n,e){return n instanceof jt?(r=n,(i=e)instanceof jt&&r.op===i.op&&r.field.isEqual(i.field)&&Ws(r.value,i.value)):n instanceof _n?function(r,i){return i instanceof _n&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&dF(s,i.filters[a]),!0)}(n,e):void We();var r,i}function hF(n,e){const t=n.filters.concat(e);return _n.create(t,n.op)}function fF(n){return n instanceof jt?`${(t=n).field.canonicalString()} ${t.op} ${Fh(t.value)}`:n instanceof _n?function(t){return t.op.toString()+" {"+t.getFilters().map(fF).join(" ,")+"}"}(n):"Filter";var t}class rY extends jt{constructor(e,t,r){super(e,t,r),this.key=Fe.fromName(r.referenceValue)}matches(e){const t=Fe.comparator(e.key,this.key);return this.matchesComparison(t)}}class iY extends jt{constructor(e,t){super(e,"in",t),this.keys=pF(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class oY extends jt{constructor(e,t){super(e,"not-in",t),this.keys=pF(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function pF(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Fe.fromName(r.referenceValue))}class sY extends jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return im(t)&&rm(t.arrayValue,this.value)}}class gF extends jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&rm(this.value.arrayValue,t)}}class aY extends jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(rm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!rm(this.value.arrayValue,t)}}class cY extends jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!im(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>rm(this.value.arrayValue,r))}}class lY{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function PT(n,e=null,t=[],r=[],i=null,o=null,s=null){return new lY(n,e,t,r,i,o,s)}function ou(n){const e=Pe(n);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>MT(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),em(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Fh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Fh(r)).join(",")),e.ue=t}return e.ue}function am(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!nY(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!dF(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!cF(n.startAt,e.startAt)&&cF(n.endAt,e.endAt)}function N0(n){return Fe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function O0(n,e){return n.filters.filter(t=>t instanceof jt&&t.field.isEqual(e))}function mF(n,e,t){let r=S0,i=!0;for(const o of O0(n,e)){let s=S0,a=!0;switch(o.op){case"<":case"<=":s=eY(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=S0}iF({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];iF({value:r,inclusive:i},{value:s,inclusive:t.inclusive})<0&&(r=s,i=t.inclusive);break}return{value:r,inclusive:i}}function _F(n,e,t){let r=Pc,i=!0;for(const o of O0(n,e)){let s=Pc,a=!0;switch(o.op){case">=":case">":s=tY(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Pc}oF({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];oF({value:r,inclusive:i},{value:s,inclusive:t.inclusive})>0&&(r=s,i=t.inclusive);break}return{value:r,inclusive:i}}class Va{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null}}function yF(n,e,t,r,i,o,s,a){return new Va(n,e,t,r,i,o,s,a)}function Lh(n){return new Va(n)}function vF(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function NT(n){return null!==n.collectionGroup}function Bh(n){const e=Pe(n);if(null===e.ce){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new bn(zn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new sm(o,r))}),t.has(zn.keyField().canonicalString())||e.ce.push(new sm(zn.keyField(),r))}return e.ce}function Pi(n){const e=Pe(n);return e.le||(e.le=function IF(n,e){if("F"===n.limitType)return PT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new sm(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new xc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new xc(n.startAt.position,n.startAt.inclusive):null;return PT(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,Bh(n))),e.le}function OT(n,e){const t=n.filters.concat([e]);return new Va(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function x0(n,e,t){return new Va(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function cm(n,e){return am(Pi(n),Pi(e))&&n.limitType===e.limitType}function wF(n){return`${ou(Pi(n))}|lt:${n.limitType}`}function Uh(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>fF(i)).join(", ")}]`),em(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Fh(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Fh(i)).join(",")),`Target(${r})`}(Pi(n))}; limitType=${n.limitType})`}function lm(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Fe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of Bh(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(s,a,c){const d=aF(s,a,c);return s.inclusive?d<=0:d<0}(r.startAt,Bh(r),i)||r.endAt&&!function(s,a,c){const d=aF(s,a,c);return s.inclusive?d>=0:d>0}(r.endAt,Bh(r),i)));var r,i}function EF(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function TF(n){return(e,t)=>{let r=!1;for(const i of Bh(n)){const o=uY(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function uY(n,e,t){const r=n.field.isKeyField()?Fe.comparator(e.key,t.key):function(o,s,a){const c=s.data.field(o),d=a.data.field(o);return null!==c&&null!==d?Oc(c,d):We()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return We()}}class La{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Rc(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return Qk(this.inner)}size(){return this.innerSize}}const dY=new Ln(Fe.comparator);function ho(){return dY}const CF=new Ln(Fe.comparator);function um(...n){let e=CF;for(const t of n)e=e.insert(t.key,t);return e}function DF(n){let e=CF;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function qs(){return dm()}function AF(){return dm()}function dm(){return new La(n=>n.toString(),(n,e)=>n.isEqual(e))}const hY=new Ln(Fe.comparator),fY=new bn(Fe.comparator);function Tt(...n){let e=fY;for(const t of n)e=e.add(t);return e}const pY=new bn(ft);function xT(){return pY}function kT(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tm(e)?"-0":e}}function SF(n){return{integerValue:""+n}}function RF(n,e){return Uk(e)?SF(e):kT(n,e)}class k0{constructor(){this._=void 0}}function gY(n,e,t){return n instanceof jh?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&D0(o)&&(o=A0(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof su?PF(n,e):n instanceof au?NF(n,e):function(i,o){const s=MF(i,o),a=OF(s)+OF(i.Pe);return AT(s)&&AT(i.Pe)?SF(a):kT(i.serializer,a)}(n,e)}function mY(n,e,t){return n instanceof su?PF(n,e):n instanceof au?NF(n,e):t}function MF(n,e){return n instanceof Hh?AT(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class jh extends k0{}class su extends k0{constructor(e){super(),this.elements=e}}function PF(n,e){const t=xF(e);for(const r of n.elements)t.some(i=>Ws(i,r))||t.push(r);return{arrayValue:{values:t}}}class au extends k0{constructor(e){super(),this.elements=e}}function NF(n,e){let t=xF(e);for(const r of n.elements)t=t.filter(i=>!Ws(i,r));return{arrayValue:{values:t}}}class Hh extends k0{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function OF(n){return Yn(n.integerValue||n.doubleValue)}function xF(n){return im(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class hm{constructor(e,t){this.field=e,this.transform=t}}class yY{constructor(e,t){this.version=e,this.transformResults=t}}class Jn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function F0(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class V0{}function kF(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Gh(n.key,Jn.none()):new $h(n.key,n.data,Jn.none());{const t=n.data,r=di.empty();let i=new bn(zn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new Ba(n.key,r,new uo(i.toArray()),Jn.none())}}function vY(n,e,t){n instanceof $h?function(i,o,s){const a=i.value.clone(),c=LF(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Ba?function(i,o,s){if(!F0(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=LF(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(VF(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function fm(n,e,t,r){return n instanceof $h?function(o,s,a,c){if(!F0(o.precondition,s))return a;const d=o.value.clone(),f=BF(o.fieldTransforms,c,s);return d.setAll(f),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ba?function(o,s,a,c){if(!F0(o.precondition,s))return a;const d=BF(o.fieldTransforms,c,s),f=s.data;return f.setAll(VF(o)),f.setAll(d),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(n,e,t,r):(a=t,F0(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function bY(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=MF(r.transform,i||null);null!=o&&(null===t&&(t=di.empty()),t.set(r.field,o))}return t||null}function FF(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&Nh(r,i,(o,s)=>function _Y(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof su&&i instanceof su||r instanceof au&&i instanceof au?Nh(r.elements,i.elements,Ws):r instanceof Hh&&i instanceof Hh?Ws(r.Pe,i.Pe):r instanceof jh&&i instanceof jh);var r,i}(o,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class $h extends V0{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ba extends V0{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function VF(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function LF(n,e,t){const r=new Map;qe(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,mY(s,a,t[i]))}return r}function BF(n,e,t){const r=new Map;for(const i of n){const o=i.transform,s=t.data.field(i.field);r.set(i.field,gY(o,s,e))}return r}class Gh extends V0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FT extends V0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class VT{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&vY(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=fm(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=fm(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=AF();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;const c=kF(s,a);null!==c&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Ye.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Tt())}isEqual(e){return this.batchId===e.batchId&&Nh(this.mutations,e.mutations,(t,r)=>FF(t,r))&&Nh(this.baseMutations,e.baseMutations,(t,r)=>FF(t,r))}}class LT{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){qe(e.mutations.length===r.length);let i=hY;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new LT(e,t,r,i)}}class BT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class IY{constructor(e,t){this.count=e,this.unchangedNames=t}}var Rr,Gt;function jF(n){switch(n){default:return We();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function HF(n){if(void 0===n)return Ir("GRPC error has no .code"),ie.UNKNOWN;switch(n){case Rr.OK:return ie.OK;case Rr.CANCELLED:return ie.CANCELLED;case Rr.UNKNOWN:return ie.UNKNOWN;case Rr.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Rr.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Rr.INTERNAL:return ie.INTERNAL;case Rr.UNAVAILABLE:return ie.UNAVAILABLE;case Rr.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Rr.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Rr.NOT_FOUND:return ie.NOT_FOUND;case Rr.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Rr.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Rr.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Rr.ABORTED:return ie.ABORTED;case Rr.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Rr.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Rr.DATA_LOSS:return ie.DATA_LOSS;default:return We()}}(Gt=Rr||(Rr={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";function $F(){return new TextEncoder}const wY=new eu([4294967295,4294967295],0);function GF(n){const e=$F().encode(n),t=new Ek;return t.update(e),new Uint8Array(t.digest())}function zF(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new eu([t,r],0),new eu([i,o],0)]}class UT{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new pm(`Invalid padding: ${t}`);if(r<0)throw new pm(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new pm(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new pm(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=eu.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(eu.fromNumber(r)));return 1===i.compare(wY)&&(i=new eu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=GF(e),[r,i]=zF(t);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new UT(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Ie)return;const t=GF(e),[r,i]=zF(t);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class pm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class gm{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,mm.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new gm(Ye.min(),i,new Ln(ft),ho(),Tt())}}class mm{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new mm(r,t,Tt(),Tt(),Tt())}}class B0{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class WF{constructor(e,t){this.targetId=e,this.me=t}}class qF{constructor(e,t,r=fr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class KF{constructor(){this.fe=0,this.ge=YF(),this.pe=fr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Tt(),t=Tt(),r=Tt();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:We()}}),new mm(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=YF()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class EY{constructor(e){this.Le=e,this.Be=new Map,this.ke=ho(),this.qe=QF(),this.Qe=new Ln(ft)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:We()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){const t=e.targetId,r=e.me.count,i=this.Je(t);if(i){const o=i.target;if(N0(o))if(0===r){const s=new Fe(o.path);this.Ue(t,s,Wn.newNoDocument(s,Ye.min()))}else qe(1===r);else{const s=this.Ye(t);if(s!==r){const a=this.Ze(e),c=a?this.Xe(a,e,s):1;0!==c&&(this.je(t),this.Qe=this.Qe.insert(t,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let s,a;try{s=Fa(r).toUint8Array()}catch(c){if(c instanceof Jk)return Mo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new UT(s,i,o)}catch(c){return Mo(c instanceof pm?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Ie?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){const t=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&N0(a.target)){const c=new Fe(a.target.path);null!==this.ke.get(c)||this.it(s,c)||this.Ue(s,c,Wn.newNoDocument(c,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=Tt();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const d=this.Je(c);return!d||"TargetPurposeLimboResolution"===d.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new gm(e,t,this.Qe,this.ke,r);return this.ke=ho(),this.qe=QF(),this.Qe=new Ln(ft),i}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new KF,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new bn(ft),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Ie("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new KF),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function QF(){return new Ln(Fe.comparator)}function YF(){return new Ln(Fe.comparator)}const TY={asc:"ASCENDING",desc:"DESCENDING"},CY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DY={and:"AND",or:"OR"};class AY{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function jT(n,e){return n.useProto3Json||em(e)?e:{value:e}}function zh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JF(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function SY(n,e){return zh(n,e.toTimestamp())}function wr(n){return qe(!!n),Ye.fromTimestamp(function(t){const r=ka(t);return new Qn(r.seconds,r.nanos)}(n))}function HT(n,e){return $T(n,e).canonicalString()}function $T(n,e){const t=(i=n,new Ut(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?t:t.child(e)}function ZF(n){const e=Ut.fromString(n);return qe(lV(e)),e}function _m(n,e){return HT(n.databaseId,e.path)}function Ks(n,e){const t=ZF(e);if(t.get(1)!==n.databaseId.projectId)throw new _e(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _e(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Fe(tV(t))}function XF(n,e){return HT(n.databaseId,e)}function eV(n){const e=ZF(n);return 4===e.length?Ut.emptyPath():tV(e)}function GT(n){return new Ut(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function tV(n){return qe(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function nV(n,e,t){return{name:_m(n,e),fields:t.value.mapValue.fields}}function rV(n,e,t){const r=Ks(n,e.name),i=wr(e.updateTime),o=e.createTime?wr(e.createTime):Ye.min(),s=new di({mapValue:{fields:e.fields}}),a=Wn.newFoundDocument(r,i,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function ym(n,e){let t;if(e instanceof $h)t={update:nV(n,e.key,e.value)};else if(e instanceof Gh)t={delete:_m(n,e.key)};else if(e instanceof Ba)t={update:nV(n,e.key,e.data),updateMask:FY(e.fieldMask)};else{if(!(e instanceof FT))return We();t={verify:_m(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof jh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof su)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof au)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Hh)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw We()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:SY(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:We()),t;var o}function zT(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Jn.updateTime(wr(o.updateTime)):void 0!==o.exists?Jn.exists(o.exists):Jn.none():Jn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let c=null;"setToServerValue"in a?(qe("REQUEST_TIME"===a.setToServerValue),c=new jh):"appendMissingElements"in a?c=new su(a.appendMissingElements.values||[]):"removeAllFromArray"in a?c=new au(a.removeAllFromArray.values||[]):"increment"in a?c=new Hh(s,a.increment):We();const d=zn.fromServerFormat(a.fieldPath);return new hm(d,c)}(n,i)):[];var o;if(e.update){const i=Ks(n,e.update.name),o=new di({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new uo((e.updateMask.fieldPaths||[]).map(f=>zn.fromServerFormat(f)));return new Ba(i,o,s,t,r)}return new $h(i,o,t,r)}if(e.delete){const i=Ks(n,e.delete);return new Gh(i,t)}if(e.verify){const i=Ks(n,e.verify);return new FT(i,t)}return We()}function iV(n,e){return{documents:[XF(n,e.path)]}}function U0(n,e){const t={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=XF(n,i);const o=function(d){if(0!==d.length)return cV(_n.create(d,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const s=function(d){if(0!==d.length)return d.map(f=>{return{field:kc((y=f).field),direction:OY(y.dir)};var y})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const a=jT(n,e.limit);return null!==a&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt={before:(d=e.startAt).inclusive,values:d.position}),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:t,parent:i};var d}function sV(n){let e=eV(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){qe(1===r);const f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];t.where&&(o=function(m){const y=aV(m);return y instanceof _n&&RT(y)?y.getFilters():[y]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(y=>{return new sm(Wh((E=y).field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction));var E}));let a=null;t.limit&&(a=function(m){let y;return y="object"==typeof m?m.value:m,em(y)?null:y}(t.limit));let c=null;var m;t.startAt&&(c=new xc((m=t.startAt).values||[],!!m.before));let d=null;return t.endAt&&(d=function(m){return new xc(m.values||[],!m.before)}(t.endAt)),yF(e,i,s,o,a,"F",c,d)}function aV(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Wh(t.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Wh(t.unaryFilter.field);return jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Wh(t.unaryFilter.field);return jt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Wh(t.unaryFilter.field);return jt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return We()}}(n):void 0!==n.fieldFilter?jt.create(Wh((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return We()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return _n.create(t.compositeFilter.filters.map(r=>aV(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return We()}}(t.compositeFilter.op))}(n):We();var t}function OY(n){return TY[n]}function xY(n){return CY[n]}function kY(n){return DY[n]}function kc(n){return{fieldPath:n.canonicalString()}}function Wh(n){return zn.fromServerFormat(n.fieldPath)}function cV(n){return n instanceof jt?function(t){if("=="===t.op){if(tF(t.value))return{unaryFilter:{field:kc(t.field),op:"IS_NAN"}};if(eF(t.value))return{unaryFilter:{field:kc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(tF(t.value))return{unaryFilter:{field:kc(t.field),op:"IS_NOT_NAN"}};if(eF(t.value))return{unaryFilter:{field:kc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kc(t.field),op:xY(t.op),value:t.value}}}(n):n instanceof _n?function(t){const r=t.getFilters().map(i=>cV(i));return 1===r.length?r[0]:{compositeFilter:{op:kY(t.op),filters:r}}}(n):We()}function FY(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function lV(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ua{constructor(e,t,r,i,o=Ye.min(),s=Ye.min(),a=fr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Ua(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class uV{constructor(e){this.ct=e}}function dV(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:j0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:_m(o=n.ct,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:zh(o,s.version.toTimestamp()),createTime:zh(o,s.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:cu(e.version)};else{if(!e.isUnknownDocument())return We();r.unknownDocument={path:t.path.toArray(),version:cu(e.version)}}var o,s;return r}function j0(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function cu(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function lu(n){const e=new Qn(n.seconds,n.nanoseconds);return Ye.fromTimestamp(e)}function uu(n,e){const t=(e.baseMutations||[]).map(o=>zT(n.ct,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const r=e.mutations.map(o=>zT(n.ct,o)),i=Qn.fromMillis(e.localWriteTimeMs);return new VT(e.batchId,i,t,r)}function vm(n){const e=lu(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?lu(n.lastLimboFreeSnapshotVersion):Ye.min();let r;return r=void 0!==n.query.documents?(qe(1===(o=n.query).documents.length),Pi(Lh(eV(o.documents[0])))):function(o){return Pi(sV(o))}(n.query),new Ua(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,fr.fromBase64String(n.resumeToken));var o}function hV(n,e){const t=cu(e.snapshotVersion),r=cu(e.lastLimboFreeSnapshotVersion);let i;i=N0(e.target)?iV(n.ct,e.target):U0(n.ct,e.target)._t;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ou(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function WT(n){const e=sV({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?x0(e,e.limit,"L"):e}function qT(n,e){return new BT(e.largestBatchId,zT(n.ct,e.overlayMutation))}function fV(n,e){const t=e.path.lastSegment();return[n,Mi(e.path.popLast()),t]}function pV(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:cu(r.readTime),documentKey:Mi(r.documentKey.path),largestBatchId:r.largestBatchId}}class LY{getBundleMetadata(e,t){return gV(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:lu(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return gV(e).put({bundleId:(i=t).id,createTime:cu(wr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return mV(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:WT(o.bundledQuery),readTime:lu(o.readTime)};var o})}saveNamedQuery(e,t){return mV(e).put({name:(i=t).name,readTime:cu(wr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function gV(n){return jr(n,"bundles")}function mV(n){return jr(n,"namedQueries")}class H0{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){return new H0(e,t.uid||"")}getOverlay(e,t){return bm(e).get(fV(this.userId,t)).next(r=>r?qT(this.serializer,r):null)}getOverlays(e,t){const r=qs();return Q.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,s)=>{const a=new BT(t,s);i.push(this.ht(e,a))}),Q.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(s=>i.add(Mi(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(bm(e).j("collectionPathOverlayIndex",a))}),Q.waitFor(o)}getOverlaysForCollection(e,t,r){const i=qs(),o=Mi(t),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return bm(e).U("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const d=qT(this.serializer,c);i.set(d.getKey(),d)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=qs();let s;const a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return bm(e).J({index:"collectionGroupOverlayIndex",range:a},(c,d,f)=>{const m=qT(this.serializer,d);o.size()<i||m.largestBatchId===s?(o.set(m.getKey(),m),s=m.largestBatchId):f.done()}).next(()=>o)}ht(e,t){return bm(e).put(function(i,o,s){const[a,c,d]=fV(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:d,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:ym(i.ct,s.mutation)}}(this.serializer,this.userId,t))}}function bm(n){return jr(n,"documentOverlays")}class BY{Pt(e){return jr(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(t=>{const r=t?.value;return r?fr.fromUint8Array(r):fr.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Pt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class du{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Yn(e.integerValue));else if("doubleValue"in e){const r=Yn(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),tm(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),"string"==typeof r&&(r=ka(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Fa(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?nF(e)?this.dt(t,Number.MAX_SAFE_INTEGER):P0(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):We()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const r=e.fields||{};this.dt(t,55);for(const i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;const o=e.fields||{};this.dt(t,53);const s="value",a=(null===(i=null===(r=o[s].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.length)||0;this.dt(t,15),t.At(Yn(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){const r=e.values||[];this.dt(t,50);for(const i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),Fe.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}function UY(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function _V(n){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const s=UY(255&r[o]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}du.vt=new du;class jY{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ft(r.value),r=t.next();this.Mt()}xt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ot(r.value),r=t.next();this.Nt()}Lt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=t.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=t.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const t=this.qt(e),r=_V(t);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Kt(e){const t=this.qt(e),r=_V(t);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const t=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ft(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(t)}Ot(e){const t=255&e;0===t?(this.Gt(0),this.Gt(255)):255===t?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class HY{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class $Y{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Im{constructor(){this.jt=new jY,this.Ht=new HY(this.jt),this.Jt=new $Y(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class hu{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new hu(this.indexId,this.documentKey,this.arrayValue,r)}}function Fc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=yV(n.arrayValue,e.arrayValue),0!==t?t:(t=yV(n.directionalValue,e.directionalValue),0!==t?t:Fe.comparator(n.documentKey,e.documentKey)))}function yV(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class vV{constructor(e){this.Xt=new bn((t,r)=>zn.comparator(t.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const t of e.filters){const r=t;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(qe(e.collectionGroup===this.collectionId),this.nn)return!1;const t=bT(e);if(void 0!==t&&!this.sn(t))return!1;const r=tu(e);let i=new Set,o=0,s=0;for(;o<r.length&&this.sn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Xt.size>0){const a=this.Xt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const c=r[o];if(!this.on(a,c)||!this._n(this.en[s++],c))return!1}++o}for(;o<r.length;++o)if(s>=this.en.length||!this._n(this.en[s++],r[o]))return!1;return!0}an(){if(this.nn)return null;let e=new bn(zn.comparator);const t=[];for(const r of this.tn)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)t.push(new nu(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new nu(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new nu(r.field,"asc"===r.dir?0:1)));return new Oh(Oh.UNKNOWN_ID,this.collectionId,t,xh.empty())}sn(e){for(const t of this.tn)if(this.on(t,e))return!0;return!1}on(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}_n(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function bV(n){var e,t;if(qe(n instanceof jt||n instanceof _n),n instanceof jt){if(n instanceof gF){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>jt.create(n.field,"==",o)))||[];return _n.create(i,"or")}return n}const r=n.filters.map(i=>bV(i));return _n.create(r,n.op)}function GY(n){if(0===n.getFilters().length)return[];const e=YT(bV(n));return qe(IV(e)),KT(e)||QT(e)?[e]:e.getFilters()}function KT(n){return n instanceof jt}function QT(n){return n instanceof _n&&RT(n)}function IV(n){return KT(n)||QT(n)||function(t){if(t instanceof _n&&ST(t)){for(const r of t.getFilters())if(!KT(r)&&!QT(r))return!1;return!0}return!1}(n)}function YT(n){if(qe(n instanceof jt||n instanceof _n),n instanceof jt)return n;if(1===n.filters.length)return YT(n.filters[0]);const e=n.filters.map(r=>YT(r));let t=_n.create(e,n.op);return t=$0(t),IV(t)?t:(qe(t instanceof _n),qe(Vh(t)),qe(t.filters.length>1),t.filters.reduce((r,i)=>JT(r,i)))}function JT(n,e){let t;return qe(n instanceof jt||n instanceof _n),qe(e instanceof jt||e instanceof _n),t=n instanceof jt?e instanceof jt?_n.create([n,e],"and"):wV(n,e):e instanceof jt?wV(e,n):function(i,o){if(qe(i.filters.length>0&&o.filters.length>0),Vh(i)&&Vh(o))return hF(i,o.getFilters());const s=ST(i)?i:o,a=ST(i)?o:i,c=s.filters.map(d=>JT(d,a));return _n.create(c,"or")}(n,e),$0(t)}function wV(n,e){if(Vh(e))return hF(e,n.getFilters());{const t=e.filters.map(r=>JT(n,r));return _n.create(t,"or")}}function $0(n){if(qe(n instanceof jt||n instanceof _n),n instanceof jt)return n;const e=n.getFilters();if(1===e.length)return $0(e[0]);if(uF(n))return n;const t=e.map(i=>$0(i)),r=[];return t.forEach(i=>{i instanceof jt?r.push(i):i instanceof _n&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:_n.create(r,n.op)}class zY{constructor(){this.un=new ZT}addToCollectionParentIndex(e,t){return this.un.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(Po.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(Po.min())}updateCollectionGroup(e,t,r){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class ZT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new bn(Ut.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bn(Ut.comparator)).toArray()}}const G0=new Uint8Array(0);class WY{constructor(e,t){this.databaseId=t,this.cn=new ZT,this.ln=new La(r=>ou(r),(r,i)=>am(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.cn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.cn.add(t)});const o={collectionId:r,parent:Mi(i)};return EV(e).put(o)}return Q.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Ok(t),""],!1,!0);return EV(e).U(i).next(o=>{for(const s of o){if(s.collectionId!==t)break;r.push(zs(s.parent))}return r})}addFieldIndex(e,t){const r=wm(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;delete i.indexId;const o=r.add(i);if(t.indexState){const s=Kh(e);return o.next(a=>{s.put(pV(a,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=wm(e),i=Kh(e),o=qh(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=wm(e),r=qh(e),i=Kh(e);return t.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,t){return Q.forEach(this.hn(t),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const o=new vV(r).an();if(null!=o)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const r=qh(e);let i=!0;const o=new Map;return Q.forEach(this.hn(t),s=>this.Pn(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=Tt();const a=[];return Q.forEach(o,(c,d)=>{var J;Ie("IndexedDbIndexManager",`Using index ${J=c,`id=${J.indexId}|cg=${J.collectionGroup}|f=${J.fields.map(re=>`${re.fieldPath}:${re.kind}`).join(",")}`} to execute ${ou(t)}`);const f=function(J,re){const pe=bT(re);if(void 0===pe)return null;for(const Ae of O0(J,pe.fieldPath))switch(Ae.op){case"array-contains-any":return Ae.value.arrayValue.values||[];case"array-contains":return[Ae.value]}return null}(d,c),m=function(J,re){const pe=new Map;for(const Ae of tu(re))for(const k of O0(J,Ae.fieldPath))switch(k.op){case"==":case"in":pe.set(Ae.fieldPath.canonicalString(),k.value);break;case"not-in":case"!=":return pe.set(Ae.fieldPath.canonicalString(),k.value),Array.from(pe.values())}return null}(d,c),y=function(J,re){const pe=[];let Ae=!0;for(const k of tu(re)){const A=0===k.kind?mF(J,k.fieldPath,J.startAt):_F(J,k.fieldPath,J.startAt);pe.push(A.value),Ae&&(Ae=A.inclusive)}return new xc(pe,Ae)}(d,c),b=function(J,re){const pe=[];let Ae=!0;for(const k of tu(re)){const A=0===k.kind?_F(J,k.fieldPath,J.endAt):mF(J,k.fieldPath,J.endAt);pe.push(A.value),Ae&&(Ae=A.inclusive)}return new xc(pe,Ae)}(d,c),E=this.In(c,d,y),D=this.In(c,d,b),S=this.Tn(c,d,m),j=this.En(c.indexId,f,E,y.inclusive,D,b.inclusive,S);return Q.forEach(j,O=>r.G(O,t.limit).next(J=>{J.forEach(re=>{const pe=Fe.fromSegments(re.documentKey);s.has(pe)||(s=s.add(pe),a.push(pe))})}))}).next(()=>a)}return Q.resolve(null)})}hn(e){let t=this.ln.get(e);return t||(t=0===e.filters.length?[e]:GY(_n.create(e.filters,"and")).map(r=>PT(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,t),t)}En(e,t,r,i,o,s,a){const c=(null!=t?t.length:1)*Math.max(r.length,o.length),d=c/(null!=t?t.length:1),f=[];for(let m=0;m<c;++m){const y=t?this.dn(t[m/d]):G0,b=this.An(e,y,r[m%d],i),E=this.Rn(e,y,o[m%d],s),D=a.map(S=>this.An(e,y,S,!0));f.push(...this.createRange(b,E,D))}return f}An(e,t,r,i){const o=new hu(e,Fe.empty(),t,r);return i?o:o.Zt()}Rn(e,t,r,i){const o=new hu(e,Fe.empty(),t,r);return i?o.Zt():o}Pn(e,t){const r=new vV(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.rn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let r=2;const i=this.hn(t);return Q.forEach(i,o=>this.Pn(e,o).next(s=>{s?0!==r&&s.fields.length<function(c){let d=new bn(zn.comparator),f=!1;for(const m of c.filters)for(const y of m.getFlattenedFilters())y.field.isKeyField()||("array-contains"===y.op||"array-contains-any"===y.op?f=!0:d=d.add(y.field));for(const m of c.orderBy)m.field.isKeyField()||(d=d.add(m.field));return d.size+(f?1:0)}(o)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}Vn(e,t){const r=new Im;for(const i of tu(e)){const o=t.data.field(i.fieldPath);if(null==o)return null;const s=r.Yt(i.kind);du.vt.It(o,s)}return r.zt()}dn(e){const t=new Im;return du.vt.It(e,t.Yt(0)),t.zt()}mn(e,t){const r=new Im;return du.vt.It(iu(this.databaseId,t),r.Yt(function(o){const s=tu(o);return 0===s.length?0:s[s.length-1].kind}(e))),r.zt()}Tn(e,t,r){if(null===r)return[];let i=[];i.push(new Im);let o=0;for(const s of tu(e)){const a=r[o++];for(const c of i)if(this.fn(t,s.fieldPath)&&im(a))i=this.gn(i,s,a);else{const d=c.Yt(s.kind);du.vt.It(a,d)}}return this.pn(i)}In(e,t,r){return this.Tn(e,t,r.position)}pn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].zt();return t}gn(e,t,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const c=new Im;c.seed(a.zt()),du.vt.It(s,c.Yt(t.kind)),o.push(c)}return o}fn(e,t){return!!e.filters.find(r=>r instanceof jt&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=wm(e),i=Kh(e);return(t?r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.U()).next(o=>{const s=[];return Q.forEach(o,a=>i.get([a.indexId,this.uid]).next(c=>{s.push(function(f,m){const y=m?new xh(m.sequenceNumber,new Po(lu(m.readTime),new Fe(zs(m.documentKey)),m.largestBatchId)):xh.empty(),b=f.fields.map(([E,D])=>new nu(zn.fromServerFormat(E),D));return new Oh(f.indexId,f.collectionGroup,b,y)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:ft(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=wm(e),o=Kh(e);return this.yn(e).next(s=>i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>Q.forEach(a,c=>o.put(pV(c.indexId,this.uid,s,r)))))}updateIndexEntries(e,t){const r=new Map;return Q.forEach(t,(i,o)=>{const s=r.get(i.collectionGroup);return(s?Q.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),Q.forEach(a,c=>this.wn(e,i,c).next(d=>{const f=this.Sn(o,c);return d.isEqual(f)?Q.resolve():this.bn(e,o,c,d,f)}))))})}Dn(e,t,r,i){return qh(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,t.key),documentKey:t.key.path.toArray()})}vn(e,t,r,i){return qh(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=qh(e);let o=new bn(Fc);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,t)])},(s,a)=>{o=o.add(new hu(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>o)}Sn(e,t){let r=new bn(Fc);const i=this.Vn(t,e);if(null==i)return r;const o=bT(t);if(null!=o){const s=e.data.field(o.fieldPath);if(im(s))for(const a of s.arrayValue.values||[])r=r.add(new hu(t.indexId,e.key,this.dn(a),i))}else r=r.add(new hu(t.indexId,e.key,G0,i));return r}bn(e,t,r,i,o){Ie("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(c,d,f,m,y){const b=c.getIterator(),E=d.getIterator();let D=kh(b),S=kh(E);for(;D||S;){let j=!1,O=!1;if(D&&S){const J=f(D,S);J<0?O=!0:J>0&&(j=!0)}else null!=D?O=!0:j=!0;j?(m(S),S=kh(E)):O?(y(D),D=kh(b)):(D=kh(b),S=kh(E))}}(i,o,Fc,a=>{s.push(this.Dn(e,t,r,a))},a=>{s.push(this.vn(e,t,r,a))}),Q.waitFor(s)}yn(e){let t=1;return Kh(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((s,a)=>Fc(s,a)).filter((s,a,c)=>!a||0!==Fc(s,c[a-1]));const i=[];i.push(e);for(const s of r){const a=Fc(s,e),c=Fc(s,t);if(0===a)i[0]=e.Zt();else if(a>0&&c<0)i.push(s),i.push(s.Zt());else if(c>0)break}i.push(t);const o=[];for(let s=0;s<i.length;s+=2){if(this.Cn(i[s],i[s+1]))return[];o.push(IDBKeyRange.bound([i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,G0,[]],[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,G0,[]]))}return o}Cn(e,t){return Fc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(TV)}getMinOffset(e,t){return Q.mapArray(this.hn(t),r=>this.Pn(e,r).next(i=>i||We())).next(TV)}}function EV(n){return jr(n,"collectionParents")}function qh(n){return jr(n,"indexEntries")}function wm(n){return jr(n,"indexConfiguration")}function Kh(n){return jr(n,"indexState")}function TV(n){qe(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;IT(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Po(e.readTime,e.documentKey,t)}const CV={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ni{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ni(e,Ni.DEFAULT_COLLECTION_PERCENTILE,Ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function DV(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),o=[],s=IDBKeyRange.only(t.batchId);let a=0;const c=r.J({range:s},(f,m,y)=>(a++,y.delete()));o.push(c.next(()=>{qe(1===a)}));const d=[];for(const f of t.mutations){const m=$k(e,f.key.path,t.batchId);o.push(i.delete(m)),d.push(f.key)}return Q.waitFor(o).next(()=>d)}function z0(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw We();e=n.noDocument}return JSON.stringify(e).length}Ni.DEFAULT_COLLECTION_PERCENTILE=10,Ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ni.DEFAULT=new Ni(41943040,Ni.DEFAULT_COLLECTION_PERCENTILE,Ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ni.DISABLED=new Ni(-1,0,0);class W0{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,t,r,i){qe(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new W0(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vc(e).J({index:"userMutationsIndex",range:r},(i,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=Qh(e),s=Vc(e);return s.add({}).next(a=>{qe("number"==typeof a);const c=new VT(a,t,r,i),d=function(b,E,D){const S=D.baseMutations.map(O=>ym(b.ct,O)),j=D.mutations.map(O=>ym(b.ct,O));return{userId:E,batchId:D.batchId,localWriteTimeMs:D.localWriteTime.toMillis(),baseMutations:S,mutations:j}}(this.serializer,this.userId,c),f=[];let m=new bn((y,b)=>ft(y.canonicalString(),b.canonicalString()));for(const y of i){const b=$k(this.userId,y.key.path,a);m=m.add(y.key.path.popLast()),f.push(s.put(d)),f.push(o.put(b,OQ))}return m.forEach(y=>{f.push(this.indexManager.addToCollectionParentIndex(e,y))}),e.addOnCommittedListener(()=>{this.Fn[a]=c.keys()}),Q.waitFor(f).next(()=>c)})}lookupMutationBatch(e,t){return Vc(e).get(t).next(r=>r?(qe(r.userId===this.userId),uu(this.serializer,r)):null)}Mn(e,t){return this.Fn[t]?Q.resolve(this.Fn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Fn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Vc(e).J({index:"userMutationsIndex",range:i},(s,a,c)=>{a.userId===this.userId&&(qe(a.batchId>=r),o=uu(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Vc(e).J({index:"userMutationsIndex",range:t,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vc(e).U("userMutationsIndex",t).next(r=>r.map(i=>uu(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=T0(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Qh(e).J({range:i},(s,a,c)=>{const[d,f,m]=s,y=zs(f);if(d===this.userId&&t.path.isEqual(y))return Vc(e).get(m).next(b=>{if(!b)throw We();qe(b.userId===this.userId),o.push(uu(this.serializer,b))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new bn(ft);const i=[];return t.forEach(o=>{const s=T0(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=Qh(e).J({range:a},(d,f,m)=>{const[y,b,E]=d,D=zs(b);y===this.userId&&o.path.isEqual(D)?r=r.add(E):m.done()});i.push(c)}),Q.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=T0(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new bn(ft);return Qh(e).J({range:s},(c,d,f)=>{const[m,y,b]=c,E=zs(y);m===this.userId&&r.isPrefixOf(E)?E.length===i&&(a=a.add(b)):f.done()}).next(()=>this.xn(e,a))}xn(e,t){const r=[],i=[];return t.forEach(o=>{i.push(Vc(e).get(o).next(s=>{if(null===s)throw We();qe(s.userId===this.userId),r.push(uu(this.serializer,s))}))}),Q.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return DV(e._e,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.On(t.batchId)}),Q.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Q.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Qh(e).J({range:r},(o,s,a)=>{if(o[0]===this.userId){const c=zs(o[1]);i.push(c)}else a.done()}).next(()=>{qe(0===i.length)})})}containsKey(e,t){return AV(e,this.userId,t)}Nn(e){return SV(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function AV(n,e,t){const r=T0(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return Qh(n).J({range:o,H:!0},(a,c,d)=>{const[f,m,y]=a;f===e&&m===i&&(s=!0),d.done()}).next(()=>s)}function Vc(n){return jr(n,"mutations")}function Qh(n){return jr(n,"documentMutations")}function SV(n){return jr(n,"mutationQueues")}class fu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new fu(0)}static kn(){return new fu(-1)}}class qY{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.qn(e).next(t=>{const r=new fu(t.highestTargetId);return t.highestTargetId=r.next(),this.Qn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(t=>Ye.fromTimestamp(new Qn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Qn(e,i)))}addTargetData(e,t){return this.Kn(e,t).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(t,r),this.Qn(e,r))))}updateTargetData(e,t){return this.Kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Yh(e).delete(t.targetId)).next(()=>this.qn(e)).next(r=>(qe(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return Yh(e).J((s,a)=>{const c=vm(a);c.sequenceNumber<=t&&null===r.get(c.targetId)&&(i++,o.push(this.removeTargetData(e,c)))}).next(()=>Q.waitFor(o)).next(()=>i)}forEachTarget(e,t){return Yh(e).J((r,i)=>{const o=vm(i);t(o)})}qn(e){return RV(e).get("targetGlobalKey").next(t=>(qe(null!==t),t))}Qn(e,t){return RV(e).put("targetGlobalKey",t)}Kn(e,t){return Yh(e).put(hV(this.serializer,t))}$n(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=ou(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Yh(e).J({range:i,index:"queryTargetsIndex"},(s,a,c)=>{const d=vm(a);am(t,d.target)&&(o=d,c.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=Lc(e);return t.forEach(s=>{const a=Mi(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),Q.waitFor(i)}removeMatchingKeys(e,t,r){const i=Lc(e);return Q.forEach(t,o=>{const s=Mi(o.path);return Q.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=Lc(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Lc(e);let o=Tt();return i.J({range:r,H:!0},(s,a,c)=>{const d=zs(s[1]),f=new Fe(d);o=o.add(f)}).next(()=>o)}containsKey(e,t){const r=Mi(t.path),i=IDBKeyRange.bound([r],[Ok(r)],!1,!0);let o=0;return Lc(e).J({index:"documentTargetsIndex",H:!0,range:i},([s,a],c,d)=>{0!==s&&(o++,d.done())}).next(()=>o>0)}ot(e,t){return Yh(e).get(t).next(r=>r?vm(r):null)}}function Yh(n){return jr(n,"targets")}function RV(n){return jr(n,"targetGlobal")}function Lc(n){return jr(n,"targetDocuments")}function MV([n,e],[t,r]){const i=ft(n,t);return 0===i?ft(e,r):i}class KY{constructor(e){this.Un=e,this.buffer=new bn(MV),this.Wn=0}Gn(){return++this.Wn}zn(e){const t=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();MV(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class PV{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var t=this;Ie("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ue.A)(function*(){t.jn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Sc(r)?Ie("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Ac(r)}yield t.Hn(3e5)}))}}class QY{constructor(e,t){this.Jn=e,this.params=t}calculateTargetCount(e,t){return this.Jn.Yn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Q.resolve(No.oe);const r=new KY(t);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(CV)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CV):this.Xn(e,t))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,t){let r,i,o,s,a,c,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(Ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,s=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,a=Date.now(),this.removeTargets(e,r,t))).next(m=>(o=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(d=Date.now(),Ph()<=$s.$b.DEBUG&&Ie("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-f}ms\n\tDetermined least recently used ${i} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${m} documents in `+(d-c)+`ms\nTotal Duration: ${d-f}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:m})))}}class YY{constructor(e,t){this.db=e,this.garbageCollector=function NV(n,e){return new QY(n,e)}(this,t)}Yn(e){const t=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}er(e){let t=0;return this.Zn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Zn(e,t){return this.tr(e,(r,i)=>t(i))}addReference(e,t,r){return q0(e,r)}removeReference(e,t,r){return q0(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return q0(e,t)}nr(e,t){return function(i,o){let s=!1;return SV(i).Y(a=>AV(i,a,o).next(c=>(c&&(s=!0),Q.resolve(!c)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.tr(e,(s,a)=>{if(a<=t){const c=this.nr(e,s).next(d=>{if(!d)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,Ye.min()),Lc(e).delete([0,Mi(s.path)])))});i.push(c)}}).next(()=>Q.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return q0(e,t)}tr(e,t){const r=Lc(e);let i,o=No.oe;return r.J({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:d})=>{0===s?(o!==No.oe&&t(new Fe(zs(i)),o),o=d,i=c):o=No.oe}).next(()=>{o!==No.oe&&t(new Fe(zs(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function q0(n,e){return Lc(n).put((i=n.currentSequenceNumber,{targetId:0,path:Mi(e.path),sequenceNumber:i}));var i}class OV{constructor(){this.changes=new La(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Q.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class JY{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return pu(e).put(r)}removeEntry(e,t,r){return pu(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],j0(s),a[a.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.rr(e,r)))}getEntry(e,t){let r=Wn.newInvalidDocument(t);return pu(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Em(t))},(i,o)=>{r=this.ir(t,o)}).next(()=>r)}sr(e,t){let r={size:0,document:Wn.newInvalidDocument(t)};return pu(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Em(t))},(i,o)=>{r={document:this.ir(t,o),size:z0(o)}}).next(()=>r)}getEntries(e,t){let r=ho();return this._r(e,t,(i,o)=>{const s=this.ir(i,o);r=r.insert(i,s)}).next(()=>r)}ar(e,t){let r=ho(),i=new Ln(Fe.comparator);return this._r(e,t,(o,s)=>{const a=this.ir(o,s);r=r.insert(o,a),i=i.insert(o,z0(s))}).next(()=>({documents:r,ur:i}))}_r(e,t,r){if(t.isEmpty())return Q.resolve();let i=new bn(VV);t.forEach(c=>i=i.add(c));const o=IDBKeyRange.bound(Em(i.first()),Em(i.last())),s=i.getIterator();let a=s.getNext();return pu(e).J({index:"documentKeyIndex",range:o},(c,d,f)=>{const m=Fe.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;a&&VV(a,m)<0;)r(a,null),a=s.getNext();a&&a.isEqual(m)&&(r(a,d),a=s.hasNext()?s.getNext():null),a?f.$(Em(a)):f.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,o){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),j0(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return pu(e).U(IDBKeyRange.bound(a,c,!0)).next(d=>{o?.incrementDocumentReadCount(d.length);let f=ho();for(const m of d){const y=this.ir(Fe.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);y.isFoundDocument()&&(lm(t,y)||i.has(y.key))&&(f=f.insert(y.key,y))}return f})}getAllFromCollectionGroup(e,t,r,i){let o=ho();const s=FV(t,r),a=FV(t,Po.max());return pu(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,d,f)=>{const m=this.ir(Fe.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);o=o.insert(m.key,m),o.size===i&&f.done()}).next(()=>o)}newChangeBuffer(e){return new ZY(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return kV(e).get("remoteDocumentGlobalKey").next(t=>(qe(!!t),t))}rr(e,t){return kV(e).put("remoteDocumentGlobalKey",t)}ir(e,t){if(t){const r=function VY(n,e){let t;if(e.document)t=rV(n.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Fe.fromSegments(e.noDocument.path),i=lu(e.noDocument.readTime);t=Wn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return We();{const r=Fe.fromSegments(e.unknownDocument.path),i=lu(e.unknownDocument.version);t=Wn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const o=new Qn(i[0],i[1]);return Ye.fromTimestamp(o)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Ye.min()))return r}return Wn.newInvalidDocument(e)}}function xV(n){return new JY(n)}class ZY extends OV{constructor(e,t){super(),this.cr=e,this.trackRemovals=t,this.lr=new La(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new bn((o,s)=>ft(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.lr.get(o);if(t.push(this.cr.removeEntry(e,o,a.readTime)),s.isValidDocument()){const c=dV(this.cr.serializer,s);i=i.add(o.path.popLast());const d=z0(c);r+=d-a.size,t.push(this.cr.addEntry(e,o,c))}else if(r-=a.size,this.trackRemovals){const c=dV(this.cr.serializer,s.convertToNoDocument(Ye.min()));t.push(this.cr.addEntry(e,o,c))}}),i.forEach(o=>{t.push(this.cr.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.cr.updateMetadata(e,r)),Q.waitFor(t)}getFromCache(e,t){return this.cr.sr(e,t).next(r=>(this.lr.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.cr.ar(e,t).next(({documents:r,ur:i})=>(i.forEach((o,s)=>{this.lr.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function kV(n){return jr(n,"remoteDocumentGlobal")}function pu(n){return jr(n,"remoteDocumentsV14")}function Em(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function FV(n,e){const t=e.documentKey.path.toArray();return[n,j0(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function VV(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=ft(t[o],r[o]),i)return i;return i=ft(t.length,r.length),i||(i=ft(t[t.length-2],r[r.length-2]),i||ft(t[t.length-1],r[r.length-1]))}class XY{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class LV{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&fm(r.mutation,i,uo.empty(),Qn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Tt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Tt()){const i=qs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=um();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const r=qs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Tt()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=ho();const s=dm(),a=dm();return t.forEach((c,d)=>{const f=r.get(d.key);i.has(d.key)&&(void 0===f||f.mutation instanceof Ba)?o=o.insert(d.key,d):void 0!==f?(s.set(d.key,f.mutation.getFieldMask()),fm(f.mutation,d,f.mutation.getFieldMask(),Qn.now())):s.set(d.key,uo.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((d,f)=>s.set(d,f)),t.forEach((d,f)=>{var m;return a.set(d,new XY(f,null!==(m=s.get(d))&&void 0!==m?m:null))}),a))}recalculateAndSaveOverlays(e,t){const r=dm();let i=new Ln((s,a)=>s-a),o=Tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(c=>{const d=t.get(c);if(null===d)return;let f=r.get(c)||uo.empty();f=a.applyToLocalView(d,f),r.set(c,f);const m=(i.get(a.batchId)||Tt()).add(c);i=i.insert(a.batchId,m)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),d=c.key,f=c.value,m=AF();f.forEach(y=>{if(!o.has(y)){const b=kF(t.get(y),r.get(y));null!==b&&m.set(y,b),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,m))}return Q.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return Fe.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):NT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var s}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):Q.resolve(qs());let a=-1,c=o;return s.next(d=>Q.forEach(d,(f,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),o.get(f)?Q.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{c=c.insert(f,y)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,c,d,Tt())).next(f=>({batchId:a,changes:DF(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Fe(t)).next(r=>{let i=um();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let s=um();return this.indexManager.getCollectionParents(e,o).next(a=>Q.forEach(a,c=>{const d=(m=t,y=c.child(o),new Va(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt));var m,y;return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(f=>{f.forEach((m,y)=>{s=s.insert(m,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,d)=>{const f=d.getKey();null===s.get(f)&&(s=s.insert(f,Wn.newInvalidDocument(f)))});let a=um();return s.forEach((c,d)=>{const f=o.get(c);void 0!==f&&fm(f.mutation,d,uo.empty(),Qn.now()),lm(t,d)&&(a=a.insert(c,d))}),a})}}class eJ{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Q.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,{id:(i=t).id,version:i.version,createTime:wr(i.createTime)}),Q.resolve();var i}getNamedQuery(e,t){return Q.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,{name:(i=t).name,query:WT(i.bundledQuery),readTime:wr(i.readTime)}),Q.resolve();var i}}class tJ{constructor(){this.overlays=new Ln(Fe.comparator),this.Ir=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const r=qs();return Q.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),Q.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ir.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),Q.resolve()}getOverlaysForCollection(e,t,r){const i=qs(),o=t.length+1,s=new Fe(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,d=c.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ln((d,f)=>d-f);const s=this.overlays.getIterator();for(;s.hasNext();){const d=s.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let f=o.get(d.largestBatchId);null===f&&(f=qs(),o=o.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const a=qs(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,f)=>a.set(d,f)),!(a.size()>=i)););return Q.resolve(a)}ht(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new BT(t,r));let o=this.Ir.get(t);void 0===o&&(o=Tt(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}}class nJ{constructor(){this.sessionToken=fr.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}class XT{constructor(){this.Tr=new bn(Xr.Er),this.dr=new bn(Xr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const r=new Xr(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Xr(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){const t=new Fe(new Ut([])),r=new Xr(t,e),i=new Xr(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Fe(new Ut([])),r=new Xr(t,e),i=new Xr(t,e+1);let o=Tt();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Xr(e,0),r=this.Tr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Xr{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Fe.comparator(e.key,t.key)||ft(e.wr,t.wr)}static Ar(e,t){return ft(e.wr,t.wr)||Fe.comparator(e.key,t.key)}}class rJ{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new bn(Xr.Er)}checkEmpty(e){return Q.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const o=this.Sr;this.Sr++;const s=new VT(o,t,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new Xr(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(s)}lookupMutationBatch(e,t){return Q.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.vr(t+1),o=i<0?0:i;return Q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Xr(t,0),i=new Xr(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),Q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new bn(ft);return t.forEach(i=>{const o=new Xr(i,0),s=new Xr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),Q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;Fe.isDocumentKey(o)||(o=o.child(""));const s=new Xr(new Fe(o),0);let a=new bn(ft);return this.br.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(c.wr)),!0)},s),Q.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(r=>{const i=this.Dr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){qe(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.br;return Q.forEach(t.mutations,i=>{const o=new Xr(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){const r=new Xr(t,0),i=this.br.firstAfterOrEqual(r);return Q.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Q.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class iJ{constructor(e){this.Mr=e,this.docs=new Ln(Fe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Q.resolve(r?r.document.mutableCopy():Wn.newInvalidDocument(t))}getEntries(e,t){let r=ho();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Wn.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=ho();const s=t.path,a=new Fe(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:d,value:{document:f}}=c.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||IT(kk(f),r)<=0||(i.has(f.key)||lm(t,f))&&(o=o.insert(f.key,f.mutableCopy()))}return Q.resolve(o)}getAllFromCollectionGroup(e,t,r,i){We()}Or(e,t){return Q.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new oJ(this)}getSize(e){return Q.resolve(this.size)}}class oJ extends OV{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Q.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class sJ{constructor(e){this.persistence=e,this.Nr=new La(t=>ou(t),am),this.lastRemoteSnapshotVersion=Ye.min(),this.highestTargetId=0,this.Lr=0,this.Br=new XT,this.targetCount=0,this.kr=fu.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),Q.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new fu(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.Kn(t),Q.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Q.waitFor(o).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const r=this.Nr.get(t)||null;return Q.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),Q.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),Q.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.yr(t);return Q.resolve(r)}containsKey(e,t){return Q.resolve(this.Br.containsKey(t))}}class eC{constructor(e,t){this.qr={},this.overlays={},this.Qr=new No(0),this.Kr=!1,this.Kr=!0,this.$r=new nJ,this.referenceDelegate=e(this),this.Ur=new sJ(this),this.indexManager=new zY,this.remoteDocumentCache=new iJ(r=>this.referenceDelegate.Wr(r)),this.serializer=new uV(t),this.Gr=new eJ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new tJ,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new rJ(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){Ie("MemoryPersistence","Starting transaction:",e);const i=new aJ(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return Q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}}class aJ extends Vk{constructor(e){super(),this.currentSequenceNumber=e}}class K0{constructor(e){this.persistence=e,this.Jr=new XT,this.Yr=null}static Zr(e){return new K0(e)}get Xr(){if(this.Yr)return this.Yr;throw We()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),Q.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,r=>{const i=Fe.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,Ye.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return Q.or([()=>Q.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class cJ{constructor(e){this.serializer=e}O(e,t,r,i){const o=new E0("createOrUpgrade",t);var c;r<1&&i>=1&&(e.createObjectStore("owner"),(c=e).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hk,{unique:!0}),c.createObjectStore("documentMutations"),BV(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=Q.resolve();return r<3&&i>=3&&(0!==r&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),BV(e)),s=s.next(()=>function(c){const d=c.store("targetGlobal"),f={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ye.min().toTimestamp(),targetCount:0};return d.put("targetGlobalKey",f)}(o))),r<4&&i>=4&&(0!==r&&(s=s.next(()=>function(c,d){return d.store("mutations").U().next(f=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hk,{unique:!0});const m=d.store("mutations"),y=f.map(b=>m.put(b));return Q.waitFor(y)})}(e,o))),s=s.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(s=s.next(()=>this.ni(o))),r<6&&i>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.ri(o)))),r<7&&i>=7&&(s=s.next(()=>this.ii(o))),r<8&&i>=8&&(s=s.next(()=>this.si(e,o))),r<9&&i>=9&&(s=s.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(s=s.next(()=>this.oi(o))),r<11&&i>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{!function(c){const d=c.createObjectStore("documentOverlays",{keyPath:zQ});d.createIndex("collectionPathOverlayIndex",WQ,{unique:!1}),d.createIndex("collectionGroupOverlayIndex",qQ,{unique:!1})}(e)})),r<13&&i>=13&&(s=s.next(()=>function(c){const d=c.createObjectStore("remoteDocumentsV14",{keyPath:xQ});d.createIndex("documentKeyIndex",kQ),d.createIndex("collectionGroupIndex",FQ)}(e)).next(()=>this._i(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.ai(e,o))),r<15&&i>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:jQ}).createIndex("sequenceNumberIndex",HQ,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:$Q}).createIndex("documentKeyIndex",GQ,{unique:!1})}(e))),r<16&&i>=16&&(s=s.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),r<17&&i>=17&&(s=s.next(()=>{!function(c){c.createObjectStore("globals",{keyPath:"name"})}(e)})),s}ri(e){let t=0;return e.store("remoteDocuments").J((r,i)=>{t+=z0(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.U().next(i=>Q.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",s).next(a=>Q.forEach(a,c=>{qe(c.userId===o.userId);const d=uu(this.serializer,c);return DV(e,o.userId,d).next(()=>{})}))}))}ii(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.J((s,a)=>{const c=new Ut(s),d=[0,Mi(c)];o.push(t.get(d).next(f=>f?Q.resolve():t.put({targetId:0,path:Mi(c),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>Q.waitFor(o))})}si(e,t){e.createObjectStore("collectionParents",{keyPath:UQ});const r=t.store("collectionParents"),i=new ZT,o=s=>{if(i.add(s)){const a=s.lastSegment(),c=s.popLast();return r.put({collectionId:a,parent:Mi(c)})}};return t.store("remoteDocuments").J({H:!0},(s,a)=>{const c=new Ut(s);return o(c.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([s,a,c],d)=>{const f=zs(a);return o(f.popLast())}))}oi(e){const t=e.store("targets");return t.J((r,i)=>{const o=vm(i),s=hV(this.serializer,o);return t.put(s)})}_i(e,t){const r=t.store("remoteDocuments"),i=[];return r.J((o,s)=>{const a=t.store("remoteDocumentsV14"),c=(m=s,m.document?new Fe(Ut.fromString(m.document.name).popFirst(5)):m.noDocument?Fe.fromSegments(m.noDocument.path):m.unknownDocument?Fe.fromSegments(m.unknownDocument.path):We()).path.toArray(),d={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var m;i.push(a.put(d))}).next(()=>Q.waitFor(i))}ai(e,t){const r=t.store("mutations"),i=xV(this.serializer),o=new eC(K0.Zr,this.serializer.ct);return r.U().next(s=>{const a=new Map;return s.forEach(c=>{var d;let f=null!==(d=a.get(c.userId))&&void 0!==d?d:Tt();uu(this.serializer,c).keys().forEach(m=>f=f.add(m)),a.set(c.userId,f)}),Q.forEach(a,(c,d)=>{const f=new Jr(d),m=H0.lt(this.serializer,f),y=o.getIndexManager(f),b=W0.lt(f,this.serializer,y,o.referenceDelegate);return new LV(i,b,m,y).recalculateAndSaveOverlaysForDocumentKeys(new CT(t,No.oe),c).next()})})}}function BV(n){n.createObjectStore("targetDocuments",{keyPath:LQ}).createIndex("documentTargetsIndex",BQ,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",VQ,{unique:!0}),n.createObjectStore("targetGlobal")}const tC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class nC{constructor(e,t,r,i,o,s,a,c,d,f,m=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ui=o,this.window=s,this.document=a,this.ci=d,this.li=f,this.hi=m,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=y=>Promise.resolve(),!nC.D())throw new _e(ie.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new YY(this,i),this.Ai=t+"main",this.serializer=new uV(c),this.Ri=new Gs(this.Ai,this.hi,new cJ(this.serializer)),this.$r=new BY,this.Ur=new qY(this.referenceDelegate,this.serializer),this.remoteDocumentCache=xV(this.serializer),this.Gr=new LY,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===f&&Ir("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _e(ie.FAILED_PRECONDITION,tC);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new No(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){var t=this;return this.di=function(){var r=(0,ue.A)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(function(){var t=(0,ue.A)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((0,ue.A)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Y0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(t=>{t||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(t=>this.isPrimary&&!t?this.bi(e).next(()=>!1):!!t&&this.Di(e).next(()=>!0))).catch(e=>{if(Sc(e))return Ie("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ie("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Tm(e).get("owner").next(t=>Q.resolve(this.vi(t)))}Ci(e){return Y0(e).delete(this.clientId)}Fi(){var e=this;return(0,ue.A)(function*(){if(e.isPrimary&&!e.Mi(e.Ei,18e5)){e.Ei=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=jr(r,"clientMetadata");return i.U().next(o=>{const s=e.xi(o,18e5),a=o.filter(c=>-1===s.indexOf(c));return Q.forEach(a,c=>i.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Vi)for(const r of t)e.Vi.removeItem(e.Oi(r.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?Q.resolve(!0):Tm(e).get("owner").next(t=>{if(null!==t&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)){if(this.vi(t)&&this.networkEnabled)return!0;if(!this.vi(t)){if(!t.allowTabSynchronization)throw new _e(ie.FAILED_PRECONDITION,tC);return!1}}return!(!this.networkEnabled||!this.inForeground)||Y0(e).U().next(r=>void 0===this.xi(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ie("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ue.A)(function*(){e.Kr=!1,e.Li(),e.Ti&&(e.Ti.cancel(),e.Ti=null),e.Bi(),e.ki(),yield e.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new CT(t,No.oe);return e.bi(r).next(()=>e.Ci(r))}),e.Ri.close(),e.qi()})()}xi(e,t){return e.filter(r=>this.Mi(r.updateTimeMs,t)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Y0(e).U().next(t=>this.xi(t,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,t){return W0.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new WY(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return H0.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,t,r){Ie("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",o=17===(c=this.hi)?YQ:16===c?QQ:15===c?TT:14===c?Wk:13===c?zk:12===c?KQ:11===c?Gk:void We();var c;let s;return this.Ri.runTransaction(e,i,o,a=>(s=new CT(a,this.Qr?this.Qr.next():No.oe),"readwrite-primary"===t?this.wi(s).next(c=>!!c||this.Si(s)).next(c=>{if(!c)throw Ir(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new _e(ie.FAILED_PRECONDITION,Fk);return r(s)}).next(c=>this.Di(s).next(()=>c)):this.Ki(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Ki(e){return Tm(e).get("owner").next(t=>{if(null!==t&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)&&!this.vi(t)&&!(this.li||this.allowTabSynchronization&&t.allowTabSynchronization))throw new _e(ie.FAILED_PRECONDITION,tC)})}Di(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Tm(e).put("owner",t)}static D(){return Gs.D()}bi(e){const t=Tm(e);return t.get("owner").next(r=>this.vi(r)?(Ie("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Q.resolve())}Mi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Ir(`Detected an update time that is in the future: ${e} > ${r}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const t=/(?:Version|Mobile)\/1[456]/;(0,on.nr)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var t;try{const r=null!==(null===(t=this.Vi)||void 0===t?void 0:t.getItem(this.Oi(e)));return Ie("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Ir("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Ir("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Tm(n){return jr(n,"owner")}function Y0(n){return jr(n,"clientMetadata")}function rC(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class iC{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=Tt(),i=Tt();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new iC(e,t.fromCache,r,i)}}class lJ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class UV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,on.nr)()?8:Lk((0,on.ZQ)())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new lJ;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(Ph()<=$s.$b.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",Uh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(Ph()<=$s.$b.DEBUG&&Ie("QueryEngine","Query:",Uh(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ph()<=$s.$b.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",Uh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(t))):Q.resolve())}Yi(e,t){if(vF(t))return Q.resolve(null);let r=Pi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=x0(t,null,"F"),r=Pi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Tt(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.ts(t,a);return this.ns(t,d,s,c.readTime)?this.Yi(e,x0(t,null,"F")):this.rs(e,d,t,c)}))})))}Zi(e,t,r,i){return vF(t)||i.isEqual(Ye.min())?Q.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(t,o);return this.ns(t,s,r,i)?Q.resolve(null):(Ph()<=$s.$b.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Uh(t)),this.rs(e,s,t,xk(i,-1)).next(a=>a))})}ts(e,t){let r=new bn(TF(e));return t.forEach((i,o)=>{lm(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return Ph()<=$s.$b.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",Uh(t)),this.Ji.getDocumentsMatchingQuery(e,t,Po.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class uJ{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Ln(ft),this._s=new La(o=>ou(o),am),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function jV(n,e,t,r){return new uJ(n,e,t,r)}function HV(n,e){return oC.apply(this,arguments)}function oC(){return(oC=(0,ue.A)(function*(n,e){const t=Pe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let c=Tt();for(const d of i){s.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}for(const d of o){a.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}return t.localDocuments.getDocuments(r,c).next(d=>({hs:d,removedBatchIds:s,addedBatchIds:a}))})})})).apply(this,arguments)}function $V(n){const e=Pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function GV(n,e,t){let r=Tt(),i=Tt();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=ho();return t.forEach((a,c)=>{const d=o.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Ye.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||0===c.version.compareTo(d.version)&&d.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):Ie("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{Ps:s,Is:i}})}function fJ(n,e){const t=Pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Jh(n,e){const t=Pe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,Q.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new Ua(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.os.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function Zh(n,e,t){return sC.apply(this,arguments)}function sC(){return(sC=(0,ue.A)(function*(n,e,t){const r=Pe(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Sc(s))throw s;Ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})).apply(this,arguments)}function J0(n,e,t){const r=Pe(n);let i=Ye.min(),o=Tt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,d,f){const m=Pe(c),y=m._s.get(f);return void 0!==y?Q.resolve(m.os.get(y)):m.Ur.getTargetData(d,f)}(r,s,Pi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:Ye.min(),t?o:Tt())).next(a=>(qV(r,EF(e),a),{documents:a,Ts:o})))}function zV(n,e){const t=Pe(n),r=Pe(t.Ur),i=t.os.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.ot(o,e).next(s=>s?s.target:null))}function WV(n,e){const t=Pe(n),r=t.us.get(e)||Ye.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.cs.getAllFromCollectionGroup(i,e,xk(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(qV(t,e,i),i))}function qV(n,e,t){let r=n.us.get(e)||Ye.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}function aC(){return(aC=(0,ue.A)(function*(n,e,t,r){const i=Pe(n);let o=Tt(),s=ho();for(const d of t){const f=e.Es(d.metadata.name);d.document&&(o=o.add(f));const m=e.ds(d);m.setReadTime(e.As(d.metadata.readTime)),s=s.insert(f,m)}const a=i.cs.newChangeBuffer({trackRemovals:!0}),c=yield Jh(i,(f=r,Pi(Lh(Ut.fromString(`__bundle__/docs/${f}`)))));var f;return i.persistence.runTransaction("Apply bundle documents","readwrite",d=>GV(d,a,s).next(f=>(a.apply(d),f)).next(f=>i.Ur.removeMatchingKeysForTargetId(d,c.targetId).next(()=>i.Ur.addMatchingKeys(d,o,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(d,f.Ps,f.Is)).next(()=>f.Ps)))})).apply(this,arguments)}function gJ(n,e){return cC.apply(this,arguments)}function cC(){return(cC=(0,ue.A)(function*(n,e,t=Tt()){const r=yield Jh(n,Pi(WT(e.bundledQuery))),i=Pe(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const s=wr(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Gr.saveNamedQuery(o,e);const a=r.withResumeToken(fr.EMPTY_BYTE_STRING,s);return i.os=i.os.insert(a.targetId,a),i.Ur.updateTargetData(o,a).next(()=>i.Ur.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Ur.addMatchingKeys(o,t,r.targetId)).next(()=>i.Gr.saveNamedQuery(o,e))})})).apply(this,arguments)}function KV(n,e){return`firestore_clients_${n}_${e}`}function QV(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function lC(n,e){return`firestore_targets_${n}_${e}`}class Z0{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Rs(e,t,r){const i=JSON.parse(r);let o,s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(o=new _e(i.error.code,i.error.message))),s?new Z0(e,t,i.state,o):(Ir("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Cm{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Rs(e,t){const r=JSON.parse(t);let i,o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new _e(r.error.code,r.error.message))),o?new Cm(e,r.state,i):(Ir("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class X0{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Rs(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,o=xT();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=Uk(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new X0(e,o):(Ir("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class uC{constructor(e,t){this.clientId=e,this.onlineState=t}static Rs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new uC(t.clientId,t.onlineState):(Ir("SharedClientState",`Failed to parse online state: ${e}`),null)}}class dC{constructor(){this.activeTargetIds=xT()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hC{constructor(e,t,r,i,o){this.window=e,this.ui=t,this.persistenceKey=r,this.ps=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Ln(ft),this.started=!1,this.bs=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Ds=KV(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new dC),this.Cs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ue.A)(function*(){const t=yield e.syncEngine.Qi();for(const i of t){if(i===e.ps)continue;const o=e.getItem(KV(e.persistenceKey,i));if(o){const s=X0.Rs(i,o);s&&(e.Ss=e.Ss.insert(s.clientId,s))}}e.Ns();const r=e.storage.getItem(e.xs);if(r){const i=e.Ls(r);i&&e.Bs(i)}for(const i of e.bs)e.ws(i);e.bs=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let t=!1;return this.Ss.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,t,r){this.qs(e,t,r),this.Qs(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(lC(this.persistenceKey,e));if(i){const o=Cm.Rs(e,i);o&&(r=o.state)}}return t&&this.Ks.fs(e),this.Ns(),r}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(lC(this.persistenceKey,e))}updateQueryState(e,t,r){this.$s(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Qs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ie("SharedClientState","READ",e,t),t}setItem(e,t){Ie("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ie("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ie("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Ds)return void Ir("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,ue.A)(function*(){if(t.started){if(null!==r.key)if(t.Cs.test(r.key)){if(null==r.newValue){const i=t.Gs(r.key);return t.zs(i,null)}{const i=t.js(r.key,r.newValue);if(i)return t.zs(i.clientId,i)}}else if(t.Fs.test(r.key)){if(null!==r.newValue){const i=t.Hs(r.key,r.newValue);if(i)return t.Js(i)}}else if(t.Ms.test(r.key)){if(null!==r.newValue){const i=t.Ys(r.key,r.newValue);if(i)return t.Zs(i)}}else if(r.key===t.xs){if(null!==r.newValue){const i=t.Ls(r.newValue);if(i)return t.Bs(i)}}else if(r.key===t.vs){const i=function(s){let a=No.oe;if(null!=s)try{const c=JSON.parse(s);qe("number"==typeof c),a=c}catch(c){Ir("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(r.newValue);i!==No.oe&&t.sequenceNumberHandler(i)}else if(r.key===t.Os){const i=t.Xs(r.newValue);yield Promise.all(i.map(o=>t.syncEngine.eo(o)))}}else t.bs.push(r)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,t,r){const i=new Z0(this.currentUser,e,t,r),o=QV(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Vs())}Qs(e){const t=QV(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Us(e){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:e}))}$s(e,t,r){const i=lC(this.persistenceKey,e),o=new Cm(e,t,r);this.setItem(i,o.Vs())}Ws(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Os,t)}Gs(e){const t=this.Cs.exec(e);return t?t[1]:null}js(e,t){const r=this.Gs(e);return X0.Rs(r,t)}Hs(e,t){const r=this.Fs.exec(e),i=Number(r[1]);return Z0.Rs(new Jr(void 0!==r[2]?r[2]:null),i,t)}Ys(e,t){const r=this.Ms.exec(e),i=Number(r[1]);return Cm.Rs(i,t)}Ls(e){return uC.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){var t=this;return(0,ue.A)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.no(e.batchId,e.state,e.error);Ie("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,t){const r=t?this.Ss.insert(e,t):this.Ss.remove(e),i=this.ks(this.Ss),o=this.ks(r),s=[],a=[];return o.forEach(c=>{i.has(c)||s.push(c)}),i.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.io(s,a).then(()=>{this.Ss=r})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let t=xT();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class YV{constructor(){this.so=new dC,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new dC,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class mJ{_o(e){}shutdown(){}}class JV{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let e1=null;function fC(){return null===e1?e1=268435456+Math.round(2147483648*Math.random()):e1++,"0x"+e1.toString(16)}const _J={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yJ{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Oi="WebChannelConnection";class vJ extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){const a=fC(),c=this.xo(t,r.toUriEncodedString());Ie("RestConnection",`Sending RPC '${t}' ${a}:`,c,i);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,o,s),this.No(t,c,d,i).then(f=>(Ie("RestConnection",`Received RPC '${t}' ${a}: `,f),f),f=>{throw Mo("RestConnection",`RPC '${t}' ${a} failed with error: `,f,"url: ",c,"request:",i),f})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Mh,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){return`${this.Do}/v1/${r}:${_J[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){const o=fC();return new Promise((s,a)=>{const c=new Tk;c.setWithCredentials(!0),c.listenOnce(Ck.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case w0.NO_ERROR:const f=c.getResponseJson();Ie(Oi,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case w0.TIMEOUT:Ie(Oi,`RPC '${e}' ${o} timed out`),a(new _e(ie.DEADLINE_EXCEEDED,"Request time out"));break;case w0.HTTP_ERROR:const m=c.getStatus();if(Ie(Oi,`RPC '${e}' ${o} failed with status:`,m,"response text:",c.getResponseText()),m>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const b=y?.error;if(b&&b.status&&b.message){const E=function(S){const j=S.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(j)>=0?j:ie.UNKNOWN}(b.status);a(new _e(E,b.message))}else a(new _e(ie.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new _e(ie.UNAVAILABLE,"Connection failed."));break;default:We()}}finally{Ie(Oi,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);Ie(Oi,`RPC '${e}' ${o} sending request:`,i),c.send(t,"POST",d,r,15)})}Bo(e,t,r){const i=fC(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Sk(),a=Ak(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;void 0!==d&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const f=o.join("");Ie(Oi,`Creating RPC '${e}' stream ${i}: ${f}`,c);const m=s.createWebChannel(f,c);let y=!1,b=!1;const E=new yJ({Io:S=>{b?Ie(Oi,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(y||(Ie(Oi,`Opening RPC '${e}' stream ${i} transport.`),m.open(),y=!0),Ie(Oi,`RPC '${e}' stream ${i} sending:`,S),m.send(S))},To:()=>m.close()}),D=(S,j,O)=>{S.listen(j,J=>{try{O(J)}catch(re){setTimeout(()=>{throw re},0)}})};return D(m,Jg.EventType.OPEN,()=>{b||(Ie(Oi,`RPC '${e}' stream ${i} transport opened.`),E.yo())}),D(m,Jg.EventType.CLOSE,()=>{b||(b=!0,Ie(Oi,`RPC '${e}' stream ${i} transport closed`),E.So())}),D(m,Jg.EventType.ERROR,S=>{b||(b=!0,Mo(Oi,`RPC '${e}' stream ${i} transport errored:`,S),E.So(new _e(ie.UNAVAILABLE,"The operation could not be completed")))}),D(m,Jg.EventType.MESSAGE,S=>{var j;if(!b){const O=S.data[0];qe(!!O);const re=O.error||(null===(j=O[0])||void 0===j?void 0:j.error);if(re){Ie(Oi,`RPC '${e}' stream ${i} received error:`,re);const pe=re.status;let Ae=function(N){const L=Rr[N];if(void 0!==L)return HF(L)}(pe),k=re.message;void 0===Ae&&(Ae=ie.INTERNAL,k="Unknown error status: "+pe+" with message "+re.message),b=!0,E.So(new _e(Ae,k)),m.close()}else Ie(Oi,`RPC '${e}' stream ${i} received:`,O),E.bo(O)}}),D(a,Dk.STAT_EVENT,S=>{S.stat===yT.PROXY?Ie(Oi,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===yT.NOPROXY&&Ie(Oi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}}function ZV(){return typeof window<"u"?window:null}function t1(){return typeof document<"u"?document:null}function Dm(n){return new AY(n,!0)}class pC{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&Ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class XV{constructor(e,t,r,i,o,s,a,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new pC(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,ue.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,ue.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){var r=this;return(0,ue.A)(function*(){r.u_(),r.c_(),r.t_.cancel(),r.Yo++,4!==e?r.t_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Ir(t.toString()),Ir("Using maximum backoff delay to prevent overloading the backend."),r.t_.Wo()):t&&t.code===ie.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.l_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.mo(t)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{const i=new _e(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){const r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>1==++this.e_?this.E_(i):this.onNext(i))})}i_(){var e=this;this.state=5,this.t_.Go((0,ue.A)(function*(){e.state=0,e.start()}))}I_(e){return Ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(Ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bJ extends XV{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function MY(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(d=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===d?1:"REMOVE"===d?2:"CURRENT"===d?3:"RESET"===d?4:We(),i=e.targetChange.targetIds||[],o=function(d,f){return d.useProto3Json?(qe(void 0===f||"string"==typeof f),fr.fromBase64String(f||"")):(qe(void 0===f||f instanceof Buffer||f instanceof Uint8Array),fr.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(d){const f=void 0===d.code?ie.UNKNOWN:HF(d.code);return new _e(f,d.message||"")}(s);t=new qF(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Ks(n,r.document.name),o=wr(r.document.updateTime),s=r.document.createTime?wr(r.document.createTime):Ye.min(),a=new di({mapValue:{fields:r.document.fields}}),c=Wn.newFoundDocument(i,o,s,a);t=new B0(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=Ks(n,r.document),o=r.readTime?wr(r.readTime):Ye.min(),s=Wn.newNoDocument(i,o);t=new B0([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=Ks(n,r.document);t=new B0([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return We();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new IY(i,o);t=new WF(r.targetId,s)}}var d;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ye.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Ye.min():s.readTime?wr(s.readTime):Ye.min()}(e);return this.listener.d_(t,r)}A_(e){const t={};t.database=GT(this.serializer),t.addTarget=function(o,s){let a;const c=s.target;if(a=N0(c)?{documents:iV(o,c)}:{query:U0(o,c)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=JF(o,s.resumeToken);const d=jT(o,s.expectedCount);null!==d&&(a.expectedCount=d)}else if(s.snapshotVersion.compareTo(Ye.min())>0){a.readTime=zh(o,s.snapshotVersion.toTimestamp());const d=jT(o,s.expectedCount);null!==d&&(a.expectedCount=d)}return a}(this.serializer,e);const r=function NY(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return We()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.a_(t)}R_(e){const t={};t.database=GT(this.serializer),t.removeTarget=e,this.a_(t)}}class IJ extends XV{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return qe(!!e.streamToken),this.lastStreamToken=e.streamToken,qe(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function PY(n,e){return n&&n.length>0?(qe(void 0!==e),n.map(t=>function(i,o){let s=wr(i.updateTime?i.updateTime:o);return s.isEqual(Ye.min())&&(s=wr(o)),new yY(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=wr(e.commitTime);return this.listener.g_(r,t)}p_(){const e={};e.database=GT(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>ym(this.serializer,r))};this.a_(t)}}class wJ extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new _e(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,$T(t,r),i,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new _e(ie.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,$T(t,r),i,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new _e(ie.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class EJ{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ir(t),this.D_=!1):Ie("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class TJ{constructor(e,t,r,i,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget((0,ue.A)(function*(){var c;Bc(s)&&(Ie("RemoteStore","Restarting streams for network reachability change."),yield(c=(0,ue.A)(function*(f){const m=Pe(f);m.L_.add(4),yield Xh(m),m.q_.set("Unknown"),m.L_.delete(4),yield Am(m)}),function d(f){return c.apply(this,arguments)})(s))}))}),this.q_=new EJ(r,i)}}function Am(n){return gC.apply(this,arguments)}function gC(){return(gC=(0,ue.A)(function*(n){if(Bc(n))for(const e of n.B_)yield e(!0)})).apply(this,arguments)}function Xh(n){return mC.apply(this,arguments)}function mC(){return(mC=(0,ue.A)(function*(n){for(const e of n.B_)yield e(!1)})).apply(this,arguments)}function n1(n,e){const t=Pe(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),vC(t)?yC(t):nf(t).r_()&&_C(t,e))}function ef(n,e){const t=Pe(n),r=nf(t);t.N_.delete(e),r.r_()&&e4(t,e),0===t.N_.size&&(r.r_()?r.o_():Bc(t)&&t.q_.set("Unknown"))}function _C(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ye.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}nf(n).A_(e)}function e4(n,e){n.Q_.xe(e),nf(n).R_(e)}function yC(n){n.Q_=new EY({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),nf(n).start(),n.q_.v_()}function vC(n){return Bc(n)&&!nf(n).n_()&&n.N_.size>0}function Bc(n){return 0===Pe(n).L_.size}function t4(n){n.Q_=void 0}function CJ(n){return bC.apply(this,arguments)}function bC(){return(bC=(0,ue.A)(function*(n){n.q_.set("Online")})).apply(this,arguments)}function DJ(n){return IC.apply(this,arguments)}function IC(){return(IC=(0,ue.A)(function*(n){n.N_.forEach((e,t)=>{_C(n,e)})})).apply(this,arguments)}function AJ(n,e){return wC.apply(this,arguments)}function wC(){return(wC=(0,ue.A)(function*(n,e){t4(n),vC(n)?(n.q_.M_(e),yC(n)):n.q_.set("Unknown")})).apply(this,arguments)}function SJ(n,e,t){return EC.apply(this,arguments)}function EC(){return EC=(0,ue.A)(function*(n,e,t){if(n.q_.set("Online"),e instanceof qF&&2===e.state&&e.cause)try{yield(r=(0,ue.A)(function*(o,s){const a=s.cause;for(const c of s.targetIds)o.N_.has(c)&&(yield o.remoteSyncer.rejectListen(c,a),o.N_.delete(c),o.Q_.removeTarget(c))}),function i(o,s){return r.apply(this,arguments)})(n,e)}catch(r){Ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield r1(n,r)}else if(e instanceof B0?n.Q_.Ke(e):e instanceof WF?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Ye.min()))try{const r=yield $V(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const f=o.N_.get(d);f&&o.N_.set(d,f.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,d)=>{const f=o.N_.get(c);if(!f)return;o.N_.set(c,f.withResumeToken(fr.EMPTY_BYTE_STRING,f.snapshotVersion)),e4(o,c);const m=new Ua(f.target,c,d,f.sequenceNumber);_C(o,m)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){Ie("RemoteStore","Failed to raise snapshot:",r),yield r1(n,r)}var r}),EC.apply(this,arguments)}function r1(n,e,t){return TC.apply(this,arguments)}function TC(){return(TC=(0,ue.A)(function*(n,e,t){if(!Sc(e))throw e;n.L_.add(1),yield Xh(n),n.q_.set("Offline"),t||(t=()=>$V(n.localStore)),n.asyncQueue.enqueueRetryable((0,ue.A)(function*(){Ie("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Am(n)}))})).apply(this,arguments)}function n4(n,e){return e().catch(t=>r1(n,t,e))}function tf(n){return CC.apply(this,arguments)}function CC(){return(CC=(0,ue.A)(function*(n){const e=Pe(n),t=Uc(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;RJ(e);)try{const i=yield fJ(e.localStore,r);if(null===i){0===e.O_.length&&t.o_();break}r=i.batchId,MJ(e,i)}catch(i){yield r1(e,i)}r4(e)&&i4(e)})).apply(this,arguments)}function RJ(n){return Bc(n)&&n.O_.length<10}function MJ(n,e){n.O_.push(e);const t=Uc(n);t.r_()&&t.V_&&t.m_(e.mutations)}function r4(n){return Bc(n)&&!Uc(n).n_()&&n.O_.length>0}function i4(n){Uc(n).start()}function PJ(n){return DC.apply(this,arguments)}function DC(){return(DC=(0,ue.A)(function*(n){Uc(n).p_()})).apply(this,arguments)}function NJ(n){return AC.apply(this,arguments)}function AC(){return(AC=(0,ue.A)(function*(n){const e=Uc(n);for(const t of n.O_)e.m_(t.mutations)})).apply(this,arguments)}function OJ(n,e,t){return SC.apply(this,arguments)}function SC(){return(SC=(0,ue.A)(function*(n,e,t){const r=n.O_.shift(),i=LT.from(r,e,t);yield n4(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield tf(n)})).apply(this,arguments)}function xJ(n,e){return RC.apply(this,arguments)}function RC(){return RC=(0,ue.A)(function*(n,e){var t;e&&Uc(n).V_&&(yield(t=(0,ue.A)(function*(i,o){if(jF(a=o.code)&&a!==ie.ABORTED){const s=i.O_.shift();Uc(i).s_(),yield n4(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield tf(i)}var a}),function r(i,o){return t.apply(this,arguments)})(n,e)),r4(n)&&i4(n)}),RC.apply(this,arguments)}function o4(n,e){return MC.apply(this,arguments)}function MC(){return(MC=(0,ue.A)(function*(n,e){const t=Pe(n);t.asyncQueue.verifyOperationInProgress(),Ie("RemoteStore","RemoteStore received new credentials");const r=Bc(t);t.L_.add(3),yield Xh(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Am(t)})).apply(this,arguments)}function PC(n,e){return NC.apply(this,arguments)}function NC(){return(NC=(0,ue.A)(function*(n,e){const t=Pe(n);e?(t.L_.delete(2),yield Am(t)):e||(t.L_.add(2),yield Xh(t),t.q_.set("Unknown"))})).apply(this,arguments)}function nf(n){return n.K_||(n.K_=function(t,r,i){const o=Pe(t);return o.w_(),new bJ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:CJ.bind(null,n),Ro:DJ.bind(null,n),mo:AJ.bind(null,n),d_:SJ.bind(null,n)}),n.B_.push(function(){var e=(0,ue.A)(function*(t){t?(n.K_.s_(),vC(n)?yC(n):n.q_.set("Unknown")):(yield n.K_.stop(),t4(n))});return function(t){return e.apply(this,arguments)}}())),n.K_}function Uc(n){return n.U_||(n.U_=function(t,r,i){const o=Pe(t);return o.w_(),new IJ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:PJ.bind(null,n),mo:xJ.bind(null,n),f_:NJ.bind(null,n),g_:OJ.bind(null,n)}),n.B_.push(function(){var e=(0,ue.A)(function*(t){t?(n.U_.s_(),yield tf(n)):(yield n.U_.stop(),n.O_.length>0&&(Ie("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))});return function(t){return e.apply(this,arguments)}}())),n.U_}class OC{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const s=Date.now()+r,a=new OC(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _e(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rf(n,e){if(Ir("AsyncQueue",`${e}: ${n}`),Sc(n))return new _e(ie.UNAVAILABLE,`${e}: ${n}`);throw n}class sf{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Fe.comparator(t.key,r.key):(t,r)=>Fe.comparator(t.key,r.key),this.keyedMap=um(),this.sortedSet=new Ln(this.comparator)}static emptySet(e){return new sf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new sf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class s4{constructor(){this.W_=new Ln(Fe.comparator)}track(e){const t=e.doc.key,r=this.W_.get(t);r?0!==e.type&&3===r.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==r.type?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.W_=this.W_.remove(t):1===e.type&&2===r.type?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):We():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}}class af{constructor(e,t,r,i,o,s,a,c,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new af(e,t,sf.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class kJ{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class FJ{constructor(){this.queries=a4(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(t,r){const i=Pe(t),o=i.queries;i.queries=a4(),o.forEach((s,a)=>{for(const c of a.j_)c.onError(r)})}(this,new _e(ie.ABORTED,"Firestore shutting down"))}}function a4(){return new La(n=>wF(n),cm)}function xC(n,e){return kC.apply(this,arguments)}function kC(){return(kC=(0,ue.A)(function*(n,e){const t=Pe(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new kJ,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){const a=rf(s,`Initialization of query '${Uh(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&LC(t)})).apply(this,arguments)}function FC(n,e){return VC.apply(this,arguments)}function VC(){return(VC=(0,ue.A)(function*(n,e){const t=Pe(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),0===o.j_.length?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})).apply(this,arguments)}function VJ(n,e){const t=Pe(n);let r=!1;for(const i of e){const s=t.queries.get(i.query);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&LC(t)}function LJ(n,e,t){const r=Pe(n),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(t);r.queries.delete(e)}function LC(n){n.Y_.forEach(e=>{e.next()})}var BC,c4;(c4=BC||(BC={})).ea="default",c4.Cache="cache";class UC{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new af(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=af.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==BC.Cache}}class BJ{constructor(e,t){this.aa=e,this.byteLength=t}ua(){return"metadata"in this.aa}}class l4{constructor(e){this.serializer=e}Es(e){return Ks(this.serializer,e)}ds(e){return e.metadata.exists?rV(this.serializer,e.document,!1):Wn.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return wr(e)}}class UJ{constructor(e,t,r){this.ca=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=u4(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++t;const r=Ut.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ha(e){const t=new Map,r=new l4(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.Es(i.metadata.name);for(const s of i.metadata.queries){const a=(t.get(s)||Tt()).add(o);t.set(s,a)}}return t}complete(){var e=this;return(0,ue.A)(function*(){const t=yield function pJ(n,e,t,r){return aC.apply(this,arguments)}(e.localStore,new l4(e.serializer),e.documents,e.ca.id),r=e.ha(e.documents);for(const i of e.queries)yield gJ(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Pa:e.collectionGroups,Ia:t}})()}}function u4(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class d4{constructor(e){this.key=e}}class h4{constructor(e){this.key=e}}class f4{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Tt(),this.mutatedKeys=Tt(),this.Aa=TF(e),this.Ra=new sf(this.Aa)}get Va(){return this.Ta}ma(e,t){const r=t?t.fa:new s4,i=t?t.Ra:this.Ra;let o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,d="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,m)=>{const y=i.get(f),b=lm(this.query,m)?m:null,E=!!y&&this.mutatedKeys.has(y.key),D=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let S=!1;y&&b?y.data.isEqual(b.data)?E!==D&&(r.track({type:3,doc:b}),S=!0):this.ga(y,b)||(r.track({type:2,doc:b}),S=!0,(c&&this.Aa(b,c)>0||d&&this.Aa(b,d)<0)&&(a=!0)):!y&&b?(r.track({type:0,doc:b}),S=!0):y&&!b&&(r.track({type:1,doc:y}),S=!0,(c||d)&&(a=!0)),S&&(b?(s=s.add(b),o=D?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const f="F"===this.query.limitType?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((f,m)=>function(b,E){const D=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return We()}};return D(b)-D(E)}(f.type,m.type)||this.Aa(f.doc,m.doc)),this.pa(r),i=null!=i&&i;const a=t&&!i?this.ya():[],c=0===this.da.size&&this.current&&!i?1:0,d=c!==this.Ea;return this.Ea=c,0!==s.length||d?{snapshot:new af(this.query,e.Ra,o,s,e.mutatedKeys,0===c,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new s4,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Tt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const t=[];return e.forEach(r=>{this.da.has(r)||t.push(new h4(r))}),this.da.forEach(r=>{e.has(r)||t.push(new d4(r))}),t}ba(e){this.Ta=e.Ts,this.da=Tt();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return af.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class jJ{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class HJ{constructor(e){this.key=e,this.va=!1}}class $J{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new La(a=>wF(a),cm),this.Ma=new Map,this.xa=new Set,this.Oa=new Ln(Fe.comparator),this.Na=new Map,this.La=new XT,this.Ba={},this.ka=new Map,this.qa=fu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function GJ(n,e){return jC.apply(this,arguments)}function jC(){return(jC=(0,ue.A)(function*(n,e,t=!0){const r=i1(n);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield p4(r,e,t,!0),i})).apply(this,arguments)}function zJ(n,e){return HC.apply(this,arguments)}function HC(){return(HC=(0,ue.A)(function*(n,e){const t=i1(n);yield p4(t,e,!0,!1)})).apply(this,arguments)}function p4(n,e,t,r){return $C.apply(this,arguments)}function $C(){return($C=(0,ue.A)(function*(n,e,t,r){const i=yield Jh(n.localStore,Pi(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t);let a;return r&&(a=yield GC(n,e,o,"current"===s,i.resumeToken)),n.isPrimaryClient&&t&&n1(n.remoteStore,i),a})).apply(this,arguments)}function GC(n,e,t,r,i){return zC.apply(this,arguments)}function zC(){return zC=(0,ue.A)(function*(n,e,t,r,i){n.Ka=(m,y,b)=>{return(E=(0,ue.A)(function*(S,j,O,J){let re=j.view.ma(O);re.ns&&(re=yield J0(S.localStore,j.query,!1).then(({documents:A})=>j.view.ma(A,re)));const pe=J&&J.targetChanges.get(j.targetId),Ae=J&&null!=J.targetMismatches.get(j.targetId),k=j.view.applyChanges(re,S.isPrimaryClient,pe,Ae);return nD(S,j.targetId,k.wa),k.snapshot}),function D(S,j,O,J){return E.apply(this,arguments)})(n,m,y,b);var E};const o=yield J0(n.localStore,e,!0),s=new f4(e,o.Ts),a=s.ma(o.documents),c=mm.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),d=s.applyChanges(a,n.isPrimaryClient,c);nD(n,t,d.wa);const f=new jJ(e,t,s);return n.Fa.set(e,f),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),d.snapshot}),zC.apply(this,arguments)}function WJ(n,e,t){return WC.apply(this,arguments)}function WC(){return(WC=(0,ue.A)(function*(n,e,t){const r=Pe(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!cm(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Zh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&ef(r.remoteStore,i.targetId),cf(r,i.targetId)}).catch(Ac))):(cf(r,i.targetId),yield Zh(r.localStore,i.targetId,!0))})).apply(this,arguments)}function qJ(n,e){return qC.apply(this,arguments)}function qC(){return(qC=(0,ue.A)(function*(n,e){const t=Pe(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&1===i.length&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),ef(t.remoteStore,r.targetId))})).apply(this,arguments)}function KC(){return(KC=(0,ue.A)(function*(n,e,t){const r=fD(n);try{const i=yield function(s,a){const c=Pe(s),d=Qn.now(),f=a.reduce((b,E)=>b.add(E.key),Tt());let m,y;return c.persistence.runTransaction("Locally write mutations","readwrite",b=>{let E=ho(),D=Tt();return c.cs.getEntries(b,f).next(S=>{E=S,E.forEach((j,O)=>{O.isValidDocument()||(D=D.add(j))})}).next(()=>c.localDocuments.getOverlayedDocuments(b,E)).next(S=>{m=S;const j=[];for(const O of a){const J=bY(O,m.get(O.key).overlayedDocument);null!=J&&j.push(new Ba(O.key,J,sF(J.value.mapValue),Jn.exists(!0)))}return c.mutationQueue.addMutationBatch(b,d,j,a)}).next(S=>{y=S;const j=S.applyToLocalDocumentSet(m,D);return c.documentOverlayCache.saveOverlays(b,S.batchId,j)})}).then(()=>({batchId:y.batchId,changes:DF(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let d=s.Ba[s.currentUser.toKey()];d||(d=new Ln(ft)),d=d.insert(a,c),s.Ba[s.currentUser.toKey()]=d}(r,i.batchId,t),yield ja(r,i.changes),yield tf(r.remoteStore)}catch(i){const o=rf(i,"Failed to persist write");t.reject(o)}})).apply(this,arguments)}function g4(n,e){return QC.apply(this,arguments)}function QC(){return(QC=(0,ue.A)(function*(n,e){const t=Pe(n);try{const r=yield function hJ(n,e){const t=Pe(n),r=e.snapshotVersion;let i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;const a=[];e.targetChanges.forEach((f,m)=>{const y=i.get(m);if(!y)return;a.push(t.Ur.removeMatchingKeys(o,f.removedDocuments,m).next(()=>t.Ur.addMatchingKeys(o,f.addedDocuments,m)));let b=y.withSequenceNumber(o.currentSequenceNumber);var D,S,j;null!==e.targetMismatches.get(m)?b=b.withResumeToken(fr.EMPTY_BYTE_STRING,Ye.min()).withLastLimboFreeSnapshotVersion(Ye.min()):f.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(f.resumeToken,r)),i=i.insert(m,b),S=b,j=f,(0===(D=y).resumeToken.approximateByteSize()||S.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8||j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0)&&a.push(t.Ur.updateTargetData(o,b))});let c=ho(),d=Tt();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,f))}),a.push(GV(o,s,e.documentUpdates).next(f=>{c=f.Ps,d=f.Is})),!r.isEqual(Ye.min())){const f=t.Ur.getLastRemoteSnapshotVersion(o).next(m=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(f)}return Q.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,d)).next(()=>c)}).then(o=>(t.os=i,o))}(t.localStore,e);e.targetChanges.forEach((i,o)=>{const s=t.Na.get(o);s&&(qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?qe(s.va):i.removedDocuments.size>0&&(qe(s.va),s.va=!1))}),yield ja(t,r,e)}catch(r){yield Ac(r)}})).apply(this,arguments)}function m4(n,e,t){const r=Pe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const c=Pe(s);c.onlineState=a;let d=!1;c.queries.forEach((f,m)=>{for(const y of m.j_)y.Z_(a)&&(d=!0)}),d&&LC(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function QJ(n,e,t){return YC.apply(this,arguments)}function YC(){return(YC=(0,ue.A)(function*(n,e,t){const r=Pe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new Ln(Fe.comparator);s=s.insert(o,Wn.newNoDocument(o,Ye.min()));const a=Tt().add(o),c=new gm(Ye.min(),new Map,new Ln(ft),s,a);yield g4(r,c),r.Oa=r.Oa.remove(o),r.Na.delete(e),rD(r)}else yield Zh(r.localStore,e,!1).then(()=>cf(r,e,t)).catch(Ac)})).apply(this,arguments)}function YJ(n,e){return JC.apply(this,arguments)}function JC(){return(JC=(0,ue.A)(function*(n,e){const t=Pe(n),r=e.batch.batchId;try{const i=yield function dJ(n,e){const t=Pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,d,f){const m=d.batch,y=m.keys();let b=Q.resolve();return y.forEach(E=>{b=b.next(()=>f.getEntry(c,E)).next(D=>{const S=d.docVersions.get(E);qe(null!==S),D.version.compareTo(S)<0&&(m.applyToRemoteDocument(D,d),D.isValidDocument()&&(D.setReadTime(d.commitVersion),f.addEntry(D)))})}),b.next(()=>a.mutationQueue.removeMutationBatch(c,m))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Tt();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);tD(t,r,null),eD(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ja(t,i)}catch(i){yield Ac(i)}})).apply(this,arguments)}function JJ(n,e,t){return ZC.apply(this,arguments)}function ZC(){return(ZC=(0,ue.A)(function*(n,e,t){const r=Pe(n);try{const i=yield function(s,a){const c=Pe(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return c.mutationQueue.lookupMutationBatch(d,a).next(m=>(qe(null!==m),f=m.keys(),c.mutationQueue.removeMutationBatch(d,m))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,f,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>c.localDocuments.getDocuments(d,f))})}(r.localStore,e);tD(r,e,t),eD(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ja(r,i)}catch(i){yield Ac(i)}})).apply(this,arguments)}function XC(){return(XC=(0,ue.A)(function*(n,e){const t=Pe(n);Bc(t.remoteStore)||Ie("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const a=Pe(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(t.localStore);if(-1===r)return void e.resolve();const i=t.ka.get(r)||[];i.push(e),t.ka.set(r,i)}catch(r){const i=rf(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}})).apply(this,arguments)}function eD(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function tD(n,e,t){const r=Pe(n);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function cf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||_4(n,r)})}function _4(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);null!==t&&(ef(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),rD(n))}function nD(n,e,t){for(const r of t)r instanceof d4?(n.La.addReference(r.key,e),XJ(n,r)):r instanceof h4?(Ie("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||_4(n,r.key)):We()}function XJ(n,e){const t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(Ie("SyncEngine","New document in limbo: "+t),n.xa.add(r),rD(n))}function rD(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new Fe(Ut.fromString(e)),r=n.qa.next();n.Na.set(r,new HJ(t)),n.Oa=n.Oa.insert(t,r),n1(n.remoteStore,new Ua(Pi(Lh(t.path)),r,"TargetPurposeLimboResolution",No.oe))}}function ja(n,e,t){return iD.apply(this,arguments)}function iD(){return iD=(0,ue.A)(function*(n,e,t){const r=Pe(n),i=[],o=[],s=[];var a;r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{s.push(r.Ka(c,e,t).then(d=>{var f;if((d||t)&&r.isPrimaryClient){const m=d?!d.fromCache:null===(f=t?.targetChanges.get(c.targetId))||void 0===f?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){i.push(d);const m=iC.Wi(c.targetId,d);o.push(m)}}))}),yield Promise.all(s),r.Ca.d_(i),yield(a=(0,ue.A)(function*(d,f){const m=Pe(d);try{yield m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>Q.forEach(f,b=>Q.forEach(b.$i,E=>m.persistence.referenceDelegate.addReference(y,b.targetId,E)).next(()=>Q.forEach(b.Ui,E=>m.persistence.referenceDelegate.removeReference(y,b.targetId,E)))))}catch(y){if(!Sc(y))throw y;Ie("LocalStore","Failed to update sequence numbers: "+y)}for(const y of f){const b=y.targetId;if(!y.fromCache){const E=m.os.get(b),S=E.withLastLimboFreeSnapshotVersion(E.snapshotVersion);m.os=m.os.insert(b,S)}}}),function c(d,f){return a.apply(this,arguments)})(r.localStore,o))}),iD.apply(this,arguments)}function eZ(n,e){return oD.apply(this,arguments)}function oD(){return(oD=(0,ue.A)(function*(n,e){const t=Pe(n);if(!t.currentUser.isEqual(e)){Ie("SyncEngine","User change. New user:",e.toKey());const r=yield HV(t.localStore,e);t.currentUser=e,(o=t).ka.forEach(a=>{a.forEach(c=>{c.reject(new _e(ie.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ka.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ja(t,r.hs)}var o})).apply(this,arguments)}function tZ(n,e){const t=Pe(n),r=t.Na.get(e);if(r&&r.va)return Tt().add(r.key);{let i=Tt();const o=t.Ma.get(e);if(!o)return i;for(const s of o){const a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function nZ(n,e){return sD.apply(this,arguments)}function sD(){return(sD=(0,ue.A)(function*(n,e){const t=Pe(n),r=yield J0(t.localStore,e.query,!0),i=e.view.ba(r);return t.isPrimaryClient&&nD(t,e.targetId,i.wa),i})).apply(this,arguments)}function rZ(n,e){return aD.apply(this,arguments)}function aD(){return(aD=(0,ue.A)(function*(n,e){const t=Pe(n);return WV(t.localStore,e).then(r=>ja(t,r))})).apply(this,arguments)}function iZ(n,e,t,r){return cD.apply(this,arguments)}function cD(){return(cD=(0,ue.A)(function*(n,e,t,r){const i=Pe(n),o=yield function(a,c){const d=Pe(a),f=Pe(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",m=>f.Mn(m,c).next(y=>y?d.localDocuments.getDocuments(m,y):Q.resolve(null)))}(i.localStore,e);var c;null!==o?("pending"===t?yield tf(i.remoteStore):"acknowledged"===t||"rejected"===t?(tD(i,e,r||null),eD(i,e),c=e,Pe(Pe(i.localStore).mutationQueue).On(c)):We(),yield ja(i,o)):Ie("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function lD(){return(lD=(0,ue.A)(function*(n,e){const t=Pe(n);if(i1(t),fD(t),!0===e&&!0!==t.Qa){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield y4(t,r.toArray());t.Qa=!0,yield PC(t.remoteStore,!0);for(const o of i)n1(t.remoteStore,o)}else if(!1===e&&!1!==t.Qa){const r=[];let i=Promise.resolve();t.Ma.forEach((o,s)=>{t.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(cf(t,s),Zh(t.localStore,s,!0))),ef(t.remoteStore,s)}),yield i,yield y4(t,r),function(s){const a=Pe(s);a.Na.forEach((c,d)=>{ef(a.remoteStore,d)}),a.La.pr(),a.Na=new Map,a.Oa=new Ln(Fe.comparator)}(t),t.Qa=!1,yield PC(t.remoteStore,!1)}})).apply(this,arguments)}function y4(n,e,t){return uD.apply(this,arguments)}function uD(){return(uD=(0,ue.A)(function*(n,e,t){const r=Pe(n),i=[],o=[];for(const s of e){let a;const c=r.Ma.get(s);if(c&&0!==c.length){a=yield Jh(r.localStore,Pi(c[0]));for(const d of c){const f=r.Fa.get(d),m=yield nZ(r,f);m.snapshot&&o.push(m.snapshot)}}else{const d=yield zV(r.localStore,s);a=yield Jh(r.localStore,d),yield GC(r,v4(d),s,!1,a.resumeToken)}i.push(a)}return r.Ca.d_(o),i})).apply(this,arguments)}function v4(n){return yF(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function sZ(n){return t=Pe(n).localStore,Pe(Pe(t).persistence).Qi();var t}function aZ(n,e,t,r){return dD.apply(this,arguments)}function dD(){return(dD=(0,ue.A)(function*(n,e,t,r){const i=Pe(n);if(i.Qa)return void Ie("SyncEngine","Ignoring unexpected query state notification.");const o=i.Ma.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const s=yield WV(i.localStore,EF(o[0])),a=gm.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,fr.EMPTY_BYTE_STRING);yield ja(i,s,a);break}case"rejected":yield Zh(i.localStore,e,!0),cf(i,e,r);break;default:We()}})).apply(this,arguments)}function cZ(n,e,t){return hD.apply(this,arguments)}function hD(){return(hD=(0,ue.A)(function*(n,e,t){const r=i1(n);if(r.Qa){for(const i of e){if(r.Ma.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){Ie("SyncEngine","Adding an already active target "+i);continue}const o=yield zV(r.localStore,i),s=yield Jh(r.localStore,o);yield GC(r,v4(o),s.targetId,!1,s.resumeToken),n1(r.remoteStore,s)}for(const i of t)r.Ma.has(i)&&(yield Zh(r.localStore,i,!1).then(()=>{ef(r.remoteStore,i),cf(r,i)}).catch(Ac))}})).apply(this,arguments)}function i1(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=g4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QJ.bind(null,e),e.Ca.d_=VJ.bind(null,e.eventManager),e.Ca.$a=LJ.bind(null,e.eventManager),e}function fD(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JJ.bind(null,e),e}let lf=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){var r=this;return(0,ue.A)(function*(){r.serializer=Dm(t.databaseInfo.databaseId),r.sharedClientState=r.Wa(t),r.persistence=r.Ga(t),yield r.persistence.start(),r.localStore=r.za(t),r.gcScheduler=r.ja(t,r.localStore),r.indexBackfillerScheduler=r.Ha(t,r.localStore)})()}ja(t,r){return null}Ha(t,r){return null}za(t){return jV(this.persistence,new UV,t.initialUser,this.serializer)}Ga(t){return new eC(K0.Zr,this.serializer)}Wa(t){return new YV}terminate(){var t=this;return(0,ue.A)(function*(){var r,i;null===(r=t.gcScheduler)||void 0===r||r.stop(),null===(i=t.indexBackfillerScheduler)||void 0===i||i.stop(),t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}return n.provider={build:()=>new n},n})();class pD extends lf{constructor(e,t,r){super(),this.Ja=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ue.A)(function*(){yield t().call(r,e),yield r.Ja.initialize(r,e),yield fD(r.Ja.syncEngine),yield tf(r.Ja.remoteStore),yield r.persistence.yi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(e){return jV(this.persistence,new UV,e.initialUser,this.serializer)}ja(e,t){return new PV(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ha(e,t){const r=new PQ(t,this.persistence);return new MQ(e.asyncQueue,r)}Ga(e){const t=rC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ni.withCacheSize(this.cacheSizeBytes):Ni.DEFAULT;return new nC(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,ZV(),t1(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new YV}}class b4 extends pD{constructor(e,t){super(e,t,!1),this.Ja=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ue.A)(function*(){yield t().call(r,e);const i=r.Ja.syncEngine;r.sharedClientState instanceof hC&&(r.sharedClientState.syncEngine={no:iZ.bind(null,i),ro:aZ.bind(null,i),io:cZ.bind(null,i),Qi:sZ.bind(null,i),eo:rZ.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.yi(function(){var o=(0,ue.A)(function*(s){yield function oZ(n,e){return lD.apply(this,arguments)}(r.Ja.syncEngine,s),r.gcScheduler&&(s&&!r.gcScheduler.started?r.gcScheduler.start():s||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(s&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():s||r.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}Wa(e){const t=ZV();if(!hC.D(t))throw new _e(ie.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=rC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new hC(t,e.asyncQueue,r,e.clientId,e.initialUser)}}let uf=(()=>{class n{initialize(t,r){var i=this;return(0,ue.A)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(r),i.remoteStore=i.createRemoteStore(r),i.eventManager=i.createEventManager(r),i.syncEngine=i.createSyncEngine(r,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=o=>m4(i.syncEngine,o,1),i.remoteStore.remoteSyncer.handleCredentialChange=eZ.bind(null,i.syncEngine),yield PC(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new FJ}createDatastore(t){const r=Dm(t.databaseInfo.databaseId),i=new vJ(t.databaseInfo);return new wJ(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return i=this.localStore,o=this.datastore,s=t.asyncQueue,a=r=>m4(this.syncEngine,r,0),c=JV.D()?new JV:new mJ,new TJ(i,o,s,a,c);var i,o,s,a,c}createSyncEngine(t,r){return function(o,s,a,c,d,f,m){const y=new $J(o,s,a,c,d,f);return m&&(y.Qa=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){var t=this;return(0,ue.A)(function*(){var r,i,o;yield(o=(0,ue.A)(function*(a){const c=Pe(a);Ie("RemoteStore","RemoteStore shutting down."),c.L_.add(5),yield Xh(c),c.k_.shutdown(),c.q_.set("Unknown")}),function s(a){return o.apply(this,arguments)})(t.remoteStore),null===(r=t.datastore)||void 0===r||r.terminate(),null===(i=t.eventManager)||void 0===i||i.terminate()})()}}return n.provider={build:()=>new n},n})();function I4(n,e=10240){let t=0;return{read:()=>(0,ue.A)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ue.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class o1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ir("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class dZ{constructor(e,t){this.Xa=e,this.serializer=t,this.metadata=new Zr,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(r=>{r&&r.ua()?this.metadata.resolve(r.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.aa)}`))},r=>this.metadata.reject(r))}close(){return this.Xa.cancel()}getMetadata(){var e=this;return(0,ue.A)(function*(){return e.metadata.promise})()}Ua(){var e=this;return(0,ue.A)(function*(){return yield e.getMetadata(),e.tu()})()}tu(){var e=this;return(0,ue.A)(function*(){const t=yield e.nu();if(null===t)return null;const r=e.eu.decode(t),i=Number(r);isNaN(i)&&e.ru(`length string (${r}) is not valid number`);const o=yield e.iu(i);return new BJ(JSON.parse(o),t.length+i)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}nu(){var e=this;return(0,ue.A)(function*(){for(;e.su()<0&&!(yield e.ou()););if(0===e.buffer.length)return null;const t=e.su();t<0&&e.ru("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}iu(e){var t=this;return(0,ue.A)(function*(){for(;t.buffer.length<e;)(yield t.ou())&&t.ru("Reached the end of bundle when more is expected.");const r=t.eu.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){var e=this;return(0,ue.A)(function*(){const t=yield e.Xa.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class hZ{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ue.A)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw t.lastTransactionError=new _e(ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),t.lastTransactionError;const r=yield(i=(0,ue.A)(function*(s,a){const c=Pe(s),d={documents:a.map(b=>_m(c.serializer,b))},f=yield c.Lo("BatchGetDocuments",c.serializer.databaseId,Ut.emptyPath(),d,a.length),m=new Map;f.forEach(b=>{const E=function RY(n,e){return"found"in e?function(r,i){qe(!!i.found);const o=Ks(r,i.found.name),s=wr(i.found.updateTime),a=i.found.createTime?wr(i.found.createTime):Ye.min(),c=new di({mapValue:{fields:i.found.fields}});return Wn.newFoundDocument(o,s,a,c)}(n,e):"missing"in e?function(r,i){qe(!!i.missing),qe(!!i.readTime);const o=Ks(r,i.missing),s=wr(i.readTime);return Wn.newNoDocument(o,s)}(n,e):We()}(c.serializer,b);m.set(E.key.toString(),E)});const y=[];return a.forEach(b=>{const E=m.get(b.toString());qe(!!E),y.push(E)}),y}),function o(s,a){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Gh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ue.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const o=Fe.fromPath(i);e.mutations.push(new FT(o,e.precondition(o)))}),yield(r=(0,ue.A)(function*(o,s){const a=Pe(o),c={writes:s.map(d=>ym(a.serializer,d))};yield a.Mo("Commit",a.serializer.databaseId,Ut.emptyPath(),c)}),function i(o,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw We();t=Ye.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new _e(ie.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ye.min())?Jn.exists(!1):Jn.updateTime(t):Jn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ye.min()))throw new _e(ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Jn.updateTime(t)}return Jn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class fZ{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this._u=r.maxAttempts,this.t_=new pC(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var e=this;this.t_.Go((0,ue.A)(function*(){const t=new hZ(e.datastore),r=e.cu(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(o=>{e.lu(o)}))}).catch(i=>{e.lu(i)})}))}cu(e){try{const t=this.updateFunction(e);return!em(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!jF(t)}return!1}}class pZ{constructor(e,t,r,i,o){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Jr.UNAUTHENTICATED,this.clientId=Nk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,function(){var a=(0,ue.A)(function*(c){Ie("FirestoreClient","Received user=",c.uid),yield s.authCredentialListener(c),s.user=c});return function(c){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(r,a=>(Ie("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ue.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=rf(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function gD(n,e){return mD.apply(this,arguments)}function mD(){return mD=(0,ue.A)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ie("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ue.A)(function*(o){r.isEqual(o)||(yield HV(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),mD.apply(this,arguments)}function w4(n,e){return _D.apply(this,arguments)}function _D(){return(_D=(0,ue.A)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield yD(n);Ie("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>o4(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>o4(e.remoteStore,i)),n._onlineComponents=e})).apply(this,arguments)}function yD(n){return vD.apply(this,arguments)}function vD(){return(vD=(0,ue.A)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ie("FirestoreClient","Using user provided OfflineComponentProvider");try{yield gD(n,n._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(i=e).name?i.code===ie.FAILED_PRECONDITION||i.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code))throw e;Mo("Error using user provided cache. Falling back to memory cache: "+e),yield gD(n,new lf)}}else Ie("FirestoreClient","Using default OfflineComponentProvider"),yield gD(n,new lf);var i;return n._offlineComponents})).apply(this,arguments)}function s1(n){return bD.apply(this,arguments)}function bD(){return(bD=(0,ue.A)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ie("FirestoreClient","Using user provided OnlineComponentProvider"),yield w4(n,n._uninitializedComponentsProvider._online)):(Ie("FirestoreClient","Using default OnlineComponentProvider"),yield w4(n,new uf))),n._onlineComponents})).apply(this,arguments)}function E4(n){return yD(n).then(e=>e.persistence)}function df(n){return yD(n).then(e=>e.localStore)}function T4(n){return s1(n).then(e=>e.remoteStore)}function ID(n){return s1(n).then(e=>e.syncEngine)}function hf(n){return wD.apply(this,arguments)}function wD(){return(wD=(0,ue.A)(function*(n){const e=yield s1(n),t=e.eventManager;return t.onListen=GJ.bind(null,e.syncEngine),t.onUnlisten=WJ.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=zJ.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=qJ.bind(null,e.syncEngine),t})).apply(this,arguments)}function D4(n,e,t={}){const r=new Zr;return n.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return function(o,s,a,c,d){const f=new o1({next:y=>{f.Za(),s.enqueueAndForget(()=>FC(o,m));const b=y.docs.has(a);!b&&y.fromCache?d.reject(new _e(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&y.fromCache&&c&&"server"===c.source?d.reject(new _e(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:y=>d.reject(y)}),m=new UC(Lh(a.path),f,{includeMetadataChanges:!0,_a:!0});return xC(o,m)}(yield hf(n),n.asyncQueue,e,t,r)})),r.promise}function A4(n,e,t={}){const r=new Zr;return n.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return function(o,s,a,c,d){const f=new o1({next:y=>{f.Za(),s.enqueueAndForget(()=>FC(o,m)),y.fromCache&&"server"===c.source?d.reject(new _e(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(y)},error:y=>d.reject(y)}),m=new UC(a,f,{includeMetadataChanges:!0,_a:!0});return xC(o,m)}(yield hf(n),n.asyncQueue,e,t,r)})),r.promise}function S4(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const R4=new Map;function ED(n,e,t){if(!t)throw new _e(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function M4(n,e,t,r){if(!0===e&&!0===r)throw new _e(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function P4(n){if(!Fe.isDocumentKey(n))throw new _e(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function N4(n){if(Fe.isDocumentKey(n))throw new _e(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function a1(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":We()}function kt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _e(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=a1(n);throw new _e(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function O4(n,e){if(e<=0)throw new _e(ie.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class x4{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new _e(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new _e(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}M4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=S4(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new _e(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new _e(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new _e(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sm{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x4({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new _e(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x4(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new yQ;switch(r.type){case"firstParty":return new wQ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,ue.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=R4.get(t);r&&(Ie("ComponentProvider","Removing Datastore"),R4.delete(t),r.terminate())}(this),Promise.resolve()}}class hi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hi(this.firestore,e,this._query)}}class qn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qn(this.firestore,e,this._key)}}class Qs extends hi{constructor(e,t,r){super(e,t,Lh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qn(this.firestore,null,new Fe(e))}withConverter(e){return new Qs(this.firestore,e,this._path)}}function F4(n,e,...t){if(n=(0,on.Ku)(n),ED("collection","path",e),n instanceof Sm){const r=Ut.fromString(e,...t);return N4(r),new Qs(n,null,r)}{if(!(n instanceof qn||n instanceof Qs))throw new _e(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ut.fromString(e,...t));return N4(r),new Qs(n.firestore,null,r)}}function c1(n,e,...t){if(n=(0,on.Ku)(n),1===arguments.length&&(e=Nk.newId()),ED("doc","path",e),n instanceof Sm){const r=Ut.fromString(e,...t);return P4(r),new qn(n,null,new Fe(r))}{if(!(n instanceof qn||n instanceof Qs))throw new _e(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ut.fromString(e,...t));return P4(r),new qn(n.firestore,n instanceof Qs?n.converter:null,new Fe(r))}}function V4(n,e){return n=(0,on.Ku)(n),e=(0,on.Ku)(e),(n instanceof qn||n instanceof Qs)&&(e instanceof qn||e instanceof Qs)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function TD(n,e){return n=(0,on.Ku)(n),e=(0,on.Ku)(e),n instanceof hi&&e instanceof hi&&n.firestore===e.firestore&&cm(n._query,e._query)&&n.converter===e.converter}class L4{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new pC(this,"async_queue_retry"),this.Vu=()=>{const r=t1();r&&Ie("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const t=t1();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=t1();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new Zr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,ue.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(t){if(!Sc(t))throw t;Ie("AsyncQueue","Operation failed with retryable error: "+t)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(r=>{throw this.Eu=r,this.du=!1,Ir("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const i=OC.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&We()}verifyOperationInProgress(){}wu(){var e=this;return(0,ue.A)(function*(){let t;do{t=e.mu,yield t}while(t!==e.mu)})()}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function CD(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const i=t;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(n)}class AZ{constructor(){this._progressObserver={},this._taskCompletionResolver=new Zr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Cn extends Sm{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new L4,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,ue.A)(function*(){if(e._firestoreClient){const t=e._firestoreClient.terminate();e._queue=new L4(t),e._firestoreClient=void 0,yield t}})()}}function Zn(n){if(n._terminated)throw new _e(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||B4(n),n._firestoreClient}function B4(n){var e,t,r;const i=n._freezeSettings(),o=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new XQ(n._databaseId,c,n._persistenceKey,(f=i).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,S4(f.experimentalLongPollingOptions),f.useFetchStreams));var c,f;n._componentsProvider||!(null===(t=i.localCache)||void 0===t)&&t._offlineComponentProvider&&!(null===(r=i.localCache)||void 0===r)&&r._onlineComponentProvider&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new pZ(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){const c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}function DD(){return(DD=(0,ue.A)(function*(n){Mo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();U4(n,uf.provider,{build:t=>new b4(t,e.cacheSizeBytes)})})).apply(this,arguments)}function U4(n,e,t){if((n=kt(n,Cn))._firestoreClient||n._terminated)throw new _e(ie.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new _e(ie.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},B4(n)}class Ys{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ys(fr.fromBase64String(e))}catch(t){throw new _e(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ys(fr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ha{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new _e(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gu{constructor(e){this._methodName=e}}class l1{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ft(this._lat,e._lat)||ft(this._long,e._long)}}class u1{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}const LZ=/^__.*__$/;class BZ{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ba(e,this.data,this.fieldMask,t,this.fieldTransforms):new $h(e,this.data,t,this.fieldTransforms)}}class j4{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ba(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function H4(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw We()}}class d1{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new d1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return p1(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(H4(this.Cu)&&LZ.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class UZ{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Dm(e)}Qu(e,t,r,i=!1){return new d1({Cu:e,methodName:t,qu:r,path:zn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mu(n){const e=n._freezeSettings(),t=Dm(n._databaseId);return new UZ(n._databaseId,!!e.ignoreUndefinedProperties,t)}function h1(n,e,t,r,i,o={}){const s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);OD("Data must be an object, but it was:",s,r);const a=z4(r,s);let c,d;if(o.merge)c=new uo(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){const f=[];for(const m of o.mergeFields){const y=Pm(e,m,t);if(!s.contains(y))throw new _e(ie.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);q4(f,y)||f.push(y)}c=new uo(f),d=s.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,d=s.fieldTransforms;return new BZ(new di(a),c,d)}class Mm extends gu{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mm}}function $4(n,e,t){return new d1({Cu:3,qu:e.settings.qu,methodName:n._methodName,xu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class AD extends gu{_toFieldTransform(e){return new hm(e.path,new jh)}isEqual(e){return e instanceof AD}}class SD extends gu{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){const t=$4(this,e,!0),r=this.Ku.map(o=>_u(o,t)),i=new su(r);return new hm(e.path,i)}isEqual(e){return e instanceof SD&&(0,on.bD)(this.Ku,e.Ku)}}class RD extends gu{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){const t=$4(this,e,!0),r=this.Ku.map(o=>_u(o,t)),i=new au(r);return new hm(e.path,i)}isEqual(e){return e instanceof RD&&(0,on.bD)(this.Ku,e.Ku)}}class MD extends gu{constructor(e,t){super(e),this.$u=t}_toFieldTransform(e){const t=new Hh(e.serializer,RF(e.serializer,this.$u));return new hm(e.path,t)}isEqual(e){return e instanceof MD&&this.$u===e.$u}}function PD(n,e,t,r){const i=n.Qu(1,e,t);OD("Data must be an object, but it was:",i,r);const o=[],s=di.empty();Rc(r,(c,d)=>{const f=f1(e,c,t);d=(0,on.Ku)(d);const m=i.Nu(f);if(d instanceof Mm)o.push(f);else{const y=_u(d,m);null!=y&&(o.push(f),s.set(f,y))}});const a=new uo(o);return new j4(s,a,i.fieldTransforms)}function ND(n,e,t,r,i,o){const s=n.Qu(1,e,t),a=[Pm(e,r,t)],c=[i];if(o.length%2!=0)throw new _e(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)a.push(Pm(e,o[y])),c.push(o[y+1]);const d=[],f=di.empty();for(let y=a.length-1;y>=0;--y)if(!q4(d,a[y])){const b=a[y];let E=c[y];E=(0,on.Ku)(E);const D=s.Nu(b);if(E instanceof Mm)d.push(b);else{const S=_u(E,D);null!=S&&(d.push(b),f.set(b,S))}}const m=new uo(d);return new j4(f,m,s.fieldTransforms)}function G4(n,e,t,r=!1){return _u(t,n.Qu(r?4:3,e))}function _u(n,e){if(W4(n=(0,on.Ku)(n)))return OD("Unsupported field value:",e,n),z4(n,e);if(n instanceof gu)return function(r,i){if(!H4(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let c=_u(a,i.Lu(s));null==c&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if(null===(r=(0,on.Ku)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return RF(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=Qn.fromDate(r);return{timestampValue:zh(i.serializer,o)}}if(r instanceof Qn){const o=new Qn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zh(i.serializer,o)}}if(r instanceof l1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ys)return{bytesValue:JF(i.serializer,r._byteString)};if(r instanceof qn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:HT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof u1)return a=i,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:r.toArray().map(c=>{if("number"!=typeof c)throw a.Bu("VectorValues must only contain numeric values.");return kT(a.serializer,c)})}}}}};var a;throw i.Bu(`Unsupported field value: ${a1(r)}`)}(n,e)}function z4(n,e){const t={};return Qk(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rc(n,(r,i)=>{const o=_u(i,e.Mu(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function W4(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Qn||n instanceof l1||n instanceof Ys||n instanceof qn||n instanceof gu||n instanceof u1)}function OD(n,e,t){if(!W4(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=a1(t);throw e.Bu("an object"===r?n+" a custom object":n+" "+r)}var i}function Pm(n,e,t){if((e=(0,on.Ku)(e))instanceof Ha)return e._internalPath;if("string"==typeof e)return f1(n,e);throw p1("Field path arguments must be of type string or ",n,!1,void 0,t)}const jZ=new RegExp("[~\\*/\\[\\]]");function f1(n,e,t){if(e.search(jZ)>=0)throw p1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ha(...e.split("."))._internalPath}catch{throw p1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function p1(n,e,t,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new _e(ie.INVALID_ARGUMENT,a+n+c)}function q4(n,e){return n.some(t=>t.isEqual(e))}class Nm{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new qn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new HZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(g1("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class HZ extends Nm{data(){return super.data()}}function g1(n,e){return"string"==typeof e?f1(n,e):e instanceof Ha?e._internalPath:e._delegate._internalPath}function K4(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new _e(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xD{}class Om extends xD{}function jc(n,e,...t){let r=[];e instanceof xD&&r.push(e),r=r.concat(t),function(o){const s=o.filter(c=>c instanceof ff).length,a=o.filter(c=>c instanceof xm).length;if(s>1||s>0&&a>0)throw new _e(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class xm extends Om{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new xm(e,t,r)}_apply(e){const t=this._parse(e);return Z4(e._query,t),new hi(e.firestore,e.converter,OT(e._query,t))}_parse(e){const t=mu(e.firestore);return function(o,s,a,c,d,f,m){let y;if(d.isKeyField()){if("array-contains"===f||"array-contains-any"===f)throw new _e(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if("in"===f||"not-in"===f){J4(m,f);const b=[];for(const E of m)b.push(Y4(c,o,E));y={arrayValue:{values:b}}}else y=Y4(c,o,m)}else"in"!==f&&"not-in"!==f&&"array-contains-any"!==f||J4(m,f),y=G4(a,"where",m,"in"===f||"not-in"===f);return jt.create(d,f,y)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class ff extends xD{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ff(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:_n.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const c of a)Z4(s,c),s=OT(s,c)}(e._query,t),new hi(e.firestore,e.converter,OT(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class kD extends Om{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new kD(e,t)}_apply(e){const t=function(i,o,s){if(null!==i.startAt)throw new _e(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new _e(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sm(o,s)}(e._query,this._field,this._direction);return new hi(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Va(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class m1 extends Om{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new m1(e,t,r)}_apply(e){return new hi(e.firestore,e.converter,x0(e._query,this._limit,this._limitType))}}class _1 extends Om{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new _1(e,t,r)}_apply(e){const t=Q4(e,this.type,this._docOrFields,this._inclusive);return new hi(e.firestore,e.converter,(o=t,new Va((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)));var i,o}}class y1 extends Om{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new y1(e,t,r)}_apply(e){const t=Q4(e,this.type,this._docOrFields,this._inclusive);return new hi(e.firestore,e.converter,(o=t,new Va((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)));var i,o}}function Q4(n,e,t,r){if(t[0]=(0,on.Ku)(t[0]),t[0]instanceof Nm)return function(o,s,a,c,d){if(!c)throw new _e(ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const f=[];for(const m of Bh(o))if(m.field.isKeyField())f.push(iu(s,c.key));else{const y=c.data.field(m.field);if(D0(y))throw new _e(ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===y){const b=m.field.canonicalString();throw new _e(ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}f.push(y)}return new xc(f,d)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=mu(n.firestore);return function(s,a,c,d,f,m){const y=s.explicitOrderBy;if(f.length>y.length)throw new _e(ie.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let E=0;E<f.length;E++){const D=f[E];if(y[E].field.isKeyField()){if("string"!=typeof D)throw new _e(ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof D}`);if(!NT(s)&&-1!==D.indexOf("/"))throw new _e(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${D}' contains a slash.`);const S=s.path.child(Ut.fromString(D));if(!Fe.isDocumentKey(S))throw new _e(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${S}' is not because it contains an odd number of segments.`);const j=new Fe(S);b.push(iu(a,j))}else{const S=G4(c,d,D);b.push(S)}}return new xc(b,m)}(n._query,n.firestore._databaseId,i,e,t,r)}}function Y4(n,e,t){if("string"==typeof(t=(0,on.Ku)(t))){if(""===t)throw new _e(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NT(e)&&-1!==t.indexOf("/"))throw new _e(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ut.fromString(t));if(!Fe.isDocumentKey(r))throw new _e(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return iu(n,new Fe(r))}if(t instanceof qn)return iu(n,t._key);throw new _e(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${a1(t)}.`)}function J4(n,e){if(!Array.isArray(n)||0===n.length)throw new _e(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Z4(n,e){const t=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new _e(ie.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class FD{convertValue(e,t="none"){switch(Nc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw We()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Rc(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=null===(i=null===(r=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.map(s=>Yn(s.doubleValue));return new u1(o)}convertGeoPoint(e){return new l1(Yn(e.latitude),Yn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=A0(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(nm(e));default:return null}}convertTimestamp(e){const t=ka(e);return new Qn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ut.fromString(e);qe(lV(r));const i=new Mc(r.get(1),r.get(3)),o=new Fe(r.popFirst(5));return i.isEqual(t)||Ir(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function v1(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class JZ extends FD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ys(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qn(this.firestore,null,t)}}class yu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $a extends Nm{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new km(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(g1("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class km extends $a{data(e={}){return super.data(e)}}class Hc{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new yu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new km(this._firestore,this._userDataWriter,r.key,r,new yu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new km(i._firestore,i._userDataWriter,a.doc.key,a.doc,new yu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const c=new km(i._firestore,i._userDataWriter,a.doc.key,a.doc,new yu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return 0!==a.type&&(d=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),f=s.indexOf(a.doc.key)),{type:XZ(a.type),doc:c,oldIndex:d,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function XZ(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return We()}}function eL(n,e){return n instanceof $a&&e instanceof $a?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Hc&&e instanceof Hc&&n._firestore===e._firestore&&TD(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class $c extends FD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ys(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qn(this.firestore,null,t)}}function tL(n,e,t){n=kt(n,qn);const r=kt(n.firestore,Cn),i=v1(n.converter,e,t);return pf(r,[h1(mu(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Jn.none())])}function nL(n,e,t,...r){n=kt(n,qn);const i=kt(n.firestore,Cn),o=mu(i);let s;return s="string"==typeof(e=(0,on.Ku)(e))||e instanceof Ha?ND(o,"updateDoc",n._key,e,t,r):PD(o,"updateDoc",n._key,e),pf(i,[s.toMutation(n._key,Jn.exists(!0))])}function rL(n,...e){var t,r,i;n=(0,on.Ku)(n);let o={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof e[s]||CD(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(CD(e[s])){const m=e[s];e[s]=null===(t=m.next)||void 0===t?void 0:t.bind(m),e[s+1]=null===(r=m.error)||void 0===r?void 0:r.bind(m),e[s+2]=null===(i=m.complete)||void 0===i?void 0:i.bind(m)}let c,d,f;if(n instanceof qn)d=kt(n.firestore,Cn),f=Lh(n._key.path),c={next:m=>{e[s]&&e[s](VD(d,n,m))},error:e[s+1],complete:e[s+2]};else{const m=kt(n,hi);d=kt(m.firestore,Cn),f=m._query;const y=new $c(d);c={next:b=>{e[s]&&e[s](new Hc(d,y,m,b))},error:e[s+1],complete:e[s+2]},K4(n._query)}return function(y,b,E,D){const S=new o1(D),j=new UC(b,S,E);return y.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return xC(yield hf(y),j)})),()=>{S.Za(),y.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return FC(yield hf(y),j)}))}}(Zn(d),f,a,c)}function pf(n,e){return function(r,i){const o=new Zr;return r.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return function KJ(n,e,t){return KC.apply(this,arguments)}(yield ID(r),i,o)})),o.promise}(Zn(n),e)}function VD(n,e,t){const r=t.docs.get(e._key),i=new $c(n);return new $a(n,i,e._key,r,new yu(t.hasPendingWrites,t.fromCache),e.converter)}const _X={maxAttempts:5};class iL{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=mu(e)}set(e,t,r){this._verifyNotCommitted();const i=Gc(e,this._firestore),o=v1(i.converter,t,r),s=h1(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,r);return this._mutations.push(s.toMutation(i._key,Jn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=Gc(e,this._firestore);let s;return s="string"==typeof(t=(0,on.Ku)(t))||t instanceof Ha?ND(this._dataReader,"WriteBatch.update",o._key,t,r,i):PD(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(s.toMutation(o._key,Jn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Gc(e,this._firestore);return this._mutations=this._mutations.concat(new Gh(t._key,Jn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _e(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Gc(n,e){if((n=(0,on.Ku)(n)).firestore!==e)throw new _e(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class yX extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=mu(t)}get(t){const r=Gc(t,this._firestore),i=new JZ(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||1!==o.length)return We();const s=o[0];if(s.isFoundDocument())return new Nm(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new Nm(this._firestore,i,r._key,null,r.converter);throw We()})}set(t,r,i){const o=Gc(t,this._firestore),s=v1(o.converter,r,i),a=h1(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,i);return this._transaction.set(o._key,a),this}update(t,r,i,...o){const s=Gc(t,this._firestore);let a;return a="string"==typeof(r=(0,on.Ku)(r))||r instanceof Ha?ND(this._dataReader,"Transaction.update",s._key,r,i,o):PD(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(t){const r=Gc(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Gc(e,this._firestore),r=new $c(this._firestore);return super.get(e).then(i=>new $a(this._firestore,r,t._key,i._document,new yu(!1,!1),t.converter))}}function BD(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new _e("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function cL(){if(typeof Uint8Array>"u")throw new _e("unimplemented","Uint8Arrays are not available in this environment.")}function lL(){if(!function JQ(){return typeof atob<"u"}())throw new _e("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){Mh=Ah.SDK_VERSION,(0,Ah._registerComponent)(new bk.uA("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Cn(new bQ(r.getProvider("auth-internal")),new EQ(r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new _e(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mc(d.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,Ah.registerVersion)(Rk,"4.7.3",e),(0,Ah.registerVersion)(Rk,"4.7.3","esm2017")}();class Fm{constructor(e){this._delegate=e}static fromBase64String(e){return lL(),new Fm(Ys.fromBase64String(e))}static fromUint8Array(e){return cL(),new Fm(Ys.fromUint8Array(e))}toBase64(){return lL(),this._delegate.toBase64()}toUint8Array(){return cL(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function UD(n){return function SX(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class RX{enableIndexedDbPersistence(e,t){return function RZ(n,e){Mo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return U4(n,uf.provider,{build:r=>new pD(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function MZ(n){return DD.apply(this,arguments)}(e._delegate)}clearIndexedDbPersistence(e){return function PZ(n){if(n._initialized&&!n._terminated)throw new _e(ie.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Zr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ue.A)(function*(){try{yield(t=(0,ue.A)(function*(i){if(!Gs.D())return Promise.resolve();const o=i+"main";yield Gs.delete(o)}),function r(i){return t.apply(this,arguments)})(rC(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class uL{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Mc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Mo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function k4(n,e,t,r={}){var i;const o=(n=kt(n,Sm))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Jr.MOCK_USER;else{a=(0,on.Fy)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new _e(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Jr(d)}n._authCredentials=new vQ(new Mk(a,c))}}(this._delegate,e,t,r)}enableNetwork(){return function OZ(n){return function gZ(n){return n.asyncQueue.enqueue((0,ue.A)(function*(){const e=yield E4(n),t=yield T4(n);return e.setNetworkEnabled(!0),function(i){const o=Pe(i);return o.L_.delete(0),Am(o)}(t)}))}(Zn(n=kt(n,Cn)))}(this._delegate)}disableNetwork(){return function xZ(n){return function mZ(n){return n.asyncQueue.enqueue((0,ue.A)(function*(){const e=yield E4(n),t=yield T4(n);return e.setNetworkEnabled(!1),(r=(0,ue.A)(function*(o){const s=Pe(o);s.L_.add(0),yield Xh(s),s.q_.set("Offline")}),function i(o){return r.apply(this,arguments)})(t);var r}))}(Zn(n=kt(n,Cn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,M4("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function NZ(n){return function(t){const r=new Zr;return t.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return function ZJ(n,e){return XC.apply(this,arguments)}(yield ID(t),r)})),r.promise}(Zn(n=kt(n,Cn)))}(this._delegate)}onSnapshotsInSync(e){return function cX(n,e){return function bZ(n,e){const t=new o1(e);return n.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return i=yield hf(n),o=t,Pe(i).Y_.add(o),void o.next();var i,o})),()=>{t.Za(),n.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return i=yield hf(n),o=t,void Pe(i).Y_.delete(o);var i,o}))}}(Zn(n=kt(n,Cn)),CD(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new _e("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new gf(this,F4(this._delegate,e))}catch(t){throw Ki(t,"collection()","Firestore.collection()")}}doc(e){try{return new Xo(this,c1(this._delegate,e))}catch(t){throw Ki(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Qi(this,function DZ(n,e){if(n=kt(n,Sm),ED("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new _e(ie.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new hi(n,null,(r=e,new Va(Ut.emptyPath(),r)));var r}(this._delegate,e))}catch(t){throw Ki(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function vX(n,e,t){n=kt(n,Cn);const r=Object.assign(Object.assign({},_X),t);return function(o){if(o.maxAttempts<1)throw new _e(ie.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){const c=new Zr;return o.asyncQueue.enqueueAndForget((0,ue.A)(function*(){const d=yield function C4(n){return s1(n).then(e=>e.datastore)}(o);new fZ(o.asyncQueue,d,a,s,c).au()})),c.promise}(Zn(n),i=>e(new yX(n,i)),r)}(this._delegate,t=>e(new dL(this,t)))}batch(){return Zn(this._delegate),new hL(new iL(this._delegate,e=>pf(this._delegate,e)))}loadBundle(e){return function kZ(n,e){const t=Zn(n=kt(n,Cn)),r=new AZ;return function IZ(n,e,t,r){const i=function(s,a){let c;return c="string"==typeof s?$F().encode(s):s,f=function(f,m){if(f instanceof Uint8Array)return I4(f,m);if(f instanceof ArrayBuffer)return I4(new Uint8Array(f),m);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new dZ(f,a);var f}(t,Dm(e));n.asyncQueue.enqueueAndForget((0,ue.A)(function*(){!function lZ(n,e,t){const r=Pe(n);var i;(i=(0,ue.A)(function*(s,a,c){try{const d=yield a.getMetadata();if(yield function(E,D){const S=Pe(E),j=wr(D.createTime);return S.persistence.runTransaction("hasNewerBundle","readonly",O=>S.Gr.getBundleMetadata(O,D.id)).then(O=>!!O&&O.createTime.compareTo(j)>=0)}(s.localStore,d))return yield a.close(),c._completeWith({taskState:"Success",documentsLoaded:(E=d).totalDocuments,bytesLoaded:E.totalBytes,totalDocuments:E.totalDocuments,totalBytes:E.totalBytes}),Promise.resolve(new Set);c._updateProgress(u4(d));const f=new UJ(d,s.localStore,a.serializer);let m=yield a.Ua();for(;m;){const b=yield f.la(m);b&&c._updateProgress(b),m=yield a.Ua()}const y=yield f.complete();return yield ja(s,y.Ia,void 0),yield function(E,D){const S=Pe(E);return S.persistence.runTransaction("Save bundle","readwrite",j=>S.Gr.saveBundleMetadata(j,D))}(s.localStore,d),c._completeWith(y.progress),Promise.resolve(y.Pa)}catch(d){return Mo("SyncEngine",`Loading bundle failed with ${d}`),c._failWith(d),Promise.resolve(new Set)}var E}),function o(s,a,c){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield ID(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function FZ(n,e){return function wZ(n,e){return n.asyncQueue.enqueue((0,ue.A)(function*(){return function(r,i){const o=Pe(r);return o.persistence.runTransaction("Get named query","readonly",s=>o.Gr.getNamedQuery(s,i))}(yield df(n),e)}))}(Zn(n=kt(n,Cn)),e).then(t=>t?new hi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Qi(this,t):null)}}class I1 extends FD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fm(new Ys(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Xo.forKey(t,this.firestore,null)}}class dL{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new I1(e)}get(e){const t=bu(e);return this._delegate.get(t).then(r=>new Vm(this._firestore,new $a(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=bu(e);return r?(BD("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=bu(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=bu(e);return this._delegate.delete(t),this}}class hL{constructor(e){this._delegate=e}set(e,t,r){const i=bu(e);return r?(BD("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=bu(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=bu(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class vu{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new km(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Lm(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=vu.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new vu(e,new I1(e),t),i.set(t,o)),o}}vu.INSTANCES=new WeakMap;class Xo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new I1(e)}static forPath(e,t,r){if(e.length%2!=0)throw new _e("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Xo(t,new qn(t._delegate,r,new Fe(e)))}static forKey(e,t,r){return new Xo(t,new qn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new gf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new gf(this.firestore,F4(this._delegate,e))}catch(t){throw Ki(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,on.Ku)(e))instanceof qn&&V4(this._delegate,e)}set(e,t){t=BD("DocumentReference.set",t);try{return t?tL(this._delegate,e,t):tL(this._delegate,e)}catch(r){throw Ki(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?nL(this._delegate,e):nL(this._delegate,e,t,...r)}catch(i){throw Ki(i,"updateDoc()","DocumentReference.update()")}}delete(){return function sX(n){return pf(kt(n.firestore,Cn),[new Gh(n._key,Jn.none())])}(this._delegate)}onSnapshot(...e){const t=fL(e),r=pL(e,i=>new Vm(this.firestore,new $a(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return rL(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function tX(n){n=kt(n,qn);const e=kt(n.firestore,Cn),t=Zn(e),r=new $c(e);return function _Z(n,e){const t=new Zr;return n.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return(r=(0,ue.A)(function*(o,s,a){try{const c=yield function(f,m){const y=Pe(f);return y.persistence.runTransaction("read document","readonly",b=>y.localDocuments.getDocument(b,m))}(o,s);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new _e(ie.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const d=rf(c,`Failed to get document '${s} from cache`);a.reject(d)}}),function i(o,s,a){return r.apply(this,arguments)})(yield df(n),e,t);var r})),t.promise}(t,n._key).then(i=>new $a(e,r,n._key,i,new yu(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function nX(n){n=kt(n,qn);const e=kt(n.firestore,Cn);return D4(Zn(e),n._key,{source:"server"}).then(t=>VD(e,n,t))}(this._delegate):function eX(n){n=kt(n,qn);const e=kt(n.firestore,Cn);return D4(Zn(e),n._key).then(t=>VD(e,n,t))}(this._delegate),t.then(r=>new Vm(this.firestore,new $a(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Xo(this.firestore,this._delegate.withConverter(e?vu.getInstance(this.firestore,e):null))}}function Ki(n,e,t){return n.message=n.message.replace(e,t),n}function fL(n){for(const e of n)if("object"==typeof e&&!UD(e))return e;return{}}function pL(n,e){var t,r;let i;return i=UD(n[0])?n[0]:UD(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Vm{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Xo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return eL(this._delegate,e._delegate)}}class Lm extends Vm{data(e){const t=this._delegate.data(e);return this._delegate._converter||function _Q(n,e){n||We()}(void 0!==t),t}}class Qi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new I1(e)}where(e,t,r){try{return new Qi(this.firestore,jc(this._delegate,function $Z(n,e,t){const r=e,i=g1("where",n);return xm._create(i,r,t)}(e,t,r)))}catch(i){throw Ki(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Qi(this.firestore,jc(this._delegate,function GZ(n,e="asc"){const t=e,r=g1("orderBy",n);return kD._create(r,t)}(e,t)))}catch(r){throw Ki(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Qi(this.firestore,jc(this._delegate,function zZ(n){return O4("limit",n),m1._create("limit",n,"F")}(e)))}catch(t){throw Ki(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Qi(this.firestore,jc(this._delegate,function WZ(n){return O4("limitToLast",n),m1._create("limitToLast",n,"L")}(e)))}catch(t){throw Ki(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Qi(this.firestore,jc(this._delegate,function qZ(...n){return _1._create("startAt",n,!0)}(...e)))}catch(t){throw Ki(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Qi(this.firestore,jc(this._delegate,function KZ(...n){return _1._create("startAfter",n,!1)}(...e)))}catch(t){throw Ki(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Qi(this.firestore,jc(this._delegate,function QZ(...n){return y1._create("endBefore",n,!1)}(...e)))}catch(t){throw Ki(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Qi(this.firestore,jc(this._delegate,function YZ(...n){return y1._create("endAt",n,!0)}(...e)))}catch(t){throw Ki(t,"endAt()","Query.endAt()")}}isEqual(e){return TD(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function iX(n){n=kt(n,hi);const e=kt(n.firestore,Cn),t=Zn(e),r=new $c(e);return function yZ(n,e){const t=new Zr;return n.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return(r=(0,ue.A)(function*(o,s,a){try{const c=yield J0(o,s,!0),d=new f4(s,c.Ts),f=d.ma(c.documents),m=d.applyChanges(f,!1);a.resolve(m.snapshot)}catch(c){const d=rf(c,`Failed to execute query '${s} against cache`);a.reject(d)}}),function i(o,s,a){return r.apply(this,arguments)})(yield df(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Hc(e,r,n,i))}(this._delegate):"server"===e?.source?function oX(n){n=kt(n,hi);const e=kt(n.firestore,Cn),t=Zn(e),r=new $c(e);return A4(t,n._query,{source:"server"}).then(i=>new Hc(e,r,n,i))}(this._delegate):function rX(n){n=kt(n,hi);const e=kt(n.firestore,Cn),t=Zn(e),r=new $c(e);return K4(n._query),A4(t,n._query).then(i=>new Hc(e,r,n,i))}(this._delegate),t.then(r=>new jD(this.firestore,new Hc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=fL(e),r=pL(e,i=>new jD(this.firestore,new Hc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return rL(this._delegate,t,r)}withConverter(e){return new Qi(this.firestore,this._delegate.withConverter(e?vu.getInstance(this.firestore,e):null))}}class PX{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Lm(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class jD{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Qi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Lm(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new PX(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Lm(this._firestore,r))})}isEqual(e){return eL(this._delegate,e._delegate)}}class gf extends Qi{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Xo(this.firestore,e):null}doc(e){try{return new Xo(this.firestore,void 0===e?c1(this._delegate):c1(this._delegate,e))}catch(t){throw Ki(t,"doc()","CollectionReference.doc()")}}add(e){return function aX(n,e){const t=kt(n.firestore,Cn),r=c1(n),i=v1(n.converter,e);return pf(t,[h1(mu(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Jn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Xo(this.firestore,t))}isEqual(e){return V4(this._delegate,e._delegate)}withConverter(e){return new gf(this.firestore,this._delegate.withConverter(e?vu.getInstance(this.firestore,e):null))}}function bu(n){return kt(n,qn)}class HD{constructor(...e){this._delegate=new Ha(...e)}static documentId(){return new HD(zn.keyField().canonicalString())}isEqual(e){return(e=(0,on.Ku)(e))instanceof Ha&&this._delegate._internalPath.isEqual(e._internalPath)}}class Iu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function IX(){return new AD("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Iu(e)}static delete(){const e=function bX(){return new Mm("deleteField")}();return e._methodName="FieldValue.delete",new Iu(e)}static arrayUnion(...e){const t=function wX(...n){return new SD("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Iu(t)}static arrayRemove(...e){const t=function EX(...n){return new RD("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Iu(t)}static increment(e){const t=function TX(n){return new MD("increment",n)}(e);return t._methodName="FieldValue.increment",new Iu(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const NX={Firestore:uL,GeoPoint:l1,Timestamp:Qn,Blob:Fm,Transaction:dL,WriteBatch:hL,DocumentReference:Xo,DocumentSnapshot:Vm,Query:Qi,QueryDocumentSnapshot:Lm,QuerySnapshot:jD,CollectionReference:gf,FieldPath:HD,FieldValue:Iu,setLogLevel:function MX(n){!function mQ(n){Dc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function gL(n,e){return function kX(n,e=y0){return new lt(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function $D(n,e){return gL(n,e).pipe(ye(t=>({payload:t,type:"query"})))}!function xX(n){(function OX(n,e){n.INTERNAL.registerComponent(new bk.uA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},NX)))})(n,(e,t)=>new uL(e,t,new RX)),n.registerVersion("@firebase/firestore-compat","0.3.38")}(Xl.A);class mL{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:o}=bL(r,t);return new vL(i,o,this.afs)}snapshotChanges(){return function FX(n,e){return gL(n,e).pipe(Og(void 0),_T(),ye(t=>{const[r,i]=t;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ro)}valueChanges(e={}){return this.snapshotChanges().pipe(ye(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return R(this.ref.get(e)).pipe(Ro)}}function w1(n,e){return $D(n,e).pipe(Og(void 0),_T(),ye(t=>{const[r,i]=t,o=i.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,c)=>{const d=o.find(m=>m.doc.ref.isEqual(a.ref)),f=r?.payload.docs.find(m=>m.ref.isEqual(a.ref));d&&JSON.stringify(d.doc.metadata)===JSON.stringify(a.metadata)||!d&&f&&JSON.stringify(f.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function _L(n,e,t){return w1(n,t).pipe(Xv((r,i)=>function VX(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function LX(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return GD(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return GD(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return GD(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(o=>o.payload),e),[]),fn(),ye(r=>r.map(i=>({type:i.type,payload:i}))))}function GD(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function yL(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class vL{ref;query;afs;constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=w1(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(ye(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Og(void 0),_T(),br(([r,i])=>i.length>0||!r),ye(([,r])=>r),Ro)}auditTrail(e){return this.stateChanges(e).pipe(Xv((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=yL(e);return _L(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ro)}valueChanges(e={}){return $D(this.query,this.afs.schedulers.outsideAngular).pipe(ye(t=>t.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),Ro)}get(e){return R(this.query.get(e)).pipe(Ro)}add(e){return this.ref.add(e)}doc(e){return new mL(this.ref.doc(e),this.afs)}}class BX{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?w1(this.query,this.afs.schedulers.outsideAngular).pipe(ye(t=>t.filter(r=>e.indexOf(r.type)>-1)),br(t=>t.length>0),Ro):w1(this.query,this.afs.schedulers.outsideAngular).pipe(Ro)}auditTrail(e){return this.stateChanges(e).pipe(Xv((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=yL(e);return _L(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ro)}valueChanges(e={}){return $D(this.query,this.afs.schedulers.outsideAngular).pipe(ye(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),Ro)}get(e){return R(this.query.get(e)).pipe(Ro)}}const UX=new xe("angularfire2.enableFirestorePersistence"),jX=new xe("angularfire2.firestore.persistenceSettings"),HX=new xe("angularfire2.firestore.settings"),$X=new xe("angularfire2.firestore.use-emulator");function bL(n,e=(t=>t)){return{query:e(n),ref:n}}let GX=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,r,i,o,s,a,c,d,f,m,y,b,E,D,S,j,O){this.schedulers=c;const J=gT(t,a,r),re=f;m&&vk(J,a,y,E,D,S,b,j),[this.firestore,this.persistenceEnabled$]=lk(`${J.name}.firestore`,"AngularFirestore",J.name,()=>{const pe=a.runOutsideAngular(()=>J.firestore());if(o&&pe.settings(o),re&&pe.useEmulator(...re),i&&!qv(s)){const Ae=()=>{try{return R(pe.enablePersistence(d||void 0).then(()=>!0,()=>!1))}catch(k){return typeof console<"u"&&console.warn(k),q(!1)}};return[pe,a.runOutsideAngular(Ae)]}return[pe,q(!1)]},[o,re,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:s}=bL(i,r),a=this.schedulers.ngZone.run(()=>o);return new vL(a,s,this)}collectionGroup(t,r){const i=r||(s=>s),o=this.firestore.collectionGroup(t);return new BX(i(o),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new mL(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||n)(ve(v0),ve(b0,8),ve(UX,8),ve(HX,8),ve(Ta),ve(Pt),ve(ak),ve(jX,8),ve($X,8),ve(mT,8),ve(fk,8),ve(pk,8),ve(gk,8),ve(mk,8),ve(_k,8),ve(yk,8),ve(ok,8))};static \u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),zc=(()=>{class n{constructor(t,r,i){this.afs=t,this.afAuth=r,this.router=i,this.afAuth.authState.subscribe(o=>{o?(this.userData=o,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}SignIn(t,r){return this.afAuth.signInWithEmailAndPassword(t,r).then(i=>{this.SetUserData(i.user),this.afAuth.authState.subscribe(o=>{o&&this.router.navigate(["dashboard"])})}).catch(i=>{window.alert(i.message)})}SignUp(t,r){return this.afAuth.createUserWithEmailAndPassword(t,r).then(i=>{this.SendVerificationMail(),this.SetUserData(i.user)}).catch(i=>{window.alert(i.message)})}SendVerificationMail(){return this.afAuth.currentUser.then(t=>t.sendEmailVerification()).then(()=>{this.router.navigate(["verify-email-address"])})}ForgotPassword(t){return this.afAuth.sendPasswordResetEmail(t).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(r=>{window.alert(r)})}get isLoggedIn(){const t=JSON.parse(localStorage.getItem("user"));return null!==t&&!1!==t.emailVerified}SetUserData(t){return this.afs.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified},{merge:!0})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.userData=null,this.router.navigate(["sign-in"])})}static{this.\u0275fac=function(r){return new(r||n)(ve(GX),ve(mT),ve(So))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const zX=function(){return["/forgot-password"]},WX=function(){return["/register-user"]};let qX=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}open(t){}static{this.\u0275fac=function(r){return new(r||n)($(zc))}}static{this.\u0275cmp=En({type:n,selectors:[["app-sign-in"]],decls:20,vars:4,consts:[[1,"d-flex","align-items-center","justify-content-center",2,"min-height","100vh"],[1,"w-100",2,"max-width","400px"],[1,"card"],[1,"card-body",3,"keydown.enter"],[1,"card-title"],["type","email","required","","placeholder","email",1,"form-control","mb-3"],["emailRef",""],["type","password","required","","placeholder","password",1,"form-control","mb-3"],["passwordRef",""],["type","submit",1,"form-control","mb-3","btn","btn-primary",3,"click"],["className","w-100 text-center mt-2"],[3,"routerLink"],["className","w-100 text-center mt-4"]],template:function(r,i){if(1&r){const o=ao();he(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Dt("keydown.enter",function(){Ar(o);const a=Vr(7),c=Vr(9);return Wr(i.authService.SignIn(a.value,c.value))}),he(4,"h2",4),Ke(5,"Log in"),Ee(),At(6,"input",5,6)(8,"input",7,8),he(10,"button",9),Dt("click",function(){Ar(o);const a=Vr(7),c=Vr(9);return Wr(i.authService.SignIn(a.value,c.value))}),Ke(11,"Log in"),Ee(),he(12,"div",10)(13,"a",11),Ke(14,"Forgot password?"),Ee()()()(),he(15,"div",12)(16,"span"),Ke(17,"Need an account? "),he(18,"a",11),Ke(19,"Sign Up"),Ee()()()()()}2&r&&(Be(13),Ge("routerLink",zl(2,zX)),Be(5),Ge("routerLink",zl(3,WX)))},dependencies:[Cc]})}}return n})(),IL=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||n)($(zc))}}static{this.\u0275cmp=En({type:n,selectors:[["app-sign-up"]],decls:19,vars:0,consts:[[1,"d-flex","justify-content-center","align-items-center",2,"min-height","100vh"],[1,"w-100",2,"max-width","400px"],[1,"card"],[1,"card-body"],[1,"card-title"],["type","email","required","","placeholder","Email address",1,"form-control","mb-3"],["emailRef",""],["type","password","required","","placeholder","Password",1,"form-control","mb-3"],["passwordRef",""],["type","password","required","","placeholder","Password confirmation",1,"form-control","mb-3"],["passwordConfirmationRef",""],[1,"form-control","mb-3","btn","btn-primary",3,"click"],["className","w-100 text-center mt-4"],["routerLink","/sign-in",1,"redirect"]],template:function(r,i){if(1&r){const o=ao();he(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),Ke(5,"Sign up"),Ee(),At(6,"input",5,6)(8,"input",7,8)(10,"input",9,10),he(12,"button",11),Dt("click",function(){Ar(o);const a=Vr(7),c=Vr(9);return Wr(i.authService.SignUp(a.value,c.value))}),Ke(13,"Sign up"),Ee()()(),he(14,"div",12)(15,"span"),Ke(16,"Already have an account? "),he(17,"a",13),Ke(18,"Log-In"),Ee()()()()()}},dependencies:[Cc]})}}return n})();const zD_firebase={apiKey:"AIzaSyCyUQKXj4y30YlEI1kjrA4Cq36VoK9YsRw",authDomain:"auth-development-a3663.firebaseapp.com",projectId:"auth-development-a3663",storageBucket:"auth-development-a3663.appspot.com",messagingSenderId:"925325853760",appId:"1:925325853760:web:cf9a8856fcad89d0518ba5"},KX=[{id:"2",serviceLink:"/diary",serviceName:"Travel Diary",serviceMotto:"Sharing and Looking back joy moments are interesting !!!",serviceBackdrop:"/assets/hero/diary.png"},{id:"3",serviceLink:"/notes",serviceName:"Universal Notes",serviceMotto:"Collecting all notes to one place is a invaluable notebook !!!",serviceBackdrop:"/assets/hero/notes.png"},{id:"4",serviceLink:"/games",serviceName:"Funny Games",serviceMotto:"Playing while Learning !!!",serviceBackdrop:"/assets/hero/games.png"},{id:"5",serviceLink:"/education",serviceName:"Learning while Playing",serviceMotto:"Incremental improvement is a great way to get better yourself !!!",serviceBackdrop:"/assets/hero/education.png"}];let QX=(()=>{class n{constructor(){this.serviceLink??="https://toidamme.com",this.serviceName??="Useful utility",this.serviceMotto??="Doing tasks more easily with supporting of computer softwares is an art itself !!!",this.serviceBackdrop??="/assets/hero/diary.png"}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=En({type:n,selectors:[["app-section-template"]],inputs:{serviceLink:"serviceLink",serviceName:"serviceName",serviceMotto:"serviceMotto",serviceBackdrop:"serviceBackdrop"},decls:14,vars:6,consts:[[1,"hero"],[2,"width","100vw","height","80vh","position","relative"],[1,"container","center-vertically"],[1,"center-container"],[1,"center-container-opacity"],[1,"header-font"],[1,"highlight-font"],[1,"explore"],[1,"action-font",3,"href"],[1,"fa","fa-search","white-text"]],template:function(r,i){1&r&&(he(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),Ke(6),Ee(),he(7,"p",6),Ke(8),Ee()(),he(9,"div",7)(10,"a",8),At(11,"i",9),he(12,"span"),Ke(13," Let's explore..."),Ee()()()()()()()),2&r&&(WP("height: 80vh;background-image: url('",i.serviceBackdrop,"');"),Be(6),ci(i.serviceName),Be(2),ci(i.serviceMotto),Be(2),lh("href",i.serviceLink,Yy))},styles:[".hero[_ngcontent-%COMP%]{height:100vh;width:100vw;background-position:center;background-attachment:fixed;background-repeat:no-repeat;background-size:cover;position:relative}.container[_ngcontent-%COMP%]{width:100%}.center-vertically[_ngcontent-%COMP%]{margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}@media (min-width: 640px){.container[_ngcontent-%COMP%]{max-width:640px}}@media (min-width: 768px){.container[_ngcontent-%COMP%]{max-width:768px}}@media (min-width: 1024px){.container[_ngcontent-%COMP%]{max-width:1024px}}@media (min-width: 1280px){.container[_ngcontent-%COMP%]{max-width:1280px}}@media (min-width: 1536px){.container[_ngcontent-%COMP%]{max-width:1536px}}.container[_ngcontent-%COMP%]{max-width:640px;text-align:center}.center-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-radius:20px}.center-container-opacity[_ngcontent-%COMP%]{background-color:#000000b3;padding:3rem;margin-bottom:1.25rem;text-align:center}.explore[_ngcontent-%COMP%]{background-color:#000000b3;padding:1.5rem;margin:auto;width:75%;max-width:250px;text-align:center}.header-font[_ngcontent-%COMP%]{font-family:Oswald,sans-serif;color:#fff;font-weight:700;font-size:3rem;line-height:1.5}.highlight-font[_ngcontent-%COMP%]{color:#c96;font-size:1.5rem}.text-font[_ngcontent-%COMP%]{font-size:1rem;color:#fff}.white-text[_ngcontent-%COMP%]{color:#fff}.action-font[_ngcontent-%COMP%]{color:#c96;font-size:1.5rem}a.action-font[_ngcontent-%COMP%]{text-decoration:none}"]})}}return n})();function YX(n,e){if(1&n&&At(0,"app-section-template",1),2&n){const t=e.$implicit;Ge("serviceBackdrop",t.serviceBackdrop)("serviceName",t.serviceName)("serviceMotto",t.serviceMotto)("serviceLink",t.serviceLink)}}let JX=(()=>{class n{constructor(){this.apps=KX}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=En({type:n,selectors:[["app-section"]],decls:1,vars:1,consts:[[3,"serviceBackdrop","serviceName","serviceMotto","serviceLink",4,"ngFor","ngForOf"],[3,"serviceBackdrop","serviceName","serviceMotto","serviceLink"]],template:function(r,i){1&r&&Qe(0,YX,1,4,"app-section-template",0),2&r&&Ge("ngForOf",i.apps)},dependencies:[Pa,QX],styles:[".hero[_ngcontent-%COMP%]{height:100vh;width:100vw;background-position:center;background-attachment:fixed;background-repeat:no-repeat;background-size:cover;position:relative}.container[_ngcontent-%COMP%]{width:100%}.center-vertically[_ngcontent-%COMP%]{margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}@media (min-width: 640px){.container[_ngcontent-%COMP%]{max-width:640px}}@media (min-width: 768px){.container[_ngcontent-%COMP%]{max-width:768px}}@media (min-width: 1024px){.container[_ngcontent-%COMP%]{max-width:1024px}}@media (min-width: 1280px){.container[_ngcontent-%COMP%]{max-width:1280px}}@media (min-width: 1536px){.container[_ngcontent-%COMP%]{max-width:1536px}}.container[_ngcontent-%COMP%]{max-width:640px;text-align:center}.center-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-radius:20px}.center-container-opacity[_ngcontent-%COMP%]{background-color:#000000b3;padding:3rem;margin-bottom:1.25rem;text-align:center}.explore[_ngcontent-%COMP%]{background-color:#000000b3;padding:1.5rem;margin:auto;width:75%;max-width:250px;text-align:center}.header-font[_ngcontent-%COMP%]{font-family:Oswald,sans-serif;color:#fff;font-weight:700;font-size:3rem;line-height:1.5}.highlight-font[_ngcontent-%COMP%]{color:#c96;font-size:1.5rem}.text-font[_ngcontent-%COMP%]{font-size:1rem;color:#fff}.white-text[_ngcontent-%COMP%]{color:#fff}.action-font[_ngcontent-%COMP%]{color:#c96;font-size:1.5rem}a.action-font[_ngcontent-%COMP%]{text-decoration:none}"]})}}return n})(),ZX=(()=>{class n{constructor(){this.title="Aibit"}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=En({type:n,selectors:[["app-cards"]],decls:85,vars:1,consts:[["role","main",1,"content"],[1,"card","highlight-card","card-small"],["id","rocket","xmlns","http://www.w3.org/2000/svg","width","101.678","height","101.678","viewBox","0 0 101.678 101.678"],["id","Group_83","data-name","Group 83","transform","translate(-141 -696)"],["id","Ellipse_8","data-name","Ellipse 8","cx","50.839","cy","50.839","r","50.839","transform","translate(143 699)","fill","#fff","stroke","#1976d2","stroke-width","3"],["id","Group_47","data-name","Group 47","transform","translate(165.185 720.185)"],["d","M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17 s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4 c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562 C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829 c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91 v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4 s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019,0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665 C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2 S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4 s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2 s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z","fill","#00ccff"],[1,"card-container"],["target","_blank","rel","noopener","href","/notes",1,"card"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","-4 0 60 60",1,"material-icons"],["id","People","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["id","Icon-3","transform","translate(-4.000000, 0.000000)","fill","#000000"],["d","M37,42 C37.553,42 38,42.448 38,43 C38,43.552 37.553,44 37,44 L23,44 C22.448,44 22,43.552 22,43 C22,42.448 22.448,42 23,42 L37,42 Z M43,38 L23,38 C22.448,38 22,37.552 22,37 C22,36.448 22.448,36 23,36 L43,36 C43.553,36 44,36.448 44,37 C44,37.552 43.553,38 43,38 L43,38 Z M45,32 L23,32 C22.448,32 22,31.552 22,31 C22,30.448 22.448,30 23,30 L45,30 C45.553,30 46,30.448 46,31 C46,31.552 45.553,32 45,32 L45,32 Z M22,25 C22,24.448 22.448,24 23,24 L41,24 C41.553,24 42,24.448 42,25 C42,25.552 41.553,26 41,26 L23,26 C22.448,26 22,25.552 22,25 L22,25 Z M22,19 C22,18.448 22.448,18 23,18 L43,18 C43.553,18 44,18.448 44,19 C44,19.552 43.553,20 43,20 L23,20 C22.448,20 22,19.552 22,19 L22,19 Z M18,43 C18,43.552 17.552,44 17,44 L15,44 C14.448,44 14,43.552 14,43 C14,42.448 14.448,42 15,42 L17,42 C17.552,42 18,42.448 18,43 L18,43 Z M18,37 C18,37.552 17.552,38 17,38 L15,38 C14.448,38 14,37.552 14,37 C14,36.448 14.448,36 15,36 L17,36 C17.552,36 18,36.448 18,37 L18,37 Z M18,31 C18,31.552 17.552,32 17,32 L15,32 C14.448,32 14,31.552 14,31 C14,30.448 14.448,30 15,30 L17,30 C17.552,30 18,30.448 18,31 L18,31 Z M18,25 C18,25.552 17.552,26 17,26 L15,26 C14.448,26 14,25.552 14,25 C14,24.448 14.448,24 15,24 L17,24 C17.552,24 18,24.448 18,25 L18,25 Z M18,19 C18,19.552 17.552,20 17,20 L15,20 C14.448,20 14,19.552 14,19 C14,18.448 14.448,18 15,18 L17,18 C17.552,18 18,18.448 18,19 L18,19 Z M18,5 C18,4.448 18.448,4 19,4 L21,4 C21.552,4 22,4.448 22,5 C22,5.552 21.552,6 21,6 L19,6 C18.448,6 18,5.552 18,5 L18,5 Z M28,5 C28,4.448 28.448,4 29,4 L31,4 C31.553,4 32,4.448 32,5 C32,5.552 31.553,6 31,6 L29,6 C28.448,6 28,5.552 28,5 L28,5 Z M38,5 C38,4.448 38.447,4 39,4 L41,4 C41.553,4 42,4.448 42,5 C42,5.552 41.553,6 41,6 L39,6 C38.447,6 38,5.552 38,5 L38,5 Z M15,8 C15.551,8 16,8.449 16,9 C16,9.551 15.551,10 15,10 C14.449,10 14,9.551 14,9 C14,8.449 14.449,8 15,8 L15,8 Z M12,9 C12,10.654 13.346,12 15,12 C16.654,12 18,10.654 18,9 C18,7.698 17.162,6.599 16,6.184 L16,1 C16,0.448 15.552,0 15,0 C14.448,0 14,0.448 14,1 L14,6.184 C12.838,6.599 12,7.698 12,9 L12,9 Z M45,8 C45.552,8 46,8.449 46,9 C46,9.551 45.552,10 45,10 C44.448,10 44,9.551 44,9 C44,8.449 44.448,8 45,8 L45,8 Z M42,9 C42,10.654 43.346,12 45,12 C46.654,12 48,10.654 48,9 C48,7.698 47.161,6.599 46,6.184 L46,1 C46,0.448 45.553,0 45,0 C44.447,0 44,0.448 44,1 L44,6.184 C42.839,6.599 42,7.698 42,9 L42,9 Z M35,8 C35.552,8 36,8.449 36,9 C36,9.551 35.552,10 35,10 C34.448,10 34,9.551 34,9 C34,8.449 34.448,8 35,8 L35,8 Z M32,9 C32,10.654 33.346,12 35,12 C36.654,12 38,10.654 38,9 C38,7.698 37.161,6.599 36,6.184 L36,1 C36,0.448 35.553,0 35,0 C34.447,0 34,0.448 34,1 L34,6.184 C32.839,6.599 32,7.698 32,9 L32,9 Z M25,8 C25.551,8 26,8.449 26,9 C26,9.551 25.551,10 25,10 C24.449,10 24,9.551 24,9 C24,8.449 24.449,8 25,8 L25,8 Z M22,9 C22,10.654 23.346,12 25,12 C26.654,12 28,10.654 28,9 C28,7.698 27.162,6.599 26,6.184 L26,1 C26,0.448 25.552,0 25,0 C24.448,0 24,0.448 24,1 L24,6.184 C22.838,6.599 22,7.698 22,9 L22,9 Z M51,58 L9,58 C7.878,58 6.714,57.085 6.233,56 L53.767,56 C53.286,57.085 52.122,58 51,58 L51,58 Z M6,54 L54,54 L54,52 L6,52 L6,54 Z M51,4 L49,4 C48.447,4 48,4.448 48,5 C48,5.552 48.447,6 49,6 L51,6 C52.458,6 54,7.542 54,9 L54,50 L6,50 L6,9 C6,7.542 7.542,6 9,6 L11,6 C11.552,6 12,5.552 12,5 C12,4.448 11.552,4 11,4 L9,4 C6.43,4 4,6.43 4,9 L4,55 C4,57.57 6.43,60 9,60 L51,60 C53.57,60 56,57.57 56,55 L56,9 C56,6.43 53.57,4 51,4 L51,4 Z","id","notes"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24",1,"material-icons"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["target","_blank","rel","noopener","href","/chess",1,"card"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 512 512",1,"material-icons"],["d","M100.807,213.441c-5.014,0-9.08,4.066-9.08,9.08c0,5.014,4.066,9.07,9.08,9.07c5.015,0,9.08-4.056,9.08-9.07\n            C109.887,217.507,105.822,213.441,100.807,213.441z",1,"st0"],["d","M449.433,436.201c1.488-3.446,2.367-7.492,2.357-11.907c0.01-4.295-0.738-8.311-2.107-11.887 c-1.188-3.127-2.817-5.914-4.685-8.331c-3.276-4.245-7.212-7.412-11.038-10.039c-2.878-1.978-5.724-3.647-8.292-5.185 c-3.866-2.277-7.122-4.325-8.84-5.973c-0.859-0.8-1.329-1.448-1.538-1.848c-0.08-0.15-0.11-0.25-0.14-0.36l-0.17-1.528v-0.02 c-0.07-0.729-1.628-15.723-1.628-37.69c0-25.023,2.038-59.126,10.349-91.332c5.963-23.145,8.621-44.632,8.621-64.411 c0.01-26.321-4.735-49.627-12.627-69.695c-11.837-30.128-30.736-52.952-51.185-68.277c-10.229-7.672-20.848-13.465-31.256-17.391 c-10.409-3.916-20.608-5.964-30.098-5.964c-0.7,0-1.389,0.031-2.078,0.06c-1.588-2.168-3.806-4.955-6.644-7.921 c-2.996-3.137-6.662-6.464-11.028-9.38c-4.375-2.918-9.47-5.424-15.273-6.723c-1.219-0.27-2.448-0.4-3.647-0.4 c-2.138-0.01-4.175,0.409-6.024,1.079c-3.486,1.278-6.303,3.346-8.781,5.704c-4.314,4.175-7.781,9.389-10.898,14.983 c-4.645,8.372-8.361,17.601-10.998,24.834c-1.319,3.636-2.358,6.752-3.077,8.97c-7.831,3.836-15.463,8.921-22.875,14.644 c-12.726,9.83-24.774,21.577-35.402,32.355c-5.295,5.384-10.239,10.539-14.664,15.074c-4.435,4.505-8.372,8.41-11.548,11.228 l-0.16,0.15l-0.16,0.159c0,0-0.958,0.95-2.656,2.637c-5.965,5.904-20.998,20.768-35.612,35.053 c-7.312,7.152-14.514,14.155-20.408,19.808c-2.937,2.817-5.554,5.304-7.682,7.292c-2.118,1.977-3.786,3.486-4.645,4.215 c-4.186,3.526-7.391,7.512-9.529,11.787c-2.138,4.286-3.167,8.851-3.157,13.276c0,5.194,1.369,10.149,3.646,14.564 c3.427,6.634,8.821,12.147,15.294,16.103c6.493,3.946,14.146,6.374,22.237,6.374c1.468,0,2.956-0.1,4.435-0.27 c0.359,1.987,0.979,3.896,1.838,5.674c2.038,4.175,5.234,7.701,9.27,10.298c4.035,2.588,8.971,4.216,14.344,4.206 c4.745,0.009,9.77-1.299,14.485-4.046c6.812-3.966,13.126-8.682,20.427-12.507c7.323-3.826,15.494-6.862,26.203-7.651 c7.212-0.52,14.324-1.459,21.146-2.758c-0.189,3.016-0.698,5.904-1.548,8.801c-1.828,6.323-5.234,12.736-9.62,19.829 c-6.542,10.648-15.214,22.706-22.395,38.359c-7.183,15.633-12.746,34.892-13.276,59.606v0.21c0,0.24-0.03,0.39-0.08,0.55 c-0.09,0.3-0.3,0.779-0.979,1.548c-0.599,0.659-1.528,1.478-2.757,2.388c-2.157,1.578-5.175,3.346-8.51,5.344 c-5.015,3.018-10.849,6.564-15.783,11.998c-2.457,2.706-4.666,5.944-6.224,9.73c-1.559,3.775-2.427,8.07-2.427,12.696 c-0.02,5.903,1.558,11.098,4.016,15.184c1.838,3.056,4.096,5.494,6.393,7.392c1.468,1.209,2.936,2.178,4.354,3.016l-11.357,19.13 V512h315.051v-42.983l-11.348-19.11c2.148-1.268,4.435-2.926,6.613-5.114C445.876,442.535,447.954,439.678,449.433,436.201z M190.39,337.467c6.294-17.681,15.504-30.907,23.715-43.873c4.096-6.473,7.951-12.906,10.868-19.878 c2.918-6.942,4.835-14.505,4.825-22.756c0-0.57-0.03-1.14-0.05-1.698c1.488-0.46,2.957-0.949,4.396-1.448 c6.133-2.148,11.696-4.676,16.502-7.672c4.805-3.008,8.91-6.454,11.887-10.868l-13.465-8.981c-1.119,1.729-3.467,3.966-6.973,6.124 c-5.224,3.276-12.866,6.373-21.697,8.72c-8.86,2.337-18.93,3.996-29.168,4.725c-13.266,0.929-23.935,4.915-32.565,9.47 c-8.64,4.555-15.394,9.609-21.007,12.826c-2.448,1.409-4.525,1.858-6.384,1.878c-1.398,0-2.707-0.289-3.916-0.769 c-1.797-0.729-3.346-1.987-4.335-3.316c-1.019-1.339-1.379-2.668-1.369-3.437c0.01-0.568,0.111-0.899,0.41-1.368l-0.62-0.41 c1.079-0.639,2.148-1.318,3.177-2.078c2.218-1.618,5.754-3.936,9.689-6.414c5.924-3.725,12.826-7.871,18.221-11.058 c2.696-1.608,5.024-2.967,6.672-3.926c0.819-0.48,1.478-0.86,1.918-1.119c0.45-0.26,0.69-0.399,0.69-0.399l-8.081-14.006 c-0.031,0.02-7.032,4.056-15.324,9.03c-4.146,2.498-8.611,5.204-12.707,7.792c-4.105,2.578-7.811,4.995-10.588,7.013 c-4.485,3.247-9.071,4.534-13.725,4.555c-3.196,0-6.424-0.66-9.45-1.848c-4.555-1.788-8.63-4.824-11.378-8.291 c-1.378-1.738-2.447-3.566-3.136-5.384c-0.69-1.818-1.039-3.606-1.048-5.354c0.019-1.998,0.439-3.956,1.478-6.054 c1.039-2.088,2.737-4.345,5.474-6.653c1.479-1.258,3.536-3.146,6.234-5.654c9.31-8.751,25.702-24.774,39.817-38.649 c13.376-13.146,24.654-24.334,25.803-25.462c4.905-4.385,10.498-10.129,16.792-16.593c9.529-9.829,20.578-21.297,32.105-31.496 c11.528-10.219,23.585-19.119,34.543-23.894l3.476-1.509l1.049-3.636l0.009-0.03c0.161-0.589,4.056-13.665,9.81-26.122 c2.847-6.213,6.214-12.277,9.43-16.272c1.578-2.018,3.127-3.477,4.255-4.246c0.58-0.38,1.019-0.589,1.318-0.699 c0.3-0.1,0.44-0.11,0.52-0.11l0.12,0.01h0.021c3.376,0.75,6.703,2.318,9.81,4.385c4.654,3.098,8.71,7.292,11.487,10.69 c1.389,1.698,2.467,3.186,3.177,4.215c0.359,0.519,0.619,0.918,0.779,1.178l0.18,0.279l0.02,0.04l2.696,4.496l5.194-0.629 c1.639-0.19,3.377-0.3,5.185-0.3c9.5-0.02,21.278,2.847,33.394,8.84c18.211,8.981,37.16,24.884,51.485,47.569 c14.305,22.696,24.105,52.164,24.124,88.745c0,18.32-2.487,38.439-8.121,60.366c-8.81,34.234-10.849,69.476-10.849,95.377 c0,12.956,0.52,23.545,0.979,30.488h-22.885c-3.476-14.954-4.884-29.658-4.884-44.173c-0.01-25.122,4.186-49.676,8.881-73.551 c4.675-23.885,9.869-47.07,11.497-69.675v-0.01c0.17-2.458,0.26-4.955,0.26-7.502c0-11.897-1.888-24.763-5.854-37.499 c-5.953-19.08-16.572-37.97-32.855-52.274c-8.141-7.142-17.71-13.106-28.679-17.251c-10.948-4.146-23.296-6.473-36.931-6.463 v16.172c15.754,0.01,28.859,3.526,39.887,9.33c8.281,4.366,15.404,10.04,21.478,16.662c9.11,9.919,15.842,21.956,20.258,34.453 c4.435,12.487,6.533,25.422,6.523,36.87c0,2.178-0.08,4.295-0.22,6.363v-0.009c-1.478,20.907-6.483,43.593-11.238,67.717 c-4.735,24.134-9.18,49.737-9.19,76.668c0,14.375,1.298,29.119,4.495,44.173H183.299 C184.297,358.535,186.894,347.288,190.39,337.467z M432.211,495.827H149.514v-22.366l11.838-19.938h259.032l11.828,19.938V495.827z M433.889,431.176c-0.748,1.259-1.717,2.318-2.817,3.237c-1.658,1.389-3.626,2.368-5.144,2.957c-0.22,0.09-0.409,0.15-0.6,0.22 v-0.239H156.667v0.34c-0.34-0.121-0.7-0.251-1.119-0.41c-1.958-0.789-4.525-2.218-6.313-4.216 c-0.899-1.008-1.639-2.128-2.197-3.506c-0.54-1.378-0.92-3.036-0.93-5.264c0.01-2.477,0.41-4.425,1.06-6.154 c0.569-1.518,1.348-2.867,2.367-4.195c1.778-2.308,4.326-4.475,7.382-6.573c2.287-1.568,4.825-3.077,7.422-4.626 c3.906-2.348,7.951-4.685,11.588-8.041c1.798-1.668,3.516-3.666,4.834-6.154c0.08-0.15,0.13-0.309,0.2-0.46h219.814 c0.909,1.838,2.048,3.456,3.286,4.846c1.628,1.808,3.406,3.296,5.234,4.635c3.196,2.327,6.554,4.245,9.77,6.173 c4.815,2.867,9.23,5.764,12.077,8.961c1.438,1.598,2.518,3.216,3.266,5.034c0.75,1.828,1.199,3.895,1.209,6.553 C435.597,427.451,434.888,429.478,433.889,431.176z",1,"st0"],["target","_blank","rel","noopener","href","/shop",1,"card"],["xmlns","http://www.w3.org/2000/svg","width","21.813","height","23.453","viewBox","0 0 48 48",2,"margin-right","8px"],["fill-rule","evenodd","clip-rule","evenodd","d","M9 18H11V28H37V18H39V28H40.5C40.7761 28 41 28.2239 41 28.5V29.5C41 29.7761 40.7761 30 40.5 30H7.5C7.22386 30 7 29.7761 7 29.5V28.5C7 28.2239 7.22386 28 7.5 28H9V18ZM10 33V40H38V33H10ZM9 31C8.44772 31 8 31.4477 8 32V41C8 41.5523 8.44772 42 9 42H39C39.5523 42 40 41.5523 40 41V32C40 31.4477 39.5523 31 39 31H9Z","fill","#333333"],["fill-rule","evenodd","clip-rule","evenodd","d","M10.1888 8L8.04354 13.9129C8.01478 13.9922 8 14.0761 8 14.1609V16.551C8 17.3592 8.64747 18 9.42857 18C10.2097 18 10.8571 17.3592 10.8571 16.551C10.8571 15.9987 11.3049 15.551 11.8571 15.551C12.4094 15.551 12.8571 15.9987 12.8571 16.551C12.8571 17.3592 13.5046 18 14.2857 18C15.0668 18 15.7143 17.3592 15.7143 16.551C15.7143 15.9987 16.162 15.551 16.7143 15.551C17.2666 15.551 17.7143 15.9987 17.7143 16.551C17.7143 17.3592 18.3618 18 19.1429 18C19.9236 18 20.5708 17.3598 20.5714 16.5522C20.5719 16.0003 21.0195 15.553 21.5714 15.553C22.1234 15.553 22.571 16.0003 22.5714 16.5522C22.5721 17.3598 23.2193 18 24 18C24.7811 18 25.4286 17.3592 25.4286 16.551C25.4286 15.9987 25.8763 15.551 26.4286 15.551C26.9809 15.551 27.4286 15.9987 27.4286 16.551C27.4286 17.3592 28.076 18 28.8571 18C29.6379 18 30.2851 17.3598 30.2857 16.5522C30.2862 16.0003 30.7337 15.553 31.2857 15.553C31.8377 15.553 32.2853 16.0003 32.2857 16.5522C32.2864 17.3598 32.9336 18 33.7143 18C34.4954 18 35.1429 17.3592 35.1429 16.551C35.1429 15.9987 35.5906 15.551 36.1429 15.551C36.6951 15.551 37.1429 15.9987 37.1429 16.551C37.1429 17.3592 37.7903 18 38.5714 18C39.3525 18 40 17.3592 40 16.551V14.1609C40 14.0761 39.9852 13.9922 39.9565 13.9129L37.8112 8H10.1888ZM37.7764 7.90395L37.7763 7.9037L37.9181 7.85225L37.7763 7.90369C37.7763 7.90378 37.7763 7.90387 37.7764 7.90395ZM36.1429 18.9856C35.5233 19.6115 34.6656 20 33.7143 20C32.7629 20 31.9053 19.6115 31.2857 18.9856C30.6662 19.6115 29.8085 20 28.8571 20C27.9058 20 27.0481 19.6115 26.4286 18.9856C25.809 19.6115 24.9514 20 24 20C23.0486 20 22.191 19.6115 21.5714 18.9856C20.9519 19.6115 20.0942 20 19.1429 20C18.1915 20 17.3338 19.6115 16.7143 18.9856C16.0947 19.6115 15.2371 20 14.2857 20C13.3344 20 12.4767 19.6115 11.8571 18.9856C11.2376 19.6115 10.3799 20 9.42857 20C7.52715 20 6 18.4479 6 16.551V14.1609C6 13.8438 6.05528 13.529 6.16345 13.2308L8.34363 7.22159C8.60829 6.4921 9.30012 6 10.0819 6H37.9181C38.6999 6 39.3917 6.4921 39.6564 7.2216L41.8366 13.2308C41.9447 13.529 42 13.8438 42 14.1609V16.551C42 18.4479 40.4728 20 38.5714 20C37.6201 20 36.7624 19.6115 36.1429 18.9856Z","fill","#333333"],["d","M12 25.5C12 25.2239 12.2239 25 12.5 25H15.5C15.7761 25 16 25.2239 16 25.5V27.5C16 27.7761 15.7761 28 15.5 28H12.5C12.2239 28 12 27.7761 12 27.5V25.5Z","fill","#333333"],["d","M14 26.5C14 26.2239 14.2239 26 14.5 26H17.5C17.7761 26 18 26.2239 18 26.5V27.5C18 27.7761 17.7761 28 17.5 28H14.5C14.2239 28 14 27.7761 14 27.5V26.5Z","fill","#333333"],["d","M22 26.5C22 27.3284 21.3284 28 20.5 28C19.6716 28 19 27.3284 19 26.5C19 25.6716 19.6716 25 20.5 25C21.3284 25 22 25.6716 22 26.5Z","fill","#333333"],["target","_blank","rel","noopener","href","/games",1,"card"],["type","text/css"],["d","M512,19.25c0-10.1-8.195-18.279-18.287-18.279H308.866v73.652c4.586-2.558,9.865-4.008,15.481-4.008 c17.623,0,31.919,14.287,31.919,31.923c0,17.619-14.288,31.914-31.919,31.914c-5.616,0-10.895-1.458-15.481-3.999v73.644h73.652 c-2.549,4.586-4.008,9.864-4.008,15.476c0,17.635,14.288,31.923,31.923,31.923c17.627,0,31.914-14.288,31.914-31.923 c0-5.612-1.458-10.89-3.999-15.476H512V19.25z",1,"st0"],["d","M429.616,275.37h-92.794c-3.25,0-6.256,1.718-7.901,4.504l0.09-0.154l-0.106,0.171 c-0.839,1.426-1.263,3.038-1.263,4.643c0,1.531,0.391,3.078,1.157,4.464l5.849,10.532c1.311,2.37,1.954,4.863,1.963,7.583 c-0.008,4.203-1.621,8.08-4.586,11.062c-2.981,2.965-6.866,4.578-11.062,4.594c-4.203-0.017-8.088-1.629-11.078-4.594l0.012,0.017 c-2.974-2.998-4.582-6.883-4.59-11.078c0.008-2.713,0.651-5.213,1.958-7.591l5.853-10.524c0.77-1.386,1.157-2.924,1.157-4.464 c0-1.605-0.424-3.217-1.276-4.66c-1.649-2.793-4.655-4.504-7.9-4.504h-69.432v-37.184c12.548-0.196,24.4-5.14,33.278-14.035 c9.09-9.066,14.125-21.227,14.116-34.072c0.008-12.862-5.03-25.023-14.116-34.081c-8.871-8.896-20.726-13.832-33.278-14.027V81.416 c-0.004-5.066-4.11-9.172-9.176-9.172H34.548c-9.204-0.007-17.94,3.601-24.432,10.109C3.669,88.805,0.008,97.659,0,106.798v369.686 c-0.008,9.196,3.608,17.928,10.116,24.428c6.452,6.443,15.293,10.108,24.432,10.117h369.726 c9.115-0.008,17.961-3.674,24.404-10.117c6.509-6.5,10.117-15.224,10.109-24.428V284.542 C438.788,279.476,434.682,275.37,429.616,275.37z M28.37,106.798c0-2.118,0.986-3.559,1.792-4.366 c0.835-0.831,2.272-1.825,4.386-1.825h172.747v73.603c0,1.776,0.941,3.413,2.468,4.317c0.782,0.456,1.657,0.685,2.537,0.685 c0.839,0,1.674-0.204,2.432-0.627l10.528-5.849c2.969-1.646,6.203-2.485,9.608-2.485c5.29,0,10.271,2.061,14.014,5.8 c3.747,3.755,5.808,8.74,5.808,14.027c0,5.286-2.061,10.264-5.8,14.01c-3.751,3.747-8.732,5.808-14.022,5.808 c-3.409,0-6.639-0.839-9.604-2.485l-10.536-5.849c-0.753-0.423-1.592-0.627-2.427-0.627c-0.88,0-1.756,0.228-2.537,0.693 c-1.527,0.896-2.468,2.533-2.468,4.309v73.603h-45.575c0.09-1.133,0.134-2.264,0.134-3.38c0-11.77-4.582-22.824-12.894-31.124 c-8.304-8.317-19.358-12.894-31.128-12.894c-11.766,0-22.819,4.578-31.12,12.886c-8.32,8.3-12.902,19.362-12.898,31.124 c0,1.124,0.044,2.249,0.134,3.389H28.37V106.798z M207.296,482.666H34.548c-2.114,0-3.551-0.994-4.366-1.8 c-0.826-0.831-1.812-2.273-1.812-4.382V303.725h73.599c1.772,0,3.413-0.937,4.313-2.46c0.9-1.532,0.925-3.422,0.062-4.969 l-5.844-10.532c-1.65-2.974-2.485-6.207-2.489-9.604c0.004-5.287,2.07-10.271,5.8-14.019c3.758-3.738,8.74-5.808,14.022-5.808 c5.282,0,10.264,2.07,14.01,5.8c3.743,3.755,5.808,8.74,5.812,14.018c-0.004,3.413-0.844,6.647-2.477,9.604l-5.857,10.532 c-0.864,1.556-0.838,3.446,0.062,4.969c0.9,1.531,2.542,2.468,4.313,2.468h73.599v45.59c-1.133-0.089-2.26-0.13-3.376-0.13 c-11.774,0-22.828,4.578-31.12,12.886c-8.324,8.308-12.902,19.362-12.894,31.124c-0.008,11.762,4.57,22.824,12.887,31.124 c8.3,8.317,19.354,12.894,31.128,12.894c1.124,0,2.252-0.041,3.376-0.13V482.666z M410.424,476.484 c0,2.109-0.993,3.543-1.808,4.366c-0.831,0.823-2.265,1.817-4.374,1.817H231.496v-73.603c0-1.776-0.936-3.413-2.468-4.309 c-0.782-0.465-1.658-0.692-2.537-0.692c-0.835,0-1.674,0.204-2.428,0.627l-10.544,5.849c-2.961,1.645-6.191,2.484-9.6,2.484 c-5.282,0-10.264-2.068-14.01-5.8c-3.743-3.747-5.808-8.732-5.812-14.019c0.004-5.294,2.07-10.271,5.808-14.018 c3.744-3.739,8.724-5.808,14.015-5.816c3.385,0,6.618,0.839,9.6,2.484l10.54,5.857c0.758,0.424,1.592,0.628,2.432,0.628 c0.879,0,1.755-0.229,2.537-0.684c1.527-0.904,2.468-2.542,2.468-4.318v-73.611h45.578c-0.089,1.132-0.134,2.265-0.134,3.388 c-0.004,11.754,4.574,22.808,12.886,31.116c8.308,8.325,19.366,12.903,31.132,12.903c11.766,0,22.82-4.578,31.129-12.894 c8.316-8.3,12.886-19.354,12.886-31.124c0-1.124-0.041-2.248-0.13-3.388h45.582V476.484z",1,"st0"],["target","_blank","rel","noopener","href","/moments",1,"card"],["xmlns","http://www.w3.org/2000/svg","enable-background","new 0 0 24 24","height","24px","viewBox","0 0 512 512","width","24px","fill","#000000",1,"material-icons"],["fill","none","height","24","width","24"],["d","M461.913,0H83.478C55.86,0,33.391,22.469,33.391,50.087v38.957H16.696C7.475,89.044,0,96.519,0,105.739 s7.475,16.696,16.696,16.696h16.696v66.783H16.696C7.475,189.217,0,196.693,0,205.913c0,9.22,7.475,16.696,16.696,16.696h16.696 v66.783H16.696C7.475,289.391,0,296.867,0,306.087s7.475,16.696,16.696,16.696h16.696v66.783H16.696 C7.475,389.565,0,397.04,0,406.261s7.475,16.696,16.696,16.696h16.696v38.956C33.391,489.531,55.86,512,83.478,512h378.435 C489.531,512,512,489.531,512,461.913V50.087C512,22.469,489.531,0,461.913,0z M133.565,478.609H83.478 c-9.206,0-16.696-7.49-16.696-16.696v-38.956h16.696c9.22,0,16.696-7.475,16.696-16.696s-7.475-16.696-16.696-16.696H66.783 v-66.783h16.696c9.22,0,16.696-7.475,16.696-16.696s-7.475-16.696-16.696-16.696H66.783v-66.783h16.696 c9.22,0,16.696-7.475,16.696-16.696c0-9.22-7.475-16.696-16.696-16.696H66.783v-66.783h16.696c9.22,0,16.696-7.475,16.696-16.696 s-7.475-16.696-16.696-16.696H66.783V50.087c0-9.206,7.49-16.696,16.696-16.696h50.087V478.609z M478.609,461.913 c0,9.206-7.49,16.696-16.696,16.696H166.957V33.391h294.956c9.206,0,16.696,7.49,16.696,16.696V461.913z"],["d","M426.519,223.678c-13.007-14.458-31.014-22.42-50.702-22.42c-20.965,0-39.234,9.257-53.034,26.82 c-13.801-17.563-32.069-26.82-53.034-26.82c-19.689,0-37.696,7.962-50.703,22.42c-12.269,13.638-19.027,31.826-19.027,51.213 c0,41.805,31.826,67.606,75.876,103.318c10.852,8.797,23.152,18.77,36.023,29.801c3.127,2.68,6.995,4.019,10.865,4.019 c3.87,0,7.739-1.34,10.866-4.019c12.87-11.03,25.17-21.003,36.023-29.801c44.05-35.711,75.876-61.513,75.876-103.318 C445.547,255.505,438.789,237.316,426.519,223.678z M348.642,352.271c-7.948,6.443-16.66,13.507-25.859,21.195 c-9.199-7.688-17.911-14.751-25.859-21.195c-42.894-34.775-63.514-52.59-63.514-77.38c0-19.508,12.735-40.241,36.339-40.241 c26.86,0,36.527,31.8,36.978,33.337c2.042,7.17,8.583,12.164,16.046,12.164c7.487,0,14.047-4.942,16.066-12.151 c0.397-1.361,10.042-33.349,36.981-33.349c23.603,0,36.339,20.733,36.339,40.241C412.156,299.68,391.536,317.496,348.642,352.271z "],["d","M428.522,89.044H217.043c-9.22,0-16.696,7.475-16.696,16.696s7.475,16.696,16.696,16.696h211.478 c9.22,0,16.696-7.475,16.696-16.696S437.742,89.044,428.522,89.044z"],["title","Find a Local Meetup","href","https://www.youtube.com/@Aibit.Moments","target","_blank","rel","noopener",1,"circle-link"],["width","800px","height","800px","viewBox","0 0 72 72","xmlns","http://www.w3.org/2000/svg"],["fill","none","fill-rule","evenodd"],["d","M36,72 L36,72 C55.882251,72 72,55.882251 72,36 L72,36 C72,16.117749 55.882251,-3.65231026e-15 36,0 L36,0 C16.117749,3.65231026e-15 -2.4348735e-15,16.117749 0,36 L0,36 C2.4348735e-15,55.882251 16.117749,72 36,72 Z","fill","#FF0002"],["d","M31.044,42.269916 L31.0425,28.6877416 L44.0115,35.5022437 L31.044,42.269916 Z M59.52,26.3341627 C59.52,26.3341627 59.0505,23.003199 57.612,21.5363665 C55.7865,19.610299 53.7405,19.6012352 52.803,19.4894477 C46.086,19 36.0105,19 36.0105,19 L35.9895,19 C35.9895,19 25.914,19 19.197,19.4894477 C18.258,19.6012352 16.2135,19.610299 14.3865,21.5363665 C12.948,23.003199 12.48,26.3341627 12.48,26.3341627 C12.48,26.3341627 12,30.2467232 12,34.1577731 L12,37.8256098 C12,41.7381703 12.48,45.6492202 12.48,45.6492202 C12.48,45.6492202 12.948,48.9801839 14.3865,50.4470165 C16.2135,52.3730839 18.612,52.3126583 19.68,52.5135736 C23.52,52.8851913 36,53 36,53 C36,53 46.086,52.9848936 52.803,52.4954459 C53.7405,52.3821478 55.7865,52.3730839 57.612,50.4470165 C59.0505,48.9801839 59.52,45.6492202 59.52,45.6492202 C59.52,45.6492202 60,41.7381703 60,37.8256098 L60,34.1577731 C60,30.2467232 59.52,26.3341627 59.52,26.3341627 L59.52,26.3341627 Z","fill","#FFF"],["title","Join the Conversation on Discord","href","https://www.facebook.com/profile.php?id=61561619573107","target","_blank","rel","noopener",1,"circle-link"],["width","800px","height","800px","viewBox","126.445 2.281 589 589","xmlns","http://www.w3.org/2000/svg"],["cx","420.945","cy","296.781","r","294.5","fill","#3c5a9a"],["d","M516.704 92.677h-65.239c-38.715 0-81.777 16.283-81.777 72.402.189 19.554 0 38.281 0 59.357H324.9v71.271h46.174v205.177h84.847V294.353h56.002l5.067-70.117h-62.531s.14-31.191 0-40.249c0-22.177 23.076-20.907 24.464-20.907 10.981 0 32.332.032 37.813 0V92.677h-.032z","fill","#ffffff"]],template:function(r,i){1&r&&(he(0,"div",0)(1,"div",1),Kr(),he(2,"svg",2)(3,"title"),Ke(4,"Network"),Ee(),he(5,"g",3),At(6,"circle",4),he(7,"g",5),At(8,"path",6),Ee()()(),zi(),he(9,"span"),Ke(10),Ee()(),he(11,"h2"),Ke(12,"Products"),Ee(),he(13,"div",7)(14,"a",8),Kr(),he(15,"svg",9)(16,"g",10)(17,"g",11),At(18,"path",12),Ee()()(),zi(),he(19,"span"),Ke(20,"Universal Notes"),Ee(),Kr(),he(21,"svg",13),At(22,"path",14),Ee()(),zi(),he(23,"a",15),Kr(),he(24,"svg",16)(25,"g"),At(26,"path",17)(27,"path",18),Ee()(),zi(),he(28,"span"),Ke(29,"Chess Club"),Ee(),Kr(),he(30,"svg",13),At(31,"path",14),Ee()(),zi(),he(32,"a",19),Kr(),he(33,"svg",20),At(34,"path",21)(35,"path",22)(36,"path",23)(37,"path",24)(38,"path",25),Ee(),zi(),he(39,"span"),Ke(40,"Internal Market"),Ee(),Kr(),he(41,"svg",13),At(42,"path",14),Ee()(),zi(),he(43,"a",26),Kr(),he(44,"svg",16)(45,"style",27),Ke(46," .st0 { fill: #000000; } "),Ee(),he(47,"g"),At(48,"path",28)(49,"path",29),Ee()(),zi(),he(50,"span"),Ke(51,"Interesting Games"),Ee(),Kr(),he(52,"svg",13),At(53,"path",14),Ee()(),zi(),he(54,"a",30),Kr(),he(55,"svg",31)(56,"g"),At(57,"rect",32),Ee(),he(58,"g")(59,"g"),At(60,"path",33),Ee()(),he(61,"g")(62,"g"),At(63,"path",34),Ee()(),he(64,"g")(65,"g"),At(66,"path",35),Ee()()(),zi(),he(67,"span"),Ke(68,"Travel Diary"),Ee(),Kr(),he(69,"svg",13),At(70,"path",14),Ee()()(),zi(),he(71,"div",7)(72,"a",36),Kr(),he(73,"svg",37)(74,"g",38),At(75,"path",39)(76,"path",40),Ee(),he(77,"title"),Ke(78,"YouTube Channel"),Ee()()(),zi(),he(79,"a",41),Kr(),he(80,"svg",42),At(81,"circle",43)(82,"path",44),he(83,"title"),Ke(84,"Facebook Fan Page"),Ee()()()()()),2&r&&(Be(10),Hl("",i.title," is serving !!!"))},styles:['[_nghost-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;font-size:14px;color:#333;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:8px 0}p[_ngcontent-%COMP%]{margin:0}.content[_ngcontent-%COMP%]{display:flex;padding:32px 16px;width:100vw;height:90vh;flex-direction:column;align-items:center;background-image:url(/assets/background.svg);background-position:center}svg.material-icons[_ngcontent-%COMP%]{height:24px;width:auto}svg.material-icons[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}.card[_ngcontent-%COMP%]   svg.material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#888}.card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:16px}.card[_ngcontent-%COMP%]{all:unset;border-radius:4px;border:1px solid #eee;background-color:#fafafa;height:40px;width:200px;margin:0 8px 16px;padding:16px;display:flex;flex-direction:row;justify-content:center;align-items:center;transition:all .2s ease-in-out;line-height:24px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child){margin-right:0}.card.card-small[_ngcontent-%COMP%]{height:16px;width:168px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card){cursor:pointer}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover{transform:translateY(-3px);box-shadow:0 4px 17px #00000059}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#696767}.card.highlight-card[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff;font-weight:600;border:none;width:auto;min-width:30%;position:relative}.card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:60px}svg#rocket[_ngcontent-%COMP%]{width:80px;position:absolute;left:-10px;top:-24px}svg#rocket-smoke[_ngcontent-%COMP%]{height:calc(100vh - 95px);position:absolute;top:10px;right:180px;z-index:-10}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover{color:#1976d2;text-decoration:none}a[_ngcontent-%COMP%]:hover{color:#125699}.terminal[_ngcontent-%COMP%]{position:relative;width:80%;max-width:600px;border-radius:6px;padding-top:45px;margin-top:8px;overflow:hidden;background-color:#0f0f10}.terminal[_ngcontent-%COMP%]:before{content:"\\2022\\2022\\2022";position:absolute;top:0;left:0;height:4px;background:rgb(58,58,58);color:#c2c3c4;width:100%;font-size:2rem;line-height:0;padding:14px 0;text-indent:4px}.terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;color:#fff;padding:0 1rem 1rem;margin:0}.circle-link[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:40px;margin:8px;background-color:#fff;border:1px solid #eeeeee;display:flex;justify-content:center;align-items:center;cursor:pointer;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d;transition:1s ease-out}.circle-link[_ngcontent-%COMP%]:hover{transform:translateY(-.25rem);box-shadow:0 3px 15px #0003}.github-star-badge[_ngcontent-%COMP%]{color:#24292e;display:flex;align-items:center;font-size:12px;padding:3px 10px;border:1px solid rgba(27,31,35,.2);border-radius:3px;background-image:linear-gradient(-180deg,#fafbfc,#eff3f6 90%);margin-left:4px;font-weight:600}.github-star-badge[_ngcontent-%COMP%]:hover{background-image:linear-gradient(-180deg,#f0f3f6,#e6ebf1 90%);border-color:#1b1f2359;background-position:-.5em}.github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{height:16px;width:16px;margin-right:4px}svg#clouds[_ngcontent-%COMP%]{position:fixed;bottom:-160px;left:-230px;z-index:-10;width:1920px}@media screen and (max-width: 767px){.card-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%]:not(.highlight-card){height:16px;margin:8px 0}.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:72px}svg#rocket-smoke[_ngcontent-%COMP%]{right:120px;transform:rotate(-5deg)}}@media screen and (max-width: 575px){svg#rocket-smoke[_ngcontent-%COMP%]{display:none;visibility:hidden}}']})}}return n})();function XX(n,e){1&n&&(he(0,"div"),At(1,"app-section"),Ee())}function eee(n,e){1&n&&At(0,"app-cards")}let wL=(()=>{class n{constructor(t){this.authService=t,this.title="Aibit",this.viewMode="cards"}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||n)($(zc))}}static{this.\u0275cmp=En({type:n,selectors:[["app-dashboard"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["cardsTemplate",""]],template:function(r,i){if(1&r&&(Qe(0,XX,2,0,"div",0),Qe(1,eee,1,0,"ng-template",null,1,Do)),2&r){const o=Vr(2);Ge("ngIf","session"===i.viewMode)("ngIfElse",o)}},dependencies:[_s,JX,ZX],styles:["footer[_ngcontent-%COMP%]{margin-top:8px;display:flex;align-items:center;line-height:20px}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}"]})}}return n})(),tee=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||n)($(zc))}}static{this.\u0275cmp=En({type:n,selectors:[["app-forgot-password"]],decls:17,vars:0,consts:[[1,"d-flex","justify-content-center","align-items-center",2,"min-height","100vh"],[1,"w-100",2,"max-width","550px"],[1,"card"],[1,"card-body"],[1,"card-title"],["type","text","required","","placeholder","Registed email",1,"form-control","mb-3"],["emailRef",""],["type","submit","value","Reset password",1,"btn","btn-primary",3,"click"],[1,"w-100","text-center","mt-4"],["routerLink","/sign-in",1,"redirect"]],template:function(r,i){if(1&r){const o=ao();he(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),Ke(5,"Reset password"),Ee(),he(6,"p"),Ke(7,"Please enter your email address to request a password reset"),Ee(),At(8,"input",5,6),he(10,"input",7),Dt("click",function(){Ar(o);const a=Vr(9);return Wr(i.authService.ForgotPassword(a.value))}),Ee()()(),he(11,"div",8)(12,"span"),Ke(13,"Go back to "),he(14,"a",9),Ke(15,"Log-In"),Ee(),Ke(16," ?"),Ee()()()()}},dependencies:[Cc]})}}return n})();function nee(n,e){if(1&n&&(he(0,"div",4)(1,"p",9),Ke(2,"We have sent a confirmation email to "),he(3,"strong"),Ke(4),Ee(),Ke(5,"."),Ee(),he(6,"p",9),Ke(7,"Please check your email and click on the link to verfiy your email address."),Ee()()),2&n){const t=e.ngIf;Be(4),ci(t.email)}}let ree=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||n)($(zc))}}static{this.\u0275cmp=En({type:n,selectors:[["app-verify-email"]],decls:15,vars:1,consts:[[1,"displayTable"],[1,"displayTableCell"],[1,"authBlock"],["class","formGroup",4,"ngIf"],[1,"formGroup"],["type","button",1,"btn","btnPrimary",3,"click"],[1,"fas","fa-redo-alt"],[1,"redirectToLogin"],["routerLink","/sign-in",1,"redirect"],[1,"text-center"]],template:function(r,i){1&r&&(he(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),Ke(4,"Thank You for Registering"),Ee(),Qe(5,nee,8,1,"div",3),he(6,"div",4)(7,"button",5),Dt("click",function(){return i.authService.SendVerificationMail()}),At(8,"i",6),Ke(9," Resend Verification Email "),Ee()()(),he(10,"div",7)(11,"span"),Ke(12,"Go back to?"),he(13,"span",8),Ke(14," Sign in"),Ee()()()()()),2&r&&(Be(5),Ge("ngIf",i.authService.userData))},dependencies:[_s,Cc]})}}return n})();const WD=(n,e)=>!0;function iee(n,e){if(1&n&&(he(0,"div",2)(1,"div",8)(2,"div",9),At(3,"img",10),he(4,"div",11)(5,"h1"),Ke(6,"Hello: "),he(7,"strong"),Ke(8),Ee()(),he(9,"p"),Ke(10,"User ID: "),he(11,"strong"),Ke(12),Ee()(),he(13,"p"),Ke(14,"Email: "),he(15,"strong"),Ke(16),Ee()(),he(17,"p"),Ke(18,"Email Verified: "),he(19,"strong"),Ke(20),Ee()()()()()()),2&n){const t=e.ngIf;Be(3),lh("src",t.photoURL?t.photoURL:"/assets/male_avatar.png",Yy),lh("alt",t.displayName),Be(5),ci(t.displayName?t.displayName:"User"),Be(4),ci(t.uid),Be(4),ci(t.email),Be(4),ci(t.emailVerified)}}const oee=[{path:"",component:wL,canActivate:[WD]},{path:"sign-up",component:IL},{path:"sign-in",component:qX},{path:"register-user",component:IL},{path:"dashboard",component:wL,canActivate:[WD]},{path:"profile",component:(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||n)($(zc))}}static{this.\u0275cmp=En({type:n,selectors:[["app-profile"]],decls:9,vars:1,consts:[[2,"height","64px"],[1,"container-fluid","justify-content-center","align-items-center"],[1,"row"],["role","main",1,"col-md-9","ml-sm-auto","col-lg-10","px-4"],[1,"inner-adjust"],[1,"pt-3","pb-2","mb-3","border-bottom"],[1,"h2"],["class","row",4,"ngIf"],[1,"col-md-12"],[1,"media"],["width","64px","height","64px",1,"align-self-start","mr-5","img-thumbnail","rounded-circle",3,"src","alt"],[1,"media-body"]],template:function(r,i){1&r&&(At(0,"div",0),he(1,"div",1)(2,"div",2)(3,"main",3)(4,"div",4)(5,"div",5)(6,"h1",6),Ke(7,"User Profile"),Ee()(),Qe(8,iee,21,6,"div",7),Ee()()()()),2&r&&(Be(8),Ge("ngIf",i.authService.userData))},dependencies:[_s]})}}return n})(),canActivate:[WD]},{path:"forgot-password",component:tee},{path:"verify-email-address",component:ree}];let see=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({imports:[ek.forRoot(oee),ek]})}}return n})();const aee=function(){return["/profile"]};function cee(n,e){if(1&n){const t=ao();he(0,"div",7)(1,"li")(2,"a",1)(3,"strong"),Ke(4),Ee()()(),he(5,"li")(6,"a",8),Dt("click",function(){return Ar(t),Wr(ht().SignOut())}),Ke(7,"Sign Out"),Ee()()()}if(2&n){const t=e.ngIf;Be(2),Ge("routerLink",zl(2,aee)),Be(2),ci(t.displayName?t.displayName:t.email)}}const lee=function(){return["/sign-in"]},uee=function(){return["/sign-up"]};function dee(n,e){1&n&&(he(0,"div",7)(1,"li")(2,"a",1)(3,"strong"),Ke(4,"Sign In"),Ee()()(),he(5,"li")(6,"a",1),Ke(7,"Sign Up"),Ee()()()),2&n&&(Be(2),Ge("routerLink",zl(2,lee)),Be(4),Ge("routerLink",zl(3,uee)))}const hee=function(){return["/"]};let fee=(()=>{class n{constructor(t){this.authService=t,this.title="Aibit"}SignOut(){console.log("Sign out is clicked!"),this.authService.SignOut()}toggleMenu(){document.getElementsByClassName("right-menu")[0].classList.toggle("active")}static{this.\u0275fac=function(r){return new(r||n)($(zc))}}static{this.\u0275cmp=En({type:n,selectors:[["app-header"]],decls:10,vars:4,consts:[[1,"toolbar","decorative"],[3,"routerLink"],["width","40","src","/assets/logo.svg","alt","logo",1,"brand-logo"],[1,"toggle-button",3,"click"],[1,"bar"],["class","right-menu",4,"ngIf","ngIfElse"],["LoginSignupTemplate",""],[1,"right-menu"],[2,"cursor","pointer",3,"click"]],template:function(r,i){if(1&r&&(he(0,"div",0)(1,"a",1),At(2,"img",2),Ee(),he(3,"div",3),Dt("click",function(){return i.toggleMenu()}),At(4,"span",4)(5,"span",4)(6,"span",4),Ee(),Qe(7,cee,8,3,"div",5),Qe(8,dee,8,4,"ng-template",null,6,Do),Ee()),2&r){const o=Vr(9);Be(1),Ge("routerLink",zl(3,hee)),Be(6),Ge("ngIf",i.authService.userData)("ngIfElse",o)}},dependencies:[_s,Cc],styles:[".decorative[_ngcontent-%COMP%]{background-image:url(/assets/decorative-waves.svg);background-position:center;background-repeat:no-repeat;background-size:auto 64px}.toolbar[_ngcontent-%COMP%]{width:100%;min-height:60px;display:flex;justify-content:space-between;align-items:center;background-color:var(--color-1);color:var(--color-inactive);font-weight:600}.toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 16px}.toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{content:url(/assets/logo_active.svg)}.right-menu[_ngcontent-%COMP%]{margin:0;padding:0;display:flex}.right-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;list-style:none;padding:.5rem}.right-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--color-inactive)}.right-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:var(--color-active)}.toggle-button[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem;width:30px;height:21px;display:flex;flex-direction:column;justify-content:space-between;display:none}.toggle-button[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{width:100%;height:3px;background-color:var(--color-inactive);border-radius:3px}.toggle-button[_ngcontent-%COMP%]:hover   .bar[_ngcontent-%COMP%]{background-color:#fff}@media (max-width: 640px){.toggle-button[_ngcontent-%COMP%]{display:flex}.right-menu[_ngcontent-%COMP%]{display:none;width:100%}.toolbar[_ngcontent-%COMP%]{padding-top:.5rem;flex-direction:column;align-items:flex-start}.right-menu.active[_ngcontent-%COMP%]{display:flex;flex-direction:column}}"]})}}return n})(),pee=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=En({type:n,selectors:[["app-footer"]],decls:6,vars:0,consts:[[1,"spacer"]],template:function(r,i){1&r&&(he(0,"footer")(1,"span"),Ke(2,"Doing tasks more easily with supporting of computer applications is an art itself !!!"),Ee(),At(3,"div",0),he(4,"span"),Ke(5,"Copyright 2018 \xa9"),Ee()())},styles:["footer[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:var(--color-2);color:var(--color-active);font-weight:600;padding:10px}.spacer[_ngcontent-%COMP%]{flex:1}"]})}}return n})(),gee=(()=>{class n{constructor(){this.title="Aibit"}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=En({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(r,i){1&r&&At(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[oT,fee,pee],styles:['[_nghost-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;font-size:14px;color:#333;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:8px 0}p[_ngcontent-%COMP%]{margin:0}.content[_ngcontent-%COMP%]{display:flex;margin:82px auto 32px;padding:0 16px;max-width:960px;flex-direction:column;align-items:center}svg.material-icons[_ngcontent-%COMP%]{height:24px;width:auto}svg.material-icons[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}.card[_ngcontent-%COMP%]   svg.material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#888}.card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:16px}.card[_ngcontent-%COMP%]{all:unset;border-radius:4px;border:1px solid #eee;background-color:#fafafa;height:40px;width:200px;margin:0 8px 16px;padding:16px;display:flex;flex-direction:row;justify-content:center;align-items:center;transition:all .2s ease-in-out;line-height:24px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child){margin-right:0}.card.card-small[_ngcontent-%COMP%]{height:16px;width:168px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card){cursor:pointer}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover{transform:translateY(-3px);box-shadow:0 4px 17px #00000059}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#696767}.card.highlight-card[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff;font-weight:600;border:none;width:auto;min-width:30%;position:relative}.card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:60px}svg#rocket[_ngcontent-%COMP%]{width:80px;position:absolute;left:-10px;top:-24px}svg#rocket-smoke[_ngcontent-%COMP%]{height:calc(100vh - 95px);position:absolute;top:10px;right:180px;z-index:-10}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover{color:#1976d2;text-decoration:none}a[_ngcontent-%COMP%]:hover{color:#125699}.terminal[_ngcontent-%COMP%]{position:relative;width:80%;max-width:600px;border-radius:6px;padding-top:45px;margin-top:8px;overflow:hidden;background-color:#0f0f10}.terminal[_ngcontent-%COMP%]:before{content:"\\2022\\2022\\2022";position:absolute;top:0;left:0;height:4px;background:rgb(58,58,58);color:#c2c3c4;width:100%;font-size:2rem;line-height:0;padding:14px 0;text-indent:4px}.terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;color:#fff;padding:0 1rem 1rem;margin:0}.circle-link[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:40px;margin:8px;background-color:#fff;border:1px solid #eeeeee;display:flex;justify-content:center;align-items:center;cursor:pointer;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d;transition:1s ease-out}.circle-link[_ngcontent-%COMP%]:hover{transform:translateY(-.25rem);box-shadow:0 3px 15px #0003}footer[_ngcontent-%COMP%]{margin-top:8px;display:flex;align-items:center;line-height:20px}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}.github-star-badge[_ngcontent-%COMP%]{color:#24292e;display:flex;align-items:center;font-size:12px;padding:3px 10px;border:1px solid rgba(27,31,35,.2);border-radius:3px;background-image:linear-gradient(-180deg,#fafbfc,#eff3f6 90%);margin-left:4px;font-weight:600}.github-star-badge[_ngcontent-%COMP%]:hover{background-image:linear-gradient(-180deg,#f0f3f6,#e6ebf1 90%);border-color:#1b1f2359;background-position:-.5em}.github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{height:16px;width:16px;margin-right:4px}svg#clouds[_ngcontent-%COMP%]{position:fixed;bottom:-160px;left:-230px;z-index:-10;width:1920px}@media screen and (max-width: 767px){.card-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%]:not(.highlight-card){height:16px;margin:8px 0}.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:72px}svg#rocket-smoke[_ngcontent-%COMP%]{right:120px;transform:rotate(-5deg)}}@media screen and (max-width: 575px){svg#rocket-smoke[_ngcontent-%COMP%]{display:none;visibility:hidden}}']})}}return n})();const mee=["addListener","removeListener"],_ee=["addEventListener","removeEventListener"],yee=["on","off"];function fi(n,e,t,r){if(C(t)&&(r=t,t=void 0),r)return fi(n,e,t).pipe(HE(r));const[i,o]=function Iee(n){return C(n.addEventListener)&&C(n.removeEventListener)}(n)?_ee.map(s=>a=>n[s](e,a,t)):function vee(n){return C(n.addListener)&&C(n.removeListener)}(n)?mee.map(EL(n,e)):function bee(n){return C(n.on)&&C(n.off)}(n)?yee.map(EL(n,e)):[];if(!i&&Ht(n))return an(s=>fi(s,e,t))(De(n));if(!i)throw new TypeError("Invalid event target");return new lt(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function EL(n,e){return t=>r=>n[t](e,r)}const{isArray:Eee}=Array;function CL(n){return 1===n.length&&Eee(n[0])?n[0]:n}function qD(...n){const e=is(n),t=CL(n);return t.length?new lt(r=>{let i=t.map(()=>[]),o=t.map(()=>!1);r.add(()=>{i=o=null});for(let s=0;!r.closed&&s<t.length;s++)De(t[s]).subscribe(te(r,a=>{if(i[s].push(a),i.every(c=>c.length)){const c=i.map(d=>d.shift());r.next(e?e(...c):c),i.some((d,f)=>!d.length&&o[f])&&r.complete()}},()=>{o[s]=!0,!i[s].length&&r.complete()}));return()=>{i=o=null}}):en}function KD(...n){const e=is(n);return z((t,r)=>{const i=n.length,o=new Array(i);let s=n.map(()=>!1),a=!1;for(let c=0;c<i;c++)De(n[c]).subscribe(te(r,d=>{o[c]=d,!a&&!s[c]&&(s[c]=!0,(a=s.every(Zt))&&(s=null))},He));t.subscribe(te(r,c=>{if(a){const d=[c,...o];r.next(e?e(...d):d)}}))})}Error,Math,Math,Math;const ere=["*"],Mre=["dialog"];function Du(n){return"string"==typeof n}function Au(n){return null!=n}function wf(n){return(n||document.body).getBoundingClientRect()}const s5={animation:!0,transitionTimerDelayMs:5},wie=()=>{},{transitionTimerDelayMs:Eie}=s5,Jm=new Map,go=(n,e,t,r)=>{let i=r.context||{};const o=Jm.get(e);if(o)switch(r.runningTransition){case"continue":return en;case"stop":n.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),Jm.delete(e)}const s=t(e,r.animation,i)||wie;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>s()),q(void 0).pipe(function bie(n){return e=>new lt(t=>e.subscribe({next:s=>n.run(()=>t.next(s)),error:s=>n.run(()=>t.error(s)),complete:()=>n.run(()=>t.complete())}))}(n));const a=new G,c=new G,d=a.pipe(function Cee(...n){return e=>Pg(e,q(...n))}(!0));Jm.set(e,{transition$:a,complete:()=>{c.next(),c.complete()},context:i});const f=function Iie(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const m=fi(e,"transitionend").pipe(hr(d),br(({target:b})=>b===e));(function DL(...n){return 1===(n=CL(n)).length?De(n[0]):new lt(function Tee(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push(De(n[r]).subscribe(te(e,i=>{if(t){for(let o=0;o<t.length;o++)o!==r&&t[o].unsubscribe();t=null}e.next(i)})))}}(n))})(function TL(n=0,e,t=YK){let r=-1;return null!=e&&(rs(e)?t=e:r=e),new lt(i=>{let o=function wee(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(f+Eie).pipe(hr(d)),m,c).pipe(hr(d)).subscribe(()=>{Jm.delete(e),n.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};let B1=(()=>{class n{constructor(){this.animation=s5.animation}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),g5=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})(),m5=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})(),v5=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})(),b5=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})();var Dn=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(Dn||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const A5=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function S5(n){const e=Array.from(n.querySelectorAll(A5)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let j5=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})(),G5=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})();class Nu{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let woe=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(li(1)).subscribe(()=>{go(this._zone,this._el.nativeElement,(t,r)=>{r&&wf(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return go(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(r){return new(r||n)($(un),$(Pt))}}static{this.\u0275cmp=En({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,i){2&r&&(jl("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),Yt("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Qo],decls:0,vars:0,template:function(r,i){},encapsulation:2})}}return n})();class z5{update(e){}close(e){}dismiss(e){}}const Eoe=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Toe=["animation","backdropClass"];class Coe{_applyWindowOptions(e,t){Eoe.forEach(r=>{Au(t[r])&&(e[r]=t[r])})}_applyBackdropOptions(e,t){Toe.forEach(r=>{Au(t[r])&&(e[r]=t[r])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(hr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(hr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new G,this._dismissed=new G,this._hidden=new G,e.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function r5(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():q(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),qD(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var GA=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(GA||{});let Doe=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new G,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Xe,this.shown=new G,this.hidden=new G}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Du(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(li(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},s=qD(go(this._zone,t,()=>t.classList.remove("show"),r),go(this._zone,this._dialogEl.nativeElement,()=>{},r));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const t={animation:this.animation,runningTransition:"continue"};qD(go(this._zone,this._elRef.nativeElement,(o,s)=>{s&&wf(o),o.classList.add("show")},t),go(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{fi(t,"keydown").pipe(hr(this._closed$),br(i=>i.which===Dn.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(GA.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;fi(this._dialogEl.nativeElement,"mousedown").pipe(hr(this._closed$),Ur(()=>r=!1),Ve(()=>fi(t,"mouseup").pipe(hr(this._closed$),li(1))),br(({target:i})=>t===i)).subscribe(()=>{r=!0}),fi(t,"click").pipe(hr(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(GA.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=S5(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&go(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(r){return new(r||n)($(Br),$(un),$(Pt))}}static{this.\u0275cmp=En({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(r,i){if(1&r&&Wl(Mre,7),2&r){let o;pn(o=function gn(){return function mH(n,e){return n[no].queries[e].queryList}(me(),fy())}())&&(i._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,i){2&r&&(hn("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),jl("modal d-block"+(i.windowClass?" "+i.windowClass:"")),Yt("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Qo],ngContentSelectors:ere,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(r,i){1&r&&(function fP(n){const e=me()[nr][Dr];if(!e.projection){const r=e.projection=ba(n?n.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=n?BU(o,n):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}(),he(0,"div",0,1)(2,"div",2),function pP(n,e=0,t){const r=me(),i=Bt(),o=Xd(i,Mt+n,16,null,t||null);null===o.projection&&(o.projection=e),mp(),(!r[Io]||ks())&&32!=(32&o.flags)&&function j8(n,e,t){mR(e[dt],0,e,t,EI(n,t,e),uR(t.parent||e[Dr],t,e))}(i,r,o)}(3),Ee()()),2&r&&jl("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}}return n})(),Aoe=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:o,paddingRight:s}=i;if(t>0){const a=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${a+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=s),i.overflow=o}}static{this.\u0275fac=function(r){return new(r||n)(ve(Br))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Soe=(()=>{class n{constructor(t,r,i,o,s,a,c){this._applicationRef=t,this._injector=r,this._environmentInjector=i,this._document=o,this._scrollBar=s,this._rendererFactory=a,this._ngZone=c,this._activeWindowCmptHasChanged=new G,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Xe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const d=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{n.runOutsideAngular(()=>{const i=fi(e,"focusin").pipe(hr(t),ye(o=>o.target));fi(e,"keydown").pipe(hr(t),br(o=>o.which===Dn.Tab),KD(i)).subscribe(([o,s])=>{const[a,c]=S5(e);(s===a||s===e)&&o.shiftKey&&(c.focus(),o.preventDefault()),s===c&&!o.shiftKey&&(a.focus(),o.preventDefault())}),r&&fi(e,"click").pipe(hr(t),KD(i),ye(o=>o[1])).subscribe(o=>o.focus())})})(this._ngZone,d.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(d.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const o=i.container instanceof HTMLElement?i.container:Au(i.container)?this._document.querySelector(i.container):this._document.body,s=this._rendererFactory.createRenderer(null,null);if(!o)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const a=new z5,c=(t=i.injector||t).get(so,null)||this._environmentInjector,d=this._getContentRef(t,c,r,a,i);let f=!1!==i.backdrop?this._attachBackdrop(o):void 0,m=this._attachWindowComponent(o,d.nodes),y=new Coe(m,d,f,i.beforeDismiss);return this._registerModalRef(y),this._registerWindowCmpt(m),y.hidden.pipe(li(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=b=>{y.close(b)},a.dismiss=b=>{y.dismiss(b)},a.update=b=>{y.update(b)},y.update(i),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),f&&f.instance&&f.changeDetectorRef.detectChanges(),m.changeDetectorRef.detectChanges(),y}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=hE(woe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=hE(Doe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_getContentRef(t,r,i,o,s){return i?i instanceof ir?this._createFromTemplateRef(i,o):Du(i)?this._createFromString(i):this._createFromComponent(t,r,i,o,s):new Nu([])}_createFromTemplateRef(t,r){const o=t.createEmbeddedView({$implicit:r,close(s){r.close(s)},dismiss(s){r.dismiss(s)}});return this._applicationRef.attachView(o),new Nu([o.rootNodes],o)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new Nu([[r]])}_createFromComponent(t,r,i,o,s){const c=hE(i,{environmentInjector:r,elementInjector:ai.create({providers:[{provide:z5,useValue:o}],parent:t})}),d=c.location.nativeElement;return s.scrollable&&d.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new Nu([[d]],c.hostView,c)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(r){return new(r||n)(ve(vc),ve(ai),ve(so),ve(Br),ve(Aoe),ve(JI),ve(Pt))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Roe=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}static{this.\u0275fac=function(r){return new(r||n)(ve(B1))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Moe=(()=>{class n{constructor(t,r,i){this._injector=t,this._modalStack=r,this._config=i}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(r){return new(r||n)(ve(ai),ve(Soe),ve(Roe))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),W5=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({providers:[Moe]})}}return n})(),Q5=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})(),r6=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})(),i6=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})(),o6=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})(),s6=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})(),a6=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})(),c6=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})(),l6=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})(),u6=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})();new xe("live announcer delay",{providedIn:"root",factory:function zoe(){return 100}});let d6=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})(),h6=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({})}}return n})();const qoe=[g5,m5,v5,b5,j5,G5,W5,Q5,h6,r6,i6,o6,s6,a6,c6,l6,u6,d6];let Koe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n})}static{this.\u0275inj=Wt({imports:[qoe,g5,m5,v5,b5,j5,G5,W5,Q5,h6,r6,i6,o6,s6,a6,c6,l6,u6,d6]})}}return n})(),Qoe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ln({type:n,bootstrap:[gee]})}static{this.\u0275inj=Wt({providers:[zc],imports:[lW,see,Koe,uQ.initializeApp(zD_firebase)]})}}return n})();aW().bootstrapModule(Qoe).catch(n=>console.error(n))},73:()=>{const Fi=":";Error;const Nt=function(B,...U){if(Nt.translate){const de=Nt.translate(B,U);B=de[0],U=de[1]}let ee=Ii(B[0],B.raw[0]);for(let de=1;de<B.length;de++)ee+=U[de-1]+Ii(B[de],B.raw[de]);return ee},Rn=":";function Ii(B,U){return U.charAt(0)===Rn?B.substring(function yo(B,U){for(let ee=1,de=1;ee<B.length;ee++,de++)if("\\"===U[de])de++;else if(B[ee]===Fi)return ee;throw new Error(`Unterminated $localize metadata block in "${U}".`)}(B,U)+1):B}globalThis.$localize=Nt},345:(Fi,gr,ct)=>{ct.d(gr,{A:()=>Bn});var C=ct(76),Je=ct(362),Ue=ct(852),se=ct(41);class St{constructor(nt,gt){this._delegate=nt,this.firebase=gt,(0,Ue._addComponent)(nt,new Je.uA("app-compat",()=>this,"PUBLIC")),this.container=nt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this._delegate.automaticDataCollectionEnabled=nt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(nt=>{this._delegate.checkDestroyed(),nt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Ue.deleteApp)(this._delegate)))}_getService(nt,gt=Ue._DEFAULT_ENTRY_NAME){var sr;this._delegate.checkDestroyed();const ar=this._delegate.container.getProvider(nt);return!ar.isInitialized()&&"EXPLICIT"===(null===(sr=ar.getComponent())||void 0===sr?void 0:sr.instantiationMode)&&ar.initialize(),ar.getImmediate({identifier:gt})}_removeServiceInstance(nt,gt=Ue._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(nt).clearInstance(gt)}_addComponent(nt){(0,Ue._addComponent)(this._delegate,nt)}_addOrOverwriteComponent(nt){(0,Ue._addOrOverwriteComponent)(this._delegate,nt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const In=new C.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),fe=function bt(){const Lt=function mr(Lt){const nt={},gt={__esModule:!0,initializeApp:function sn(Ze,Un={}){const Kt=Ue.initializeApp(Ze,Un);if((0,C.gR)(nt,Kt.name))return nt[Kt.name];const ge=new Lt(Kt,gt);return nt[Kt.name]=ge,ge},app:ar,registerVersion:Ue.registerVersion,setLogLevel:Ue.setLogLevel,onLog:Ue.onLog,apps:null,SDK_VERSION:Ue.SDK_VERSION,INTERNAL:{registerComponent:function zt(Ze){const Un=Ze.name,Kt=Un.replace("-compat","");if(Ue._registerComponent(Ze)&&"PUBLIC"===Ze.type){const ge=(yn=ar())=>{if("function"!=typeof yn[Kt])throw In.create("invalid-app-argument",{appName:Un});return yn[Kt]()};void 0!==Ze.serviceProps&&(0,C.zw)(ge,Ze.serviceProps),gt[Kt]=ge,Lt.prototype[Kt]=function(...yn){return this._getService.bind(this,Un).apply(this,Ze.multipleInstances?yn:[])}}return"PUBLIC"===Ze.type?gt[Kt]:null},removeApp:function sr(Ze){delete nt[Ze]},useAsService:function Mr(Ze,Un){return"serverAuth"===Un?null:Un},modularAPIs:Ue}};function ar(Ze){if(!(0,C.gR)(nt,Ze=Ze||Ue._DEFAULT_ENTRY_NAME))throw In.create("no-app",{appName:Ze});return nt[Ze]}return gt.default=gt,Object.defineProperty(gt,"apps",{get:function wt(){return Object.keys(nt).map(Ze=>nt[Ze])}}),ar.App=Lt,gt}(St);return Lt.INTERNAL=Object.assign(Object.assign({},Lt.INTERNAL),{createFirebaseNamespace:bt,extendNamespace:function nt(gt){(0,C.zw)(Lt,gt)},createSubscribe:C.tD,ErrorFactory:C.FA,deepExtend:C.zw}),Lt}(),Te=new se.Vy("@firebase/app-compat");try{const Lt=(0,C.mS)();if(void 0!==Lt.firebase){Te.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const nt=Lt.firebase.SDK_VERSION;nt&&nt.indexOf("LITE")>=0&&Te.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const Bn=fe;!function Ft(Lt){(0,Ue.registerVersion)("@firebase/app-compat","0.2.43",Lt)}()},852:(Fi,gr,ct)=>{ct.r(gr),ct.d(gr,{FirebaseError:()=>se.g,SDK_VERSION:()=>na,_DEFAULT_ENTRY_NAME:()=>Pr,_addComponent:()=>an,_addOrOverwriteComponent:()=>Xt,_apps:()=>Nr,_clearComponents:()=>is,_components:()=>vn,_getProvider:()=>Cs,_isFirebaseApp:()=>rs,_isFirebaseServerApp:()=>wi,_registerComponent:()=>en,_removeServiceInstance:()=>eo,_serverApps:()=>Pn,deleteApp:()=>Ya,getApp:()=>Uu,getApps:()=>Qa,initializeApp:()=>Ka,initializeServerApp:()=>ra,onLog:()=>M,registerVersion:()=>R,setLogLevel:()=>V});var C=ct(467),Je=ct(362),Ue=ct(41),se=ct(76);const St=(ne,F)=>F.some(X=>ne instanceof X);let Sn,In;const fe=new WeakMap,Te=new WeakMap,He=new WeakMap,It=new WeakMap,Ft=new WeakMap;let nt={get(ne,F,X){if(ne instanceof IDBTransaction){if("done"===F)return Te.get(ne);if("objectStoreNames"===F)return ne.objectStoreNames||He.get(ne);if("store"===F)return X.objectStoreNames[1]?void 0:X.objectStore(X.objectStoreNames[0])}return sn(ne[F])},set:(ne,F,X)=>(ne[F]=X,!0),has:(ne,F)=>ne instanceof IDBTransaction&&("done"===F||"store"===F)||F in ne};function ar(ne){return"function"==typeof ne?function sr(ne){return ne!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function bt(){return In||(In=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ne)?function(...F){return ne.apply(wt(this),F),sn(fe.get(this))}:function(...F){return sn(ne.apply(wt(this),F))}:function(F,...X){const ke=ne.call(wt(this),F,...X);return He.set(ke,F.sort?F.sort():[F]),sn(ke)}}(ne):(ne instanceof IDBTransaction&&function Lt(ne){if(Te.has(ne))return;const F=new Promise((X,ke)=>{const at=()=>{ne.removeEventListener("complete",pt),ne.removeEventListener("error",mt),ne.removeEventListener("abort",mt)},pt=()=>{X(),at()},mt=()=>{ke(ne.error||new DOMException("AbortError","AbortError")),at()};ne.addEventListener("complete",pt),ne.addEventListener("error",mt),ne.addEventListener("abort",mt)});Te.set(ne,F)}(ne),St(ne,function mr(){return Sn||(Sn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ne,nt):ne)}function sn(ne){if(ne instanceof IDBRequest)return function Bn(ne){const F=new Promise((X,ke)=>{const at=()=>{ne.removeEventListener("success",pt),ne.removeEventListener("error",mt)},pt=()=>{X(sn(ne.result)),at()},mt=()=>{ke(ne.error),at()};ne.addEventListener("success",pt),ne.addEventListener("error",mt)});return F.then(X=>{X instanceof IDBCursor&&fe.set(X,ne)}).catch(()=>{}),Ft.set(F,ne),F}(ne);if(It.has(ne))return It.get(ne);const F=ar(ne);return F!==ne&&(It.set(ne,F),Ft.set(F,ne)),F}const wt=ne=>Ft.get(ne),Ze=["get","getKey","getAll","getAllKeys","count"],Un=["put","add","delete","clear"],Kt=new Map;function ge(ne,F){if(!(ne instanceof IDBDatabase)||F in ne||"string"!=typeof F)return;if(Kt.get(F))return Kt.get(F);const X=F.replace(/FromIndex$/,""),ke=F!==X,at=Un.includes(X);if(!(X in(ke?IDBIndex:IDBObjectStore).prototype)||!at&&!Ze.includes(X))return;const pt=function(){var mt=(0,C.A)(function*(Ot,...jn){const Bi=this.transaction(Ot,at?"readwrite":"readonly");let Qt=Bi.store;return ke&&(Qt=Qt.index(jn.shift())),(yield Promise.all([Qt[X](...jn),at&&Bi.done]))[0]});return function(jn){return mt.apply(this,arguments)}}();return Kt.set(F,pt),pt}!function gt(ne){nt=ne(nt)}(ne=>({...ne,get:(F,X,ke)=>ge(F,X)||ne.get(F,X,ke),has:(F,X)=>!!ge(F,X)||ne.has(F,X)}));class yn{constructor(F){this.container=F}getPlatformInfoString(){return this.container.getProviders().map(X=>{if(function Zt(ne){const F=ne.getComponent();return"VERSION"===F?.type}(X)){const ke=X.getImmediate();return`${ke.library}/${ke.version}`}return null}).filter(X=>X).join(" ")}}const Gr="@firebase/app",bi="0.10.13",lt=new Ue.Vy("@firebase/app"),Pr="[DEFAULT]",Vi={[Gr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Nr=new Map,Pn=new Map,vn=new Map;function an(ne,F){try{ne.container.addComponent(F)}catch(X){lt.debug(`Component ${F.name} failed to register with FirebaseApp ${ne.name}`,X)}}function Xt(ne,F){ne.container.addOrOverwriteComponent(F)}function en(ne){const F=ne.name;if(vn.has(F))return lt.debug(`There were multiple attempts to register component ${F}.`),!1;vn.set(F,ne);for(const X of Nr.values())an(X,ne);for(const X of Pn.values())an(X,ne);return!0}function Cs(ne,F){const X=ne.container.getProvider("heartbeat").getImmediate({optional:!0});return X&&X.triggerHeartbeat(),ne.container.getProvider(F)}function eo(ne,F,X=Pr){Cs(ne,F).clearInstance(X)}function rs(ne){return void 0!==ne.options}function wi(ne){return void 0!==ne.settings}function is(){vn.clear()}const ti=new se.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Li{constructor(F,X,ke){this._isDeleted=!1,this._options=Object.assign({},F),this._config=Object.assign({},X),this._name=X.name,this._automaticDataCollectionEnabled=X.automaticDataCollectionEnabled,this._container=ke,this.container.addComponent(new Je.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(F){this.checkDestroyed(),this._automaticDataCollectionEnabled=F}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(F){this._isDeleted=F}checkDestroyed(){if(this.isDeleted)throw ti.create("app-deleted",{appName:this._name})}}class Ei extends Li{constructor(F,X,ke,at){const pt=void 0!==X.automaticDataCollectionEnabled&&X.automaticDataCollectionEnabled,mt={name:ke,automaticDataCollectionEnabled:pt};super(void 0!==F.apiKey?F:F.options,mt,at),this._serverConfig=Object.assign({automaticDataCollectionEnabled:pt},X),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,X.releaseOnDeref=void 0,R(Gr,bi,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(F){this.isDeleted||(this._refCount++,void 0!==F&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(F,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Ya(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ti.create("server-app-deleted")}}const na="10.14.1";function Ka(ne,F={}){let X=ne;"object"!=typeof F&&(F={name:F});const ke=Object.assign({name:Pr,automaticDataCollectionEnabled:!1},F),at=ke.name;if("string"!=typeof at||!at)throw ti.create("bad-app-name",{appName:String(at)});if(X||(X=(0,se.T9)()),!X)throw ti.create("no-options");const pt=Nr.get(at);if(pt){if((0,se.bD)(X,pt.options)&&(0,se.bD)(ke,pt.config))return pt;throw ti.create("duplicate-app",{appName:at})}const mt=new Je.h1(at);for(const jn of vn.values())mt.addComponent(jn);const Ot=new Li(X,ke,mt);return Nr.set(at,Ot),Ot}function ra(ne,F){if((0,se.Bd)()&&!(0,se.p7)())throw ti.create("invalid-server-app-environment");let X;void 0===F.automaticDataCollectionEnabled&&(F.automaticDataCollectionEnabled=!1),X=rs(ne)?ne.options:ne;const ke=Object.assign(Object.assign({},F),X);if(void 0!==ke.releaseOnDeref&&delete ke.releaseOnDeref,void 0!==F.releaseOnDeref&&typeof FinalizationRegistry>"u")throw ti.create("finalization-registry-not-supported",{});const pt=""+(Bi=JSON.stringify(ke),[...Bi].reduce((Qt,Uo)=>Math.imul(31,Qt)+Uo.charCodeAt(0)|0,0)),mt=Pn.get(pt);var Bi;if(mt)return mt.incRefCount(F.releaseOnDeref),mt;const Ot=new Je.h1(pt);for(const Bi of vn.values())Ot.addComponent(Bi);const jn=new Ei(X,F,pt,Ot);return Pn.set(pt,jn),jn}function Uu(ne=Pr){const F=Nr.get(ne);if(!F&&ne===Pr&&(0,se.T9)())return Ka();if(!F)throw ti.create("no-app",{appName:ne});return F}function Qa(){return Array.from(Nr.values())}function Ya(ne){return os.apply(this,arguments)}function os(){return(os=(0,C.A)(function*(ne){let F=!1;const X=ne.name;Nr.has(X)?(F=!0,Nr.delete(X)):Pn.has(X)&&ne.decRefCount()<=0&&(Pn.delete(X),F=!0),F&&(yield Promise.all(ne.container.getProviders().map(ke=>ke.delete())),ne.isDeleted=!0)})).apply(this,arguments)}function R(ne,F,X){var ke;let at=null!==(ke=Vi[ne])&&void 0!==ke?ke:ne;X&&(at+=`-${X}`);const pt=at.match(/\s|\//),mt=F.match(/\s|\//);if(pt||mt){const Ot=[`Unable to register library "${at}" with version "${F}":`];return pt&&Ot.push(`library name "${at}" contains illegal characters (whitespace or "/")`),pt&&mt&&Ot.push("and"),mt&&Ot.push(`version name "${F}" contains illegal characters (whitespace or "/")`),void lt.warn(Ot.join(" "))}en(new Je.uA(`${at}-version`,()=>({library:at,version:F}),"VERSION"))}function M(ne,F){if(null!==ne&&"function"!=typeof ne)throw ti.create("invalid-log-argument");(0,Ue.Ey)(ne,F)}function V(ne){(0,Ue.He)(ne)}const q="firebase-heartbeat-database",Z=1,je="firebase-heartbeat-store";let Ve=null;function fn(){return Ve||(Ve=function zt(ne,F,{blocked:X,upgrade:ke,blocking:at,terminated:pt}={}){const mt=indexedDB.open(ne,F),Ot=sn(mt);return ke&&mt.addEventListener("upgradeneeded",jn=>{ke(sn(mt.result),jn.oldVersion,jn.newVersion,sn(mt.transaction),jn)}),X&&mt.addEventListener("blocked",jn=>X(jn.oldVersion,jn.newVersion,jn)),Ot.then(jn=>{pt&&jn.addEventListener("close",()=>pt()),at&&jn.addEventListener("versionchange",Bi=>at(Bi.oldVersion,Bi.newVersion,Bi))}).catch(()=>{}),Ot}(q,Z,{upgrade:(ne,F)=>{if(0===F)try{ne.createObjectStore(je)}catch(X){console.warn(X)}}}).catch(ne=>{throw ti.create("idb-open",{originalErrorMessage:ne.message})})),Ve}function et(){return(et=(0,C.A)(function*(ne){try{const X=(yield fn()).transaction(je),ke=yield X.objectStore(je).get(Or(ne));return yield X.done,ke}catch(F){if(F instanceof se.g)lt.warn(F.message);else{const X=ti.create("idb-get",{originalErrorMessage:F?.message});lt.warn(X.message)}}})).apply(this,arguments)}function er(ne,F){return tt.apply(this,arguments)}function tt(){return(tt=(0,C.A)(function*(ne,F){try{const ke=(yield fn()).transaction(je,"readwrite");yield ke.objectStore(je).put(F,Or(ne)),yield ke.done}catch(X){if(X instanceof se.g)lt.warn(X.message);else{const ke=ti.create("idb-set",{originalErrorMessage:X?.message});lt.warn(ke.message)}}})).apply(this,arguments)}function Or(ne){return`${ne.name}!${ne.options.appId}`}class it{constructor(F){this.container=F,this._heartbeatsCache=null;const X=this.container.getProvider("app").getImmediate();this._storage=new xf(X),this._heartbeatsCachePromise=this._storage.read().then(ke=>(this._heartbeatsCache=ke,ke))}triggerHeartbeat(){var F=this;return(0,C.A)(function*(){var X,ke;try{const pt=F.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),mt=Bo();return null==(null===(X=F._heartbeatsCache)||void 0===X?void 0:X.heartbeats)&&(F._heartbeatsCache=yield F._heartbeatsCachePromise,null==(null===(ke=F._heartbeatsCache)||void 0===ke?void 0:ke.heartbeats))||F._heartbeatsCache.lastSentHeartbeatDate===mt||F._heartbeatsCache.heartbeats.some(Ot=>Ot.date===mt)?void 0:(F._heartbeatsCache.heartbeats.push({date:mt,agent:pt}),F._heartbeatsCache.heartbeats=F._heartbeatsCache.heartbeats.filter(Ot=>{const jn=new Date(Ot.date).valueOf();return Date.now()-jn<=2592e6}),F._storage.overwrite(F._heartbeatsCache))}catch(at){lt.warn(at)}})()}getHeartbeatsHeader(){var F=this;return(0,C.A)(function*(){var X;try{if(null===F._heartbeatsCache&&(yield F._heartbeatsCachePromise),null==(null===(X=F._heartbeatsCache)||void 0===X?void 0:X.heartbeats)||0===F._heartbeatsCache.heartbeats.length)return"";const ke=Bo(),{heartbeatsToSend:at,unsentEntries:pt}=function Ja(ne,F=1024){const X=[];let ke=ne.slice();for(const at of ne){const pt=X.find(mt=>mt.agent===at.agent);if(pt){if(pt.dates.push(at.date),as(X)>F){pt.dates.pop();break}}else if(X.push({agent:at.agent,dates:[at.date]}),as(X)>F){X.pop();break}ke=ke.slice(1)}return{heartbeatsToSend:X,unsentEntries:ke}}(F._heartbeatsCache.heartbeats),mt=(0,se.Uj)(JSON.stringify({version:2,heartbeats:at}));return F._heartbeatsCache.lastSentHeartbeatDate=ke,pt.length>0?(F._heartbeatsCache.heartbeats=pt,yield F._storage.overwrite(F._heartbeatsCache)):(F._heartbeatsCache.heartbeats=[],F._storage.overwrite(F._heartbeatsCache)),mt}catch(ke){return lt.warn(ke),""}})()}}function Bo(){return(new Date).toISOString().substring(0,10)}class xf{constructor(F){this.app=F,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,C.A)(function*(){return!!(0,se.zW)()&&(0,se.eX)().then(()=>!0).catch(()=>!1)})()}read(){var F=this;return(0,C.A)(function*(){if(yield F._canUseIndexedDBPromise){const ke=yield function cr(ne){return et.apply(this,arguments)}(F.app);return ke?.heartbeats?ke:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(F){var X=this;return(0,C.A)(function*(){var ke;if(yield X._canUseIndexedDBPromise){const pt=yield X.read();return er(X.app,{lastSentHeartbeatDate:null!==(ke=F.lastSentHeartbeatDate)&&void 0!==ke?ke:pt.lastSentHeartbeatDate,heartbeats:F.heartbeats})}})()}add(F){var X=this;return(0,C.A)(function*(){var ke;if(yield X._canUseIndexedDBPromise){const pt=yield X.read();return er(X.app,{lastSentHeartbeatDate:null!==(ke=F.lastSentHeartbeatDate)&&void 0!==ke?ke:pt.lastSentHeartbeatDate,heartbeats:[...pt.heartbeats,...F.heartbeats]})}})()}}function as(ne){return(0,se.Uj)(JSON.stringify({version:2,heartbeats:ne})).length}!function be(ne){en(new Je.uA("platform-logger",F=>new yn(F),"PRIVATE")),en(new Je.uA("heartbeat",F=>new it(F),"PRIVATE")),R(Gr,bi,ne),R(Gr,bi,"esm2017"),R("fire-js","")}("")},362:(Fi,gr,ct)=>{ct.d(gr,{h1:()=>mr,uA:()=>Ue});var C=ct(467),Je=ct(76);class Ue{constructor(fe,Te,He){this.name=fe,this.instanceFactory=Te,this.type=He,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(fe){return this.instantiationMode=fe,this}setMultipleInstances(fe){return this.multipleInstances=fe,this}setServiceProps(fe){return this.serviceProps=fe,this}setInstanceCreatedCallback(fe){return this.onInstanceCreated=fe,this}}const se="[DEFAULT]";class St{constructor(fe,Te){this.name=fe,this.container=Te,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(fe){const Te=this.normalizeInstanceIdentifier(fe);if(!this.instancesDeferred.has(Te)){const He=new Je.cY;if(this.instancesDeferred.set(Te,He),this.isInitialized(Te)||this.shouldAutoInitialize())try{const It=this.getOrInitializeService({instanceIdentifier:Te});It&&He.resolve(It)}catch{}}return this.instancesDeferred.get(Te).promise}getImmediate(fe){var Te;const He=this.normalizeInstanceIdentifier(fe?.identifier),It=null!==(Te=fe?.optional)&&void 0!==Te&&Te;if(!this.isInitialized(He)&&!this.shouldAutoInitialize()){if(It)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:He})}catch(Ft){if(It)return null;throw Ft}}getComponent(){return this.component}setComponent(fe){if(fe.name!==this.name)throw Error(`Mismatching Component ${fe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=fe,this.shouldAutoInitialize()){if(function In(bt){return"EAGER"===bt.instantiationMode}(fe))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[Te,He]of this.instancesDeferred.entries()){const It=this.normalizeInstanceIdentifier(Te);try{const Ft=this.getOrInitializeService({instanceIdentifier:It});He.resolve(Ft)}catch{}}}}clearInstance(fe=se){this.instancesDeferred.delete(fe),this.instancesOptions.delete(fe),this.instances.delete(fe)}delete(){var fe=this;return(0,C.A)(function*(){const Te=Array.from(fe.instances.values());yield Promise.all([...Te.filter(He=>"INTERNAL"in He).map(He=>He.INTERNAL.delete()),...Te.filter(He=>"_delete"in He).map(He=>He._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(fe=se){return this.instances.has(fe)}getOptions(fe=se){return this.instancesOptions.get(fe)||{}}initialize(fe={}){const{options:Te={}}=fe,He=this.normalizeInstanceIdentifier(fe.instanceIdentifier);if(this.isInitialized(He))throw Error(`${this.name}(${He}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const It=this.getOrInitializeService({instanceIdentifier:He,options:Te});for(const[Ft,Bn]of this.instancesDeferred.entries())He===this.normalizeInstanceIdentifier(Ft)&&Bn.resolve(It);return It}onInit(fe,Te){var He;const It=this.normalizeInstanceIdentifier(Te),Ft=null!==(He=this.onInitCallbacks.get(It))&&void 0!==He?He:new Set;Ft.add(fe),this.onInitCallbacks.set(It,Ft);const Bn=this.instances.get(It);return Bn&&fe(Bn,It),()=>{Ft.delete(fe)}}invokeOnInitCallbacks(fe,Te){const He=this.onInitCallbacks.get(Te);if(He)for(const It of He)try{It(fe,Te)}catch{}}getOrInitializeService({instanceIdentifier:fe,options:Te={}}){let He=this.instances.get(fe);if(!He&&this.component&&(He=this.component.instanceFactory(this.container,{instanceIdentifier:(bt=fe,bt===se?void 0:bt),options:Te}),this.instances.set(fe,He),this.instancesOptions.set(fe,Te),this.invokeOnInitCallbacks(He,fe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,fe,He)}catch{}var bt;return He||null}normalizeInstanceIdentifier(fe=se){return this.component?this.component.multipleInstances?fe:se:fe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class mr{constructor(fe){this.name=fe,this.providers=new Map}addComponent(fe){const Te=this.getProvider(fe.name);if(Te.isComponentSet())throw new Error(`Component ${fe.name} has already been registered with ${this.name}`);Te.setComponent(fe)}addOrOverwriteComponent(fe){this.getProvider(fe.name).isComponentSet()&&this.providers.delete(fe.name),this.addComponent(fe)}getProvider(fe){if(this.providers.has(fe))return this.providers.get(fe);const Te=new St(fe,this);return this.providers.set(fe,Te),Te}getProviders(){return Array.from(this.providers.values())}}},41:(Fi,gr,ct)=>{ct.d(gr,{$b:()=>Je,Ey:()=>bt,He:()=>mr,Vy:()=>In});const C=[];var Je=function(fe){return fe[fe.DEBUG=0]="DEBUG",fe[fe.VERBOSE=1]="VERBOSE",fe[fe.INFO=2]="INFO",fe[fe.WARN=3]="WARN",fe[fe.ERROR=4]="ERROR",fe[fe.SILENT=5]="SILENT",fe}(Je||{});const Ue={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},se=Je.INFO,St={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},Sn=(fe,Te,...He)=>{if(Te<fe.logLevel)return;const It=(new Date).toISOString(),Ft=St[Te];if(!Ft)throw new Error(`Attempted to log a message with an invalid logType (value: ${Te})`);console[Ft](`[${It}]  ${fe.name}:`,...He)};class In{constructor(Te){this.name=Te,this._logLevel=se,this._logHandler=Sn,this._userLogHandler=null,C.push(this)}get logLevel(){return this._logLevel}set logLevel(Te){if(!(Te in Je))throw new TypeError(`Invalid value "${Te}" assigned to \`logLevel\``);this._logLevel=Te}setLogLevel(Te){this._logLevel="string"==typeof Te?Ue[Te]:Te}get logHandler(){return this._logHandler}set logHandler(Te){if("function"!=typeof Te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Te}get userLogHandler(){return this._userLogHandler}set userLogHandler(Te){this._userLogHandler=Te}debug(...Te){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...Te),this._logHandler(this,Je.DEBUG,...Te)}log(...Te){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...Te),this._logHandler(this,Je.VERBOSE,...Te)}info(...Te){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...Te),this._logHandler(this,Je.INFO,...Te)}warn(...Te){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...Te),this._logHandler(this,Je.WARN,...Te)}error(...Te){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...Te),this._logHandler(this,Je.ERROR,...Te)}}function mr(fe){C.forEach(Te=>{Te.setLogLevel(fe)})}function bt(fe,Te){for(const He of C){let It=null;Te&&Te.level&&(It=Ue[Te.level]),He.userLogHandler=null===fe?null:(Ft,Bn,...Lt)=>{const nt=Lt.map(gt=>{if(null==gt)return null;if("string"==typeof gt)return gt;if("number"==typeof gt||"boolean"==typeof gt)return gt.toString();if(gt instanceof Error)return gt.message;try{return JSON.stringify(gt)}catch{return null}}).filter(gt=>gt).join(" ");Bn>=(It??Ft.logLevel)&&fe({level:Je[Bn].toLowerCase(),message:nt,args:Lt,type:Ft.name})}}}},955:(Fi,gr,ct)=>{var C=ct(467),Je=ct(345),Ue=ct(852),se=ct(76),St=ct(41),Sn=ct(635),In=ct(362);const bt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Bn=function It(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Lt=function Ft(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},nt=new se.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),sr=new St.Vy("@firebase/auth");function sn(p,...l){sr.logLevel<=St.$b.ERROR&&sr.error(`Auth (${Ue.SDK_VERSION}): ${p}`,...l)}function wt(p,...l){throw Kt(p,...l)}function zt(p,...l){return Kt(p,...l)}function Mr(p,l,u){const g=Object.assign(Object.assign({},Lt()),{[l]:u});return new se.FA("auth","Firebase",g).create(l,{appName:p.name})}function Ze(p){return Mr(p,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Un(p,l,u){if(!(l instanceof u))throw u.name!==l.constructor.name&&wt(p,"argument-error"),Mr(p,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Kt(p,...l){if("string"!=typeof p){const u=l[0],g=[...l.slice(1)];return g[0]&&(g[0].appName=p.name),p._errorFactory.create(u,...g)}return nt.create(p,...l)}function ge(p,l,...u){if(!p)throw Kt(l,...u)}function yn(p){const l="INTERNAL ASSERTION FAILED: "+p;throw sn(l),new Error(l)}function Zt(p,l){p||yn(l)}function Gr(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.href)||""}function bi(){return"http:"===lt()||"https:"===lt()}function lt(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.protocol)||null}class Xi{constructor(l,u){this.shortDelay=l,this.longDelay=u,Zt(u>l,"Short delay should be less than long delay!"),this.isMobile=(0,se.jZ)()||(0,se.lV)()}get(){return function Lo(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(bi()||(0,se.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function yo(p,l){Zt(p.emulator,"Emulator should always be set here");const{url:u}=p.emulator;return l?`${u}${l.startsWith("/")?l.slice(1):l}`:u}class G{static initialize(l,u,g){this.fetchImpl=l,u&&(this.headersImpl=u),g&&(this.responseImpl=g)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void yn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void yn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void yn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const oe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ce=new Xi(3e4,6e4);function z(p,l){return p.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:p.tenantId}):l}function te(p,l,u,g){return we.apply(this,arguments)}function we(){return(we=(0,C.A)(function*(p,l,u,g,v={}){return ye(p,v,(0,C.A)(function*(){let w={},P={};g&&("GET"===l?P=g:w={body:JSON.stringify(g)});const W=(0,se.Am)(Object.assign({key:p.config.apiKey},P)).slice(1),le=yield p._getAdditionalHeaders();le["Content-Type"]="application/json",p.languageCode&&(le["X-Firebase-Locale"]=p.languageCode);const Re=Object.assign({method:l,headers:le},w);return(0,se.c1)()||(Re.referrerPolicy="no-referrer"),G.fetch()(Nt(p,p.config.apiHost,u,W),Re)}))})).apply(this,arguments)}function ye(p,l,u){return vt.apply(this,arguments)}function vt(){return(vt=(0,C.A)(function*(p,l,u){p._canInitEmulator=!1;const g=Object.assign(Object.assign({},oe),l);try{const v=new Ii(p),w=yield Promise.race([u(),v.promise]);v.clearNetworkTimeout();const P=yield w.json();if("needConfirmation"in P)throw B(p,"account-exists-with-different-credential",P);if(w.ok&&!("errorMessage"in P))return P;{const W=w.ok?P.errorMessage:P.error.message,[le,Re]=W.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===le)throw B(p,"credential-already-in-use",P);if("EMAIL_EXISTS"===le)throw B(p,"email-already-in-use",P);if("USER_DISABLED"===le)throw B(p,"user-disabled",P);const ze=g[le]||le.toLowerCase().replace(/[_\s]+/g,"-");if(Re)throw Mr(p,ze,Re);wt(p,ze)}}catch(v){if(v instanceof se.g)throw v;wt(p,"network-request-failed",{message:String(v)})}})).apply(this,arguments)}function Ht(p,l,u,g){return rt.apply(this,arguments)}function rt(){return(rt=(0,C.A)(function*(p,l,u,g,v={}){const w=yield te(p,l,u,g,v);return"mfaPendingCredential"in w&&wt(p,"multi-factor-auth-required",{_serverResponse:w}),w})).apply(this,arguments)}function Nt(p,l,u,g){const v=`${l}${u}?${g}`;return p.config.emulator?yo(p.config,v):`${p.config.apiScheme}://${v}`}function Rn(p){switch(p){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ii{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((u,g)=>{this.timer=setTimeout(()=>g(zt(this.auth,"network-request-failed")),ce.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function B(p,l,u){const g={appName:p.name};u.email&&(g.email=u.email),u.phoneNumber&&(g.phoneNumber=u.phoneNumber);const v=zt(p,l,g);return v.customData._tokenResponse=u,v}function U(p){return void 0!==p&&void 0!==p.getResponse}function ee(p){return void 0!==p&&void 0!==p.enterprise}class de{constructor(l){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===l.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=l.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=l.recaptchaEnforcementState}getProviderEnforcementState(l){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const u of this.recaptchaEnforcementState)if(u.provider&&u.provider===l)return Rn(u.enforcementState);return null}isProviderEnabled(l){return"ENFORCE"===this.getProviderEnforcementState(l)||"AUDIT"===this.getProviderEnforcementState(l)}}function De(){return(De=(0,C.A)(function*(p){return(yield te(p,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function wn(p,l){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,C.A)(function*(p,l){return te(p,"GET","/v2/recaptchaConfig",z(p,l))})).apply(this,arguments)}function Mn(){return(Mn=(0,C.A)(function*(p,l){return te(p,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function Vi(){return(Vi=(0,C.A)(function*(p,l){return te(p,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Nr(p,l){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,C.A)(function*(p,l){return te(p,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function vn(p){if(p)try{const l=new Date(Number(p));if(!isNaN(l.getTime()))return l.toUTCString()}catch{}}function en(){return(en=(0,C.A)(function*(p,l=!1){const u=(0,se.Ku)(p),g=yield u.getIdToken(l),v=eo(g);ge(v&&v.exp&&v.auth_time&&v.iat,u.auth,"internal-error");const w="object"==typeof v.firebase?v.firebase:void 0,P=w?.sign_in_provider;return{claims:v,token:g,authTime:vn(Cs(v.auth_time)),issuedAtTime:vn(Cs(v.iat)),expirationTime:vn(Cs(v.exp)),signInProvider:P||null,signInSecondFactor:w?.sign_in_second_factor||null}})).apply(this,arguments)}function Cs(p){return 1e3*Number(p)}function eo(p){const[l,u,g]=p.split(".");if(void 0===l||void 0===u||void 0===g)return sn("JWT malformed, contained fewer than 3 sections"),null;try{const v=(0,se.u)(u);return v?JSON.parse(v):(sn("Failed to decode base64 JWT payload"),null)}catch(v){return sn("Caught error parsing JWT payload as JSON",v?.toString()),null}}function rs(p){const l=eo(p);return ge(l,"internal-error"),ge(typeof l.exp<"u","internal-error"),ge(typeof l.iat<"u","internal-error"),Number(l.exp)-Number(l.iat)}function wi(p,l){return is.apply(this,arguments)}function is(){return(is=(0,C.A)(function*(p,l,u=!1){if(u)return l;try{return yield l}catch(g){throw g instanceof se.g&&function Ds({code:p}){return"auth/user-disabled"===p||"auth/user-token-expired"===p}(g)&&p.auth.currentUser===p&&(yield p.auth.signOut()),g}})).apply(this,arguments)}class ti{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var u;if(l){const g=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),g}{this.errorBackoff=3e4;const v=(null!==(u=this.user.stsTokenManager.expirationTime)&&void 0!==u?u:0)-Date.now()-3e5;return Math.max(0,v)}}schedule(l=!1){var u=this;if(!this.isRunning)return;const g=this.getInterval(l);this.timerId=setTimeout((0,C.A)(function*(){yield u.iteration()}),g)}iteration(){var l=this;return(0,C.A)(function*(){try{yield l.user.getIdToken(!0)}catch(u){return void("auth/network-request-failed"===u?.code&&l.schedule(!0))}l.schedule()})()}}class Li{constructor(l,u){this.createdAt=l,this.lastLoginAt=u,this._initializeTime()}_initializeTime(){this.lastSignInTime=vn(this.lastLoginAt),this.creationTime=vn(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ei(p){return na.apply(this,arguments)}function na(){return(na=(0,C.A)(function*(p){var l;const u=p.auth,g=yield p.getIdToken(),v=yield wi(p,Nr(u,{idToken:g}));ge(v?.users.length,u,"internal-error");const w=v.users[0];p._notifyReloadListener(w);const P=null!==(l=w.providerUserInfo)&&void 0!==l&&l.length?Qa(w.providerUserInfo):[],W=function Uu(p,l){return[...p.filter(g=>!l.some(v=>v.providerId===g.providerId)),...l]}(p.providerData,P),ze=!!p.isAnonymous&&!(p.email&&w.passwordHash||W?.length),$e={uid:w.localId,displayName:w.displayName||null,photoURL:w.photoUrl||null,email:w.email||null,emailVerified:w.emailVerified||!1,phoneNumber:w.phoneNumber||null,tenantId:w.tenantId||null,providerData:W,metadata:new Li(w.createdAt,w.lastLoginAt),isAnonymous:ze};Object.assign(p,$e)})).apply(this,arguments)}function ra(){return(ra=(0,C.A)(function*(p){const l=(0,se.Ku)(p);yield Ei(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function Qa(p){return p.map(l=>{var{providerId:u}=l,g=(0,Sn.Tt)(l,["providerId"]);return{providerId:u,uid:g.rawId||"",displayName:g.displayName||null,email:g.email||null,phoneNumber:g.phoneNumber||null,photoURL:g.photoUrl||null}})}function os(){return(os=(0,C.A)(function*(p,l){const u=yield ye(p,{},(0,C.A)(function*(){const g=(0,se.Am)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:v,apiKey:w}=p.config,P=Nt(p,v,"/v1/token",`key=${w}`),W=yield p._getAdditionalHeaders();return W["Content-Type"]="application/x-www-form-urlencoded",G.fetch()(P,{method:"POST",headers:W,body:g})}));return{accessToken:u.access_token,expiresIn:u.expires_in,refreshToken:u.refresh_token}})).apply(this,arguments)}function M(){return(M=(0,C.A)(function*(p,l){return te(p,"POST","/v2/accounts:revokeToken",z(p,l))})).apply(this,arguments)}class V{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){ge(l.idToken,"internal-error"),ge(typeof l.idToken<"u","internal-error"),ge(typeof l.refreshToken<"u","internal-error");const u="expiresIn"in l&&typeof l.expiresIn<"u"?Number(l.expiresIn):rs(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,u)}updateFromIdToken(l){ge(0!==l.length,"internal-error");const u=rs(l);this.updateTokensAndExpiration(l,null,u)}getToken(l,u=!1){var g=this;return(0,C.A)(function*(){return u||!g.accessToken||g.isExpired?(ge(g.refreshToken,l,"user-token-expired"),g.refreshToken?(yield g.refresh(l,g.refreshToken),g.accessToken):null):g.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,u){var g=this;return(0,C.A)(function*(){const{accessToken:v,refreshToken:w,expiresIn:P}=yield function Ya(p,l){return os.apply(this,arguments)}(l,u);g.updateTokensAndExpiration(v,w,Number(P))})()}updateTokensAndExpiration(l,u,g){this.refreshToken=u||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*g}static fromJSON(l,u){const{refreshToken:g,accessToken:v,expirationTime:w}=u,P=new V;return g&&(ge("string"==typeof g,"internal-error",{appName:l}),P.refreshToken=g),v&&(ge("string"==typeof v,"internal-error",{appName:l}),P.accessToken=v),w&&(ge("number"==typeof w,"internal-error",{appName:l}),P.expirationTime=w),P}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new V,this.toJSON())}_performRefresh(){return yn("not implemented")}}function q(p,l){ge("string"==typeof p||typeof p>"u","internal-error",{appName:l})}class Z{constructor(l){var{uid:u,auth:g,stsTokenManager:v}=l,w=(0,Sn.Tt)(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ti(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=u,this.auth=g,this.stsTokenManager=v,this.accessToken=v.accessToken,this.displayName=w.displayName||null,this.email=w.email||null,this.emailVerified=w.emailVerified||!1,this.phoneNumber=w.phoneNumber||null,this.photoURL=w.photoURL||null,this.isAnonymous=w.isAnonymous||!1,this.tenantId=w.tenantId||null,this.providerData=w.providerData?[...w.providerData]:[],this.metadata=new Li(w.createdAt||void 0,w.lastLoginAt||void 0)}getIdToken(l){var u=this;return(0,C.A)(function*(){const g=yield wi(u,u.stsTokenManager.getToken(u.auth,l));return ge(g,u.auth,"internal-error"),u.accessToken!==g&&(u.accessToken=g,yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)),g})()}getIdTokenResult(l){return function Xt(p){return en.apply(this,arguments)}(this,l)}reload(){return function Ka(p){return ra.apply(this,arguments)}(this)}_assign(l){this!==l&&(ge(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(u=>Object.assign({},u)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){const u=new Z(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}));return u.metadata._copy(this.metadata),u}_onReload(l){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,u=!1){var g=this;return(0,C.A)(function*(){let v=!1;l.idToken&&l.idToken!==g.stsTokenManager.accessToken&&(g.stsTokenManager.updateFromServerResponse(l),v=!0),u&&(yield Ei(g)),yield g.auth._persistUserIfCurrent(g),v&&g.auth._notifyListenersIfCurrent(g)})()}delete(){var l=this;return(0,C.A)(function*(){if((0,Ue._isFirebaseServerApp)(l.auth.app))return Promise.reject(Ze(l.auth));const u=yield l.getIdToken();return yield wi(l,function $t(p,l){return Mn.apply(this,arguments)}(l.auth,{idToken:u})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,u){var g,v,w,P,W,le,Re,ze;const $e=null!==(g=u.displayName)&&void 0!==g?g:void 0,Gn=null!==(v=u.email)&&void 0!==v?v:void 0,Eo=null!==(w=u.phoneNumber)&&void 0!==w?w:void 0,wa=null!==(P=u.photoURL)&&void 0!==P?P:void 0,jp=null!==(W=u.tenantId)&&void 0!==W?W:void 0,Hp=null!==(le=u._redirectEventId)&&void 0!==le?le:void 0,$p=null!==(Re=u.createdAt)&&void 0!==Re?Re:void 0,fI=null!==(ze=u.lastLoginAt)&&void 0!==ze?ze:void 0,{uid:Vd,emailVerified:pI,isAnonymous:ky,providerData:Gp,stsTokenManager:Ld}=u;ge(Vd&&Ld,l,"internal-error");const HS=V.fromJSON(this.name,Ld);ge("string"==typeof Vd,l,"internal-error"),q($e,l.name),q(Gn,l.name),ge("boolean"==typeof pI,l,"internal-error"),ge("boolean"==typeof ky,l,"internal-error"),q(Eo,l.name),q(wa,l.name),q(jp,l.name),q(Hp,l.name),q($p,l.name),q(fI,l.name);const Fy=new Z({uid:Vd,auth:l,email:Gn,emailVerified:pI,displayName:$e,isAnonymous:ky,photoURL:wa,phoneNumber:Eo,tenantId:jp,stsTokenManager:HS,createdAt:$p,lastLoginAt:fI});return Gp&&Array.isArray(Gp)&&(Fy.providerData=Gp.map(zp=>Object.assign({},zp))),Hp&&(Fy._redirectEventId=Hp),Fy}static _fromIdTokenResponse(l,u,g=!1){return(0,C.A)(function*(){const v=new V;v.updateFromServerResponse(u);const w=new Z({uid:u.localId,auth:l,stsTokenManager:v,isAnonymous:g});return yield Ei(w),w})()}static _fromGetAccountInfoResponse(l,u,g){return(0,C.A)(function*(){const v=u.users[0];ge(void 0!==v.localId,"internal-error");const w=void 0!==v.providerUserInfo?Qa(v.providerUserInfo):[],P=!(v.email&&v.passwordHash||w?.length),W=new V;W.updateFromIdToken(g);const le=new Z({uid:v.localId,auth:l,stsTokenManager:W,isAnonymous:P}),Re={uid:v.localId,displayName:v.displayName||null,photoURL:v.photoUrl||null,email:v.email||null,emailVerified:v.emailVerified||!1,phoneNumber:v.phoneNumber||null,tenantId:v.tenantId||null,providerData:w,metadata:new Li(v.createdAt,v.lastLoginAt),isAnonymous:!(v.email&&v.passwordHash||w?.length)};return Object.assign(le,Re),le})()}}const je=new Map;function Ve(p){Zt(p instanceof Function,"Expected a class definition");let l=je.get(p);return l?(Zt(l instanceof p,"Instance stored in cache mismatched with class"),l):(l=new p,je.set(p,l),l)}const cr=(()=>{class p{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,C.A)(function*(){return!0})()}_set(u,g){var v=this;return(0,C.A)(function*(){v.storage[u]=g})()}_get(u){var g=this;return(0,C.A)(function*(){const v=g.storage[u];return void 0===v?null:v})()}_remove(u){var g=this;return(0,C.A)(function*(){delete g.storage[u]})()}_addListener(u,g){}_removeListener(u,g){}}return p.type="NONE",p})();function et(p,l,u){return`firebase:${p}:${l}:${u}`}class er{constructor(l,u,g){this.persistence=l,this.auth=u,this.userKey=g;const{config:v,name:w}=this.auth;this.fullUserKey=et(this.userKey,v.apiKey,w),this.fullPersistenceKey=et("persistence",v.apiKey,w),this.boundEventHandler=u._onStorageEvent.bind(u),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,C.A)(function*(){const u=yield l.persistence._get(l.fullUserKey);return u?Z._fromJSON(l.auth,u):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var u=this;return(0,C.A)(function*(){if(u.persistence===l)return;const g=yield u.getCurrentUser();return yield u.removeCurrentUser(),u.persistence=l,g?u.setCurrentUser(g):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,u,g="authUser"){return(0,C.A)(function*(){if(!u.length)return new er(Ve(cr),l,g);const v=(yield Promise.all(u.map(function(){var Re=(0,C.A)(function*(ze){if(yield ze._isAvailable())return ze});return function(ze){return Re.apply(this,arguments)}}()))).filter(Re=>Re);let w=v[0]||Ve(cr);const P=et(g,l.config.apiKey,l.name);let W=null;for(const Re of u)try{const ze=yield Re._get(P);if(ze){const $e=Z._fromJSON(l,ze);Re!==w&&(W=$e),w=Re;break}}catch{}const le=v.filter(Re=>Re._shouldAllowMigration);return w._shouldAllowMigration&&le.length?(w=le[0],W&&(yield w._set(P,W.toJSON())),yield Promise.all(u.map(function(){var Re=(0,C.A)(function*(ze){if(ze!==w)try{yield ze._remove(P)}catch{}});return function(ze){return Re.apply(this,arguments)}}())),new er(w,l,g)):new er(w,l,g)})()}}function tt(p){const l=p.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(it(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(Or(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(Ja(l))return"Blackberry";if(xf(l))return"Webos";if(ss(l))return"Safari";if((l.includes("chrome/")||_t(l))&&!l.includes("edge/"))return"Chrome";if(Bo(l))return"Android";{const g=p.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===g?.length)return g[1]}return"Other"}function Or(p=(0,se.ZQ)()){return/firefox\//i.test(p)}function ss(p=(0,se.ZQ)()){const l=p.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function _t(p=(0,se.ZQ)()){return/crios\//i.test(p)}function it(p=(0,se.ZQ)()){return/iemobile/i.test(p)}function Bo(p=(0,se.ZQ)()){return/android/i.test(p)}function Ja(p=(0,se.ZQ)()){return/blackberry/i.test(p)}function xf(p=(0,se.ZQ)()){return/webos/i.test(p)}function as(p=(0,se.ZQ)()){return/iphone|ipad|ipod/i.test(p)||/macintosh/i.test(p)&&/mobile/i.test(p)}function X(p=(0,se.ZQ)()){return as(p)||Bo(p)||xf(p)||Ja(p)||/windows phone/i.test(p)||it(p)}function ke(p,l=[]){let u;switch(p){case"Browser":u=tt((0,se.ZQ)());break;case"Worker":u=`${tt((0,se.ZQ)())}-${p}`;break;default:u=p}const g=l.length?l.join(","):"FirebaseCore-web";return`${u}/JsCore/${Ue.SDK_VERSION}/${g}`}class at{constructor(l){this.auth=l,this.queue=[]}pushCallback(l,u){const g=w=>new Promise((P,W)=>{try{P(l(w))}catch(le){W(le)}});g.onAbort=u,this.queue.push(g);const v=this.queue.length-1;return()=>{this.queue[v]=()=>Promise.resolve()}}runMiddleware(l){var u=this;return(0,C.A)(function*(){if(u.auth.currentUser===l)return;const g=[];try{for(const v of u.queue)yield v(l),v.onAbort&&g.push(v.onAbort)}catch(v){g.reverse();for(const w of g)try{w()}catch{}throw u.auth._errorFactory.create("login-blocked",{originalMessage:v?.message})}})()}}function mt(){return(mt=(0,C.A)(function*(p,l={}){return te(p,"GET","/v2/passwordPolicy",z(p,l))})).apply(this,arguments)}class jn{constructor(l){var u,g,v,w;const P=l.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(u=P.minPasswordLength)&&void 0!==u?u:6,P.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=P.maxPasswordLength),void 0!==P.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=P.containsLowercaseCharacter),void 0!==P.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=P.containsUppercaseCharacter),void 0!==P.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=P.containsNumericCharacter),void 0!==P.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=P.containsNonAlphanumericCharacter),this.enforcementState=l.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(v=null===(g=l.allowedNonAlphanumericCharacters)||void 0===g?void 0:g.join(""))&&void 0!==v?v:"",this.forceUpgradeOnSignin=null!==(w=l.forceUpgradeOnSignin)&&void 0!==w&&w,this.schemaVersion=l.schemaVersion}validatePassword(l){var u,g,v,w,P,W;const le={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(l,le),this.validatePasswordCharacterOptions(l,le),le.isValid&&(le.isValid=null===(u=le.meetsMinPasswordLength)||void 0===u||u),le.isValid&&(le.isValid=null===(g=le.meetsMaxPasswordLength)||void 0===g||g),le.isValid&&(le.isValid=null===(v=le.containsLowercaseLetter)||void 0===v||v),le.isValid&&(le.isValid=null===(w=le.containsUppercaseLetter)||void 0===w||w),le.isValid&&(le.isValid=null===(P=le.containsNumericCharacter)||void 0===P||P),le.isValid&&(le.isValid=null===(W=le.containsNonAlphanumericCharacter)||void 0===W||W),le}validatePasswordLengthOptions(l,u){const g=this.customStrengthOptions.minPasswordLength,v=this.customStrengthOptions.maxPasswordLength;g&&(u.meetsMinPasswordLength=l.length>=g),v&&(u.meetsMaxPasswordLength=l.length<=v)}validatePasswordCharacterOptions(l,u){let g;this.updatePasswordCharacterOptionsStatuses(u,!1,!1,!1,!1);for(let v=0;v<l.length;v++)g=l.charAt(v),this.updatePasswordCharacterOptionsStatuses(u,g>="a"&&g<="z",g>="A"&&g<="Z",g>="0"&&g<="9",this.allowedNonAlphanumericCharacters.includes(g))}updatePasswordCharacterOptionsStatuses(l,u,g,v,w){this.customStrengthOptions.containsLowercaseLetter&&(l.containsLowercaseLetter||(l.containsLowercaseLetter=u)),this.customStrengthOptions.containsUppercaseLetter&&(l.containsUppercaseLetter||(l.containsUppercaseLetter=g)),this.customStrengthOptions.containsNumericCharacter&&(l.containsNumericCharacter||(l.containsNumericCharacter=v)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(l.containsNonAlphanumericCharacter||(l.containsNonAlphanumericCharacter=w))}}class Bi{constructor(l,u,g,v){this.app=l,this.heartbeatServiceProvider=u,this.appCheckServiceProvider=g,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uo(this),this.idTokenSubscription=new Uo(this),this.beforeStateQueue=new at(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(l,u){var g=this;return u&&(this._popupRedirectResolver=Ve(u)),this._initializationPromise=this.queue((0,C.A)(function*(){var v,w;if(!g._deleted&&(g.persistenceManager=yield er.create(g,l),!g._deleted)){if(null!==(v=g._popupRedirectResolver)&&void 0!==v&&v._shouldInitProactively)try{yield g._popupRedirectResolver._initialize(g)}catch{}yield g.initializeCurrentUser(u),g.lastNotifiedUid=(null===(w=g.currentUser)||void 0===w?void 0:w.uid)||null,!g._deleted&&(g._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,C.A)(function*(){if(l._deleted)return;const u=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||u){if(l.currentUser&&u&&l.currentUser.uid===u.uid)return l._currentUser._assign(u),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(u,!0)}})()}initializeCurrentUserFromIdToken(l){var u=this;return(0,C.A)(function*(){try{const g=yield Nr(u,{idToken:l}),v=yield Z._fromGetAccountInfoResponse(u,g,l);yield u.directlySetCurrentUser(v)}catch(g){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",g),yield u.directlySetCurrentUser(null)}})()}initializeCurrentUser(l){var u=this;return(0,C.A)(function*(){var g;if((0,Ue._isFirebaseServerApp)(u.app)){const W=u.app.settings.authIdToken;return W?new Promise(le=>{setTimeout(()=>u.initializeCurrentUserFromIdToken(W).then(le,le))}):u.directlySetCurrentUser(null)}const v=yield u.assertedPersistence.getCurrentUser();let w=v,P=!1;if(l&&u.config.authDomain){yield u.getOrInitRedirectPersistenceManager();const W=null===(g=u.redirectUser)||void 0===g?void 0:g._redirectEventId,le=w?._redirectEventId,Re=yield u.tryRedirectSignIn(l);(!W||W===le)&&Re?.user&&(w=Re.user,P=!0)}if(!w)return u.directlySetCurrentUser(null);if(!w._redirectEventId){if(P)try{yield u.beforeStateQueue.runMiddleware(w)}catch(W){w=v,u._popupRedirectResolver._overrideRedirectResult(u,()=>Promise.reject(W))}return w?u.reloadAndSetCurrentUserOrClear(w):u.directlySetCurrentUser(null)}return ge(u._popupRedirectResolver,u,"argument-error"),yield u.getOrInitRedirectPersistenceManager(),u.redirectUser&&u.redirectUser._redirectEventId===w._redirectEventId?u.directlySetCurrentUser(w):u.reloadAndSetCurrentUserOrClear(w)})()}tryRedirectSignIn(l){var u=this;return(0,C.A)(function*(){let g=null;try{g=yield u._popupRedirectResolver._completeRedirectFn(u,l,!0)}catch{yield u._setRedirectUser(null)}return g})()}reloadAndSetCurrentUserOrClear(l){var u=this;return(0,C.A)(function*(){try{yield Ei(l)}catch(g){if("auth/network-request-failed"!==g?.code)return u.directlySetCurrentUser(null)}return u.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function ns(){if(typeof navigator>"u")return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}()}_delete(){var l=this;return(0,C.A)(function*(){l._deleted=!0})()}updateCurrentUser(l){var u=this;return(0,C.A)(function*(){if((0,Ue._isFirebaseServerApp)(u.app))return Promise.reject(Ze(u));const g=l?(0,se.Ku)(l):null;return g&&ge(g.auth.config.apiKey===u.config.apiKey,u,"invalid-user-token"),u._updateCurrentUser(g&&g._clone(u))})()}_updateCurrentUser(l,u=!1){var g=this;return(0,C.A)(function*(){if(!g._deleted)return l&&ge(g.tenantId===l.tenantId,g,"tenant-id-mismatch"),u||(yield g.beforeStateQueue.runMiddleware(l)),g.queue((0,C.A)(function*(){yield g.directlySetCurrentUser(l),g.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,C.A)(function*(){return(0,Ue._isFirebaseServerApp)(l.app)?Promise.reject(Ze(l)):(yield l.beforeStateQueue.runMiddleware(null),(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null,!0))})()}setPersistence(l){var u=this;return(0,Ue._isFirebaseServerApp)(this.app)?Promise.reject(Ze(this)):this.queue((0,C.A)(function*(){yield u.assertedPersistence.setPersistence(Ve(l))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(l){var u=this;return(0,C.A)(function*(){u._getPasswordPolicyInternal()||(yield u._updatePasswordPolicy());const g=u._getPasswordPolicyInternal();return g.schemaVersion!==u.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(u._errorFactory.create("unsupported-password-policy-schema-version",{})):g.validatePassword(l)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var l=this;return(0,C.A)(function*(){const u=yield function pt(p){return mt.apply(this,arguments)}(l),g=new jn(u);null===l.tenantId?l._projectPasswordPolicy=g:l._tenantPasswordPolicies[l.tenantId]=g})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new se.FA("auth","Firebase",l())}onAuthStateChanged(l,u,g){return this.registerStateListener(this.authStateSubscription,l,u,g)}beforeAuthStateChanged(l,u){return this.beforeStateQueue.pushCallback(l,u)}onIdTokenChanged(l,u,g){return this.registerStateListener(this.idTokenSubscription,l,u,g)}authStateReady(){return new Promise((l,u)=>{if(this.currentUser)l();else{const g=this.onAuthStateChanged(()=>{g(),l()},u)}})}revokeAccessToken(l){var u=this;return(0,C.A)(function*(){if(u.currentUser){const g=yield u.currentUser.getIdToken(),v={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:l,idToken:g};null!=u.tenantId&&(v.tenantId=u.tenantId),yield function R(p,l){return M.apply(this,arguments)}(u,v)}})()}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,u){var g=this;return(0,C.A)(function*(){const v=yield g.getOrInitRedirectPersistenceManager(u);return null===l?v.removeCurrentUser():v.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var u=this;return(0,C.A)(function*(){if(!u.redirectPersistenceManager){const g=l&&Ve(l)||u._popupRedirectResolver;ge(g,u,"argument-error"),u.redirectPersistenceManager=yield er.create(u,[Ve(g._redirectPersistence)],"redirectUser"),u.redirectUser=yield u.redirectPersistenceManager.getCurrentUser()}return u.redirectPersistenceManager})()}_redirectUserForId(l){var u=this;return(0,C.A)(function*(){var g,v;return u._isInitialized&&(yield u.queue((0,C.A)(function*(){}))),(null===(g=u._currentUser)||void 0===g?void 0:g._redirectEventId)===l?u._currentUser:(null===(v=u.redirectUser)||void 0===v?void 0:v._redirectEventId)===l?u.redirectUser:null})()}_persistUserIfCurrent(l){var u=this;return(0,C.A)(function*(){if(l===u.currentUser)return u.queue((0,C.A)(function*(){return u.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,u;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const g=null!==(u=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==u?u:null;this.lastNotifiedUid!==g&&(this.lastNotifiedUid=g,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,u,g,v){if(this._deleted)return()=>{};const w="function"==typeof u?u:u.next.bind(u);let P=!1;const W=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(W,this,"internal-error"),W.then(()=>{P||w(this.currentUser)}),"function"==typeof u){const le=l.addObserver(u,g,v);return()=>{P=!0,le()}}{const le=l.addObserver(u);return()=>{P=!0,le()}}}directlySetCurrentUser(l){var u=this;return(0,C.A)(function*(){u.currentUser&&u.currentUser!==l&&u._currentUser._stopProactiveRefresh(),l&&u.isProactiveRefreshEnabled&&l._startProactiveRefresh(),u.currentUser=l,l?yield u.assertedPersistence.setCurrentUser(l):yield u.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=ke(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,C.A)(function*(){var u;const g={"X-Client-Version":l.clientVersion};l.app.options.appId&&(g["X-Firebase-gmpid"]=l.app.options.appId);const v=yield null===(u=l.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===u?void 0:u.getHeartbeatsHeader();v&&(g["X-Firebase-Client"]=v);const w=yield l._getAppCheckToken();return w&&(g["X-Firebase-AppCheck"]=w),g})()}_getAppCheckToken(){var l=this;return(0,C.A)(function*(){var u;const g=yield null===(u=l.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===u?void 0:u.getToken();return g?.error&&function ar(p,...l){sr.logLevel<=St.$b.WARN&&sr.warn(`Auth (${Ue.SDK_VERSION}): ${p}`,...l)}(`Error while retrieving App Check token: ${g.error}`),g?.token})()}}function Qt(p){return(0,se.Ku)(p)}class Uo{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,se.tD)(u=>this.observer=u)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ju={loadJS:()=>(0,C.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function T_(p){return ju.loadJS(p)}function C_(p){return`__${p}${Math.floor(1e6*Math.random())}`}class st{constructor(l){this.type="recaptcha-enterprise",this.auth=Qt(l)}verify(l="verify",u=!1){var g=this;return(0,C.A)(function*(){function w(){return w=(0,C.A)(function*(W){if(!u){if(null==W.tenantId&&null!=W._agentRecaptchaConfig)return W._agentRecaptchaConfig.siteKey;if(null!=W.tenantId&&void 0!==W._tenantRecaptchaConfigs[W.tenantId])return W._tenantRecaptchaConfigs[W.tenantId].siteKey}return new Promise(function(){var le=(0,C.A)(function*(Re,ze){wn(W,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then($e=>{if(void 0!==$e.recaptchaKey){const Gn=new de($e);return null==W.tenantId?W._agentRecaptchaConfig=Gn:W._tenantRecaptchaConfigs[W.tenantId]=Gn,Re(Gn.siteKey)}ze(new Error("recaptcha Enterprise site key undefined"))}).catch($e=>{ze($e)})});return function(Re,ze){return le.apply(this,arguments)}}())}),w.apply(this,arguments)}function P(W,le,Re){const ze=window.grecaptcha;ee(ze)?ze.enterprise.ready(()=>{ze.enterprise.execute(W,{action:l}).then($e=>{le($e)}).catch(()=>{le("NO_RECAPTCHA")})}):Re(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((W,le)=>{(function v(W){return w.apply(this,arguments)})(g.auth).then(Re=>{if(!u&&ee(window.grecaptcha))P(Re,W,le);else{if(typeof window>"u")return void le(new Error("RecaptchaVerifier is only supported in browser"));let ze=function gb(){return ju.recaptchaEnterpriseScript}();0!==ze.length&&(ze+=Re),T_(ze).then(()=>{P(Re,W,le)}).catch($e=>{le($e)})}}).catch(Re=>{le(Re)})})})()}}function mb(p,l,u){return D_.apply(this,arguments)}function D_(){return(D_=(0,C.A)(function*(p,l,u,g=!1){const v=new st(p);let w;try{w=yield v.verify(u)}catch{w=yield v.verify(u,!0)}const P=Object.assign({},l);return Object.assign(P,g?{captchaResp:w}:{captchaResponse:w}),Object.assign(P,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(P,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),P})).apply(this,arguments)}function Hu(p,l,u,g){return Ne.apply(this,arguments)}function Ne(){return Ne=(0,C.A)(function*(p,l,u,g){var v;if(null!==(v=p._getRecaptchaConfig())&&void 0!==v&&v.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const w=yield mb(p,l,u,"getOobCode"===u);return g(p,w)}return g(p,l).catch(function(){var w=(0,C.A)(function*(P){if("auth/missing-recaptcha-token"===P.code){console.log(`${u} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const W=yield mb(p,l,u,"getOobCode"===u);return g(p,W)}return Promise.reject(P)});return function(P){return w.apply(this,arguments)}}())}),Ne.apply(this,arguments)}function A_(p){const l=p.indexOf(":");return l<0?"":p.substr(0,l+1)}function rl(p){if(!p)return null;const l=Number(p);return isNaN(l)?null:l}class ia{constructor(l,u){this.providerId=l,this.signInMethod=u}toJSON(){return yn("not implemented")}_getIdTokenResponse(l){return yn("not implemented")}_linkToIdToken(l,u){return yn("not implemented")}_getReauthenticationResolver(l){return yn("not implemented")}}function S_(p,l){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,C.A)(function*(p,l){return te(p,"POST","/v1/accounts:resetPassword",z(p,l))})).apply(this,arguments)}function zu(){return(zu=(0,C.A)(function*(p,l){return te(p,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Ti(p,l){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,C.A)(function*(p,l){return te(p,"POST","/v1/accounts:signUp",l)})).apply(this,arguments)}function cn(){return(cn=(0,C.A)(function*(p,l){return te(p,"POST","/v1/accounts:update",z(p,l))})).apply(this,arguments)}function gS(p,l){return R_.apply(this,arguments)}function R_(){return(R_=(0,C.A)(function*(p,l){return Ht(p,"POST","/v1/accounts:signInWithPassword",z(p,l))})).apply(this,arguments)}function xe(p,l){return il.apply(this,arguments)}function il(){return(il=(0,C.A)(function*(p,l){return te(p,"POST","/v1/accounts:sendOobCode",z(p,l))})).apply(this,arguments)}function qu(){return(qu=(0,C.A)(function*(p,l){return xe(p,l)})).apply(this,arguments)}function Bf(p,l){return Uf.apply(this,arguments)}function Uf(){return(Uf=(0,C.A)(function*(p,l){return xe(p,l)})).apply(this,arguments)}function jf(p,l){return M_.apply(this,arguments)}function M_(){return(M_=(0,C.A)(function*(p,l){return xe(p,l)})).apply(this,arguments)}function P_(){return(P_=(0,C.A)(function*(p,l){return xe(p,l)})).apply(this,arguments)}function N_(){return(N_=(0,C.A)(function*(p,l){return Ht(p,"POST","/v1/accounts:signInWithEmailLink",z(p,l))})).apply(this,arguments)}function sl(){return(sl=(0,C.A)(function*(p,l){return Ht(p,"POST","/v1/accounts:signInWithEmailLink",z(p,l))})).apply(this,arguments)}class As extends ia{constructor(l,u,g,v=null){super("password",g),this._email=l,this._password=u,this._tenantId=v}static _fromEmailAndPassword(l,u){return new As(l,u,"password")}static _fromEmailAndCode(l,u,g=null){return new As(l,u,"emailLink",g)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const u="string"==typeof l?JSON.parse(l):l;if(u?.email&&u?.password){if("password"===u.signInMethod)return this._fromEmailAndPassword(u.email,u.password);if("emailLink"===u.signInMethod)return this._fromEmailAndCode(u.email,u.password,u.tenantId)}return null}_getIdTokenResponse(l){var u=this;return(0,C.A)(function*(){switch(u.signInMethod){case"password":return Hu(l,{returnSecureToken:!0,email:u._email,password:u._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",gS);case"emailLink":return function _S(p,l){return N_.apply(this,arguments)}(l,{email:u._email,oobCode:u._password});default:wt(l,"internal-error")}})()}_linkToIdToken(l,u){var g=this;return(0,C.A)(function*(){switch(g.signInMethod){case"password":return Hu(l,{idToken:u,returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ti);case"emailLink":return function ol(p,l){return sl.apply(this,arguments)}(l,{idToken:u,email:g._email,oobCode:g._password});default:wt(l,"internal-error")}})()}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}function cs(p,l){return Hf.apply(this,arguments)}function Hf(){return(Hf=(0,C.A)(function*(p,l){return Ht(p,"POST","/v1/accounts:signInWithIdp",z(p,l))})).apply(this,arguments)}class vo extends ia{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const u=new vo(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(u.idToken=l.idToken),l.accessToken&&(u.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(u.nonce=l.nonce),l.pendingToken&&(u.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(u.accessToken=l.oauthToken,u.secret=l.oauthTokenSecret):wt("argument-error"),u}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const u="string"==typeof l?JSON.parse(l):l,{providerId:g,signInMethod:v}=u,w=(0,Sn.Tt)(u,["providerId","signInMethod"]);if(!g||!v)return null;const P=new vo(g,v);return P.idToken=w.idToken||void 0,P.accessToken=w.accessToken||void 0,P.secret=w.secret,P.nonce=w.nonce,P.pendingToken=w.pendingToken||null,P}_getIdTokenResponse(l){return cs(l,this.buildRequest())}_linkToIdToken(l,u){const g=this.buildRequest();return g.idToken=u,cs(l,g)}_getReauthenticationResolver(l){const u=this.buildRequest();return u.autoCreate=!1,cs(l,u)}buildRequest(){const l={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const u={};this.idToken&&(u.id_token=this.idToken),this.accessToken&&(u.access_token=this.accessToken),this.secret&&(u.oauth_token_secret=this.secret),u.providerId=this.providerId,this.nonce&&!this.pendingToken&&(u.nonce=this.nonce),l.postBody=(0,se.Am)(u)}return l}}function $f(){return($f=(0,C.A)(function*(p,l){return te(p,"POST","/v1/accounts:sendVerificationCode",z(p,l))})).apply(this,arguments)}function Gf(){return(Gf=(0,C.A)(function*(p,l){return Ht(p,"POST","/v1/accounts:signInWithPhoneNumber",z(p,l))})).apply(this,arguments)}function Ku(){return(Ku=(0,C.A)(function*(p,l){const u=yield Ht(p,"POST","/v1/accounts:signInWithPhoneNumber",z(p,l));if(u.temporaryProof)throw B(p,"account-exists-with-different-credential",u);return u})).apply(this,arguments)}const Me={USER_NOT_FOUND:"user-not-found"};function al(){return(al=(0,C.A)(function*(p,l){return Ht(p,"POST","/v1/accounts:signInWithPhoneNumber",z(p,Object.assign(Object.assign({},l),{operation:"REAUTH"})),Me)})).apply(this,arguments)}class bo extends ia{constructor(l){super("phone","phone"),this.params=l}static _fromVerification(l,u){return new bo({verificationId:l,verificationCode:u})}static _fromTokenResponse(l,u){return new bo({phoneNumber:l,temporaryProof:u})}_getIdTokenResponse(l){return function Ss(p,l){return Gf.apply(this,arguments)}(l,this._makeVerificationRequest())}_linkToIdToken(l,u){return function ve(p,l){return Ku.apply(this,arguments)}(l,Object.assign({idToken:u},this._makeVerificationRequest()))}_getReauthenticationResolver(l){return function Qu(p,l){return al.apply(this,arguments)}(l,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:l,phoneNumber:u,verificationId:g,verificationCode:v}=this.params;return l&&u?{temporaryProof:l,phoneNumber:u}:{sessionInfo:g,code:v}}toJSON(){const l={providerId:this.providerId};return this.params.phoneNumber&&(l.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(l.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(l.verificationCode=this.params.verificationCode),this.params.verificationId&&(l.verificationId=this.params.verificationId),l}static fromJSON(l){"string"==typeof l&&(l=JSON.parse(l));const{verificationId:u,verificationCode:g,phoneNumber:v,temporaryProof:w}=l;return g||u||v||w?new bo({verificationId:u,verificationCode:g,phoneNumber:v,temporaryProof:w}):null}}class cl{constructor(l){var u,g,v,w,P,W;const le=(0,se.I9)((0,se.hp)(l)),Re=null!==(u=le.apiKey)&&void 0!==u?u:null,ze=null!==(g=le.oobCode)&&void 0!==g?g:null,$e=function vb(p){switch(p){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(v=le.mode)&&void 0!==v?v:null);ge(Re&&ze&&$e,"argument-error"),this.apiKey=Re,this.operation=$e,this.code=ze,this.continueUrl=null!==(w=le.continueUrl)&&void 0!==w?w:null,this.languageCode=null!==(P=le.languageCode)&&void 0!==P?P:null,this.tenantId=null!==(W=le.tenantId)&&void 0!==W?W:null}static parseLink(l){const u=function bb(p){const l=(0,se.I9)((0,se.hp)(p)).link,u=l?(0,se.I9)((0,se.hp)(l)).deep_link_id:null,g=(0,se.I9)((0,se.hp)(p)).deep_link_id;return(g?(0,se.I9)((0,se.hp)(g)).link:null)||g||u||l||p}(l);try{return new cl(u)}catch{return null}}}let Xa=(()=>{class p{constructor(){this.providerId=p.PROVIDER_ID}static credential(u,g){return As._fromEmailAndPassword(u,g)}static credentialWithLink(u,g){const v=cl.parseLink(g);return ge(v,"argument-error"),As._fromEmailAndCode(u,v.code,v.tenantId)}}return p.PROVIDER_ID="password",p.EMAIL_PASSWORD_SIGN_IN_METHOD="password",p.EMAIL_LINK_SIGN_IN_METHOD="emailLink",p})();class _r{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class ni extends _r{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class Rt extends ni{static credentialFromJSON(l){const u="string"==typeof l?JSON.parse(l):l;return ge("providerId"in u&&"signInMethod"in u,"argument-error"),vo._fromParams(u)}credential(l){return this._credential(Object.assign(Object.assign({},l),{nonce:l.rawNonce}))}_credential(l){return ge(l.idToken||l.accessToken,"argument-error"),vo._fromParams(Object.assign(Object.assign({},l),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(l){return Rt.oauthCredentialFromTaggedObject(l)}static credentialFromError(l){return Rt.oauthCredentialFromTaggedObject(l.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:u,oauthAccessToken:g,oauthTokenSecret:v,pendingToken:w,nonce:P,providerId:W}=l;if(!g&&!v&&!u&&!w||!W)return null;try{return new Rt(W)._credential({idToken:u,accessToken:g,nonce:P,pendingToken:w})}catch{return null}}}let ll=(()=>{class p extends ni{constructor(){super("facebook.com")}static credential(u){return vo._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.FACEBOOK_SIGN_IN_METHOD,accessToken:u})}static credentialFromResult(u){return p.credentialFromTaggedObject(u)}static credentialFromError(u){return p.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u||!("oauthAccessToken"in u)||!u.oauthAccessToken)return null;try{return p.credential(u.oauthAccessToken)}catch{return null}}}return p.FACEBOOK_SIGN_IN_METHOD="facebook.com",p.PROVIDER_ID="facebook.com",p})(),Yu=(()=>{class p extends ni{constructor(){super("google.com"),this.addScope("profile")}static credential(u,g){return vo._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GOOGLE_SIGN_IN_METHOD,idToken:u,accessToken:g})}static credentialFromResult(u){return p.credentialFromTaggedObject(u)}static credentialFromError(u){return p.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:g,oauthAccessToken:v}=u;if(!g&&!v)return null;try{return p.credential(g,v)}catch{return null}}}return p.GOOGLE_SIGN_IN_METHOD="google.com",p.PROVIDER_ID="google.com",p})(),Ju=(()=>{class p extends ni{constructor(){super("github.com")}static credential(u){return vo._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GITHUB_SIGN_IN_METHOD,accessToken:u})}static credentialFromResult(u){return p.credentialFromTaggedObject(u)}static credentialFromError(u){return p.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u||!("oauthAccessToken"in u)||!u.oauthAccessToken)return null;try{return p.credential(u.oauthAccessToken)}catch{return null}}}return p.GITHUB_SIGN_IN_METHOD="github.com",p.PROVIDER_ID="github.com",p})();class Ci extends ia{constructor(l,u){super(l,l),this.pendingToken=u}_getIdTokenResponse(l){return cs(l,this.buildRequest())}_linkToIdToken(l,u){const g=this.buildRequest();return g.idToken=u,cs(l,g)}_getReauthenticationResolver(l){const u=this.buildRequest();return u.autoCreate=!1,cs(l,u)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(l){const u="string"==typeof l?JSON.parse(l):l,{providerId:g,signInMethod:v,pendingToken:w}=u;return g&&v&&w&&g===v?new Ci(g,w):null}static _create(l,u){return new Ci(l,u)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class dl extends _r{constructor(l){ge(l.startsWith("saml."),"argument-error"),super(l)}static credentialFromResult(l){return dl.samlCredentialFromTaggedObject(l)}static credentialFromError(l){return dl.samlCredentialFromTaggedObject(l.customData||{})}static credentialFromJSON(l){const u=Ci.fromJSON(l);return ge(u,"argument-error"),u}static samlCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{pendingToken:u,providerId:g}=l;if(!u||!g)return null;try{return Ci._create(g,u)}catch{return null}}}let zf=(()=>{class p extends ni{constructor(){super("twitter.com")}static credential(u,g){return vo._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.TWITTER_SIGN_IN_METHOD,oauthToken:u,oauthTokenSecret:g})}static credentialFromResult(u){return p.credentialFromTaggedObject(u)}static credentialFromError(u){return p.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthAccessToken:g,oauthTokenSecret:v}=u;if(!g||!v)return null;try{return p.credential(g,v)}catch{return null}}}return p.TWITTER_SIGN_IN_METHOD="twitter.com",p.PROVIDER_ID="twitter.com",p})();function Zu(p,l){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,C.A)(function*(p,l){return Ht(p,"POST","/v1/accounts:signUp",z(p,l))})).apply(this,arguments)}class Ui{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,u,g,v=!1){return(0,C.A)(function*(){const w=yield Z._fromIdTokenResponse(l,g,v),P=ec(g);return new Ui({user:w,providerId:P,_tokenResponse:g,operationType:u})})()}static _forOperation(l,u,g){return(0,C.A)(function*(){yield l._updateTokensIfNecessary(g,!0);const v=ec(g);return new Ui({user:l,providerId:v,_tokenResponse:g,operationType:u})})()}}function ec(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}function ed(){return(ed=(0,C.A)(function*(p){var l;if((0,Ue._isFirebaseServerApp)(p.app))return Promise.reject(Ze(p));const u=Qt(p);if(yield u._initializationPromise,null!==(l=u.currentUser)&&void 0!==l&&l.isAnonymous)return new Ui({user:u.currentUser,providerId:null,operationType:"signIn"});const g=yield Zu(u,{returnSecureToken:!0}),v=yield Ui._fromIdTokenResponse(u,"signIn",g,!0);return yield u._updateCurrentUser(v.user),v})).apply(this,arguments)}class td extends se.g{constructor(l,u,g,v){var w;super(u.code,u.message),this.operationType=g,this.user=v,Object.setPrototypeOf(this,td.prototype),this.customData={appName:l.name,tenantId:null!==(w=l.tenantId)&&void 0!==w?w:void 0,_serverResponse:u.customData._serverResponse,operationType:g}}static _fromErrorAndOperation(l,u,g,v){return new td(l,u,g,v)}}function Wf(p,l,u,g){return("reauthenticate"===l?u._getReauthenticationResolver(p):u._getIdTokenResponse(p)).catch(w=>{throw"auth/multi-factor-auth-required"===w.code?td._fromErrorAndOperation(p,w,l,g):w})}function k_(p){return new Set(p.map(({providerId:l})=>l).filter(l=>!!l))}function ji(){return ji=(0,C.A)(function*(p,l){const u=(0,se.Ku)(p);yield rd(!0,u,l);const{providerUserInfo:g}=yield function Pr(p,l){return Vi.apply(this,arguments)}(u.auth,{idToken:yield u.getIdToken(),deleteProvider:[l]}),v=k_(g||[]);return u.providerData=u.providerData.filter(w=>v.has(w.providerId)),v.has("phone")||(u.phoneNumber=null),yield u.auth._persistUserIfCurrent(u),u}),ji.apply(this,arguments)}function qf(p,l){return nd.apply(this,arguments)}function nd(){return(nd=(0,C.A)(function*(p,l,u=!1){const g=yield wi(p,l._linkToIdToken(p.auth,yield p.getIdToken()),u);return Ui._forOperation(p,"link",g)})).apply(this,arguments)}function rd(p,l,u){return Kf.apply(this,arguments)}function Kf(){return(Kf=(0,C.A)(function*(p,l,u){yield Ei(l);const v=!1===p?"provider-already-linked":"no-such-provider";ge(k_(l.providerData).has(u)===p,l.auth,v)})).apply(this,arguments)}function F_(p,l){return Qf.apply(this,arguments)}function Qf(){return(Qf=(0,C.A)(function*(p,l,u=!1){const{auth:g}=p;if((0,Ue._isFirebaseServerApp)(g.app))return Promise.reject(Ze(g));const v="reauthenticate";try{const w=yield wi(p,Wf(g,v,l,p),u);ge(w.idToken,g,"internal-error");const P=eo(w.idToken);ge(P,g,"internal-error");const{sub:W}=P;return ge(p.uid===W,g,"user-mismatch"),Ui._forOperation(p,v,w)}catch(w){throw"auth/user-not-found"===w?.code&&wt(g,"user-mismatch"),w}})).apply(this,arguments)}function Yf(p,l){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,C.A)(function*(p,l,u=!1){if((0,Ue._isFirebaseServerApp)(p.app))return Promise.reject(Ze(p));const g="signIn",v=yield Wf(p,g,l),w=yield Ui._fromIdTokenResponse(p,g,v);return u||(yield p._updateCurrentUser(w.user)),w})).apply(this,arguments)}function id(p,l){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,C.A)(function*(p,l){return Yf(Qt(p),l)})).apply(this,arguments)}function En(p,l){return Xf.apply(this,arguments)}function Xf(){return(Xf=(0,C.A)(function*(p,l){const u=(0,se.Ku)(p);return yield rd(!1,u,l.providerId),qf(u,l)})).apply(this,arguments)}function V_(p,l){return ep.apply(this,arguments)}function ep(){return(ep=(0,C.A)(function*(p,l){return F_((0,se.Ku)(p),l)})).apply(this,arguments)}function tp(){return(tp=(0,C.A)(function*(p,l){return Ht(p,"POST","/v1/accounts:signInWithCustomToken",z(p,l))})).apply(this,arguments)}function Se(){return Se=(0,C.A)(function*(p,l){if((0,Ue._isFirebaseServerApp)(p.app))return Promise.reject(Ze(p));const u=Qt(p),g=yield function ln(p,l){return tp.apply(this,arguments)}(u,{token:l,returnSecureToken:!0}),v=yield Ui._fromIdTokenResponse(u,"signIn",g);return yield u._updateCurrentUser(v.user),v}),Se.apply(this,arguments)}class Tr{constructor(l,u){this.factorId=l,this.uid=u.mfaEnrollmentId,this.enrollmentTime=new Date(u.enrolledAt).toUTCString(),this.displayName=u.displayName}static _fromServerResponse(l,u){return"phoneInfo"in u?xt._fromServerResponse(l,u):"totpInfo"in u?yr._fromServerResponse(l,u):wt(l,"internal-error")}}class xt extends Tr{constructor(l){super("phone",l),this.phoneNumber=l.phoneInfo}static _fromServerResponse(l,u){return new xt(u)}}class yr extends Tr{constructor(l){super("totp",l)}static _fromServerResponse(l,u){return new yr(u)}}function Cr(p,l,u){var g;ge((null===(g=u.url)||void 0===g?void 0:g.length)>0,p,"invalid-continue-uri"),ge(typeof u.dynamicLinkDomain>"u"||u.dynamicLinkDomain.length>0,p,"invalid-dynamic-link-domain"),l.continueUrl=u.url,l.dynamicLinkDomain=u.dynamicLinkDomain,l.canHandleCodeInApp=u.handleCodeInApp,u.iOS&&(ge(u.iOS.bundleId.length>0,p,"missing-ios-bundle-id"),l.iOSBundleId=u.iOS.bundleId),u.android&&(ge(u.android.packageName.length>0,p,"missing-android-pkg-name"),l.androidInstallApp=u.android.installApp,l.androidMinimumVersionCode=u.android.minimumVersion,l.androidPackageName=u.android.packageName)}function Ms(p){return ri.apply(this,arguments)}function ri(){return(ri=(0,C.A)(function*(p){const l=Qt(p);l._getPasswordPolicyInternal()&&(yield l._updatePasswordPolicy())})).apply(this,arguments)}function od(){return(od=(0,C.A)(function*(p,l,u){const g=Qt(p),v={requestType:"PASSWORD_RESET",email:l,clientType:"CLIENT_TYPE_WEB"};u&&Cr(g,v,u),yield Hu(g,v,"getOobCode",Bf)})).apply(this,arguments)}function np(){return np=(0,C.A)(function*(p,l,u){yield S_((0,se.Ku)(p),{oobCode:l,newPassword:u}).catch(function(){var g=(0,C.A)(function*(v){throw"auth/password-does-not-meet-requirements"===v.code&&Ms(p),v});return function(v){return g.apply(this,arguments)}}())}),np.apply(this,arguments)}function Nn(){return Nn=(0,C.A)(function*(p,l){yield function pS(p,l){return cn.apply(this,arguments)}((0,se.Ku)(p),{oobCode:l})}),Nn.apply(this,arguments)}function Le(p,l){return ut.apply(this,arguments)}function ut(){return(ut=(0,C.A)(function*(p,l){const u=(0,se.Ku)(p),g=yield S_(u,{oobCode:l}),v=g.requestType;switch(ge(v,u,"internal-error"),v){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ge(g.newEmail,u,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ge(g.mfaInfo,u,"internal-error");default:ge(g.email,u,"internal-error")}let w=null;return g.mfaInfo&&(w=Tr._fromServerResponse(Qt(u),g.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.newEmail:g.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.email:g.newEmail)||null,multiFactorInfo:w},operation:v}})).apply(this,arguments)}function Hi(){return(Hi=(0,C.A)(function*(p,l){const{data:u}=yield Le((0,se.Ku)(p),l);return u.email})).apply(this,arguments)}function Dr(){return(Dr=(0,C.A)(function*(p,l,u){if((0,Ue._isFirebaseServerApp)(p.app))return Promise.reject(Ze(p));const g=Qt(p),P=yield Hu(g,{returnSecureToken:!0,email:l,password:u,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zu).catch(le=>{throw"auth/password-does-not-meet-requirements"===le.code&&Ms(p),le}),W=yield Ui._fromIdTokenResponse(g,"signIn",P);return yield g._updateCurrentUser(W.user),W})).apply(this,arguments)}function jo(){return(jo=(0,C.A)(function*(p,l,u){const g=Qt(p),v={requestType:"EMAIL_SIGNIN",email:l,clientType:"CLIENT_TYPE_WEB"};(function w(P,W){ge(W.handleCodeInApp,g,"argument-error"),W&&Cr(g,P,W)})(v,u),yield Hu(g,v,"getOobCode",jf)})).apply(this,arguments)}function oa(){return(oa=(0,C.A)(function*(p,l,u){if((0,Ue._isFirebaseServerApp)(p.app))return Promise.reject(Ze(p));const g=(0,se.Ku)(p),v=Xa.credentialWithLink(l,u||Gr());return ge(v._tenantId===(g.tenantId||null),g,"tenant-id-mismatch"),id(g,v)})).apply(this,arguments)}function Ps(){return(Ps=(0,C.A)(function*(p,l){return te(p,"POST","/v1/accounts:createAuthUri",z(p,l))})).apply(this,arguments)}function sa(){return sa=(0,C.A)(function*(p,l){const g={identifier:l,continueUri:bi()?Gr():"http://localhost"},{signinMethods:v}=yield function U_(p,l){return Ps.apply(this,arguments)}((0,se.Ku)(p),g);return v||[]}),sa.apply(this,arguments)}function no(){return no=(0,C.A)(function*(p,l){const u=(0,se.Ku)(p),v={requestType:"VERIFY_EMAIL",idToken:yield p.getIdToken()};l&&Cr(u.auth,v,l);const{email:w}=yield function Lf(p,l){return qu.apply(this,arguments)}(u.auth,v);w!==p.email&&(yield p.reload())}),no.apply(this,arguments)}function ad(){return ad=(0,C.A)(function*(p,l,u){const g=(0,se.Ku)(p),w={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield p.getIdToken(),newEmail:l};u&&Cr(g.auth,w,u);const{email:P}=yield function mS(p,l){return P_.apply(this,arguments)}(g.auth,w);P!==p.email&&(yield p.reload())}),ad.apply(this,arguments)}function Io(){return(Io=(0,C.A)(function*(p,l){return te(p,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function aa(){return aa=(0,C.A)(function*(p,{displayName:l,photoURL:u}){if(void 0===l&&void 0===u)return;const g=(0,se.Ku)(p),w={idToken:yield g.getIdToken(),displayName:l,photoUrl:u,returnSecureToken:!0},P=yield wi(g,function Ns(p,l){return Io.apply(this,arguments)}(g.auth,w));g.displayName=P.displayName||null,g.photoURL=P.photoUrl||null;const W=g.providerData.find(({providerId:le})=>"password"===le);W&&(W.displayName=g.displayName,W.photoURL=g.photoURL),yield g._updateTokensIfNecessary(P)}),aa.apply(this,arguments)}function cd(p,l,u){return ld.apply(this,arguments)}function ld(){return ld=(0,C.A)(function*(p,l,u){const{auth:g}=p,w={idToken:yield p.getIdToken(),returnSecureToken:!0};l&&(w.email=l),u&&(w.password=u);const P=yield wi(p,function Vf(p,l){return zu.apply(this,arguments)}(g,w));yield p._updateTokensIfNecessary(P,!0)}),ld.apply(this,arguments)}class ls{constructor(l,u,g={}){this.isNewUser=l,this.providerId=u,this.profile=g}}class ca extends ls{constructor(l,u,g,v){super(l,u,g),this.username=v}}class gl extends ls{constructor(l,u){super(l,"facebook.com",u)}}class xr extends ca{constructor(l,u){super(l,"github.com",u,"string"==typeof u?.login?u?.login:null)}}class vS extends ls{constructor(l,u){super(l,"google.com",u)}}class Di extends ca{constructor(l,u,g){super(l,"twitter.com",u,g)}}function ii(p){const{user:l,_tokenResponse:u}=p;return l.isAnonymous&&!u?{providerId:null,isNewUser:!1,profile:null}:function Ho(p){var l,u;if(!p)return null;const{providerId:g}=p,v=p.rawUserInfo?JSON.parse(p.rawUserInfo):{},w=p.isNewUser||"identitytoolkit#SignupNewUserResponse"===p.kind;if(!g&&p?.idToken){const P=null===(u=null===(l=eo(p.idToken))||void 0===l?void 0:l.firebase)||void 0===u?void 0:u.sign_in_provider;if(P)return new ls(w,"anonymous"!==P&&"custom"!==P?P:null)}if(!g)return null;switch(g){case"facebook.com":return new gl(w,v);case"github.com":return new xr(w,v);case"google.com":return new vS(w,v);case"twitter.com":return new Di(w,v,p.screenName||null);case"custom":case"anonymous":return new ls(w,null);default:return new ls(w,g,v)}}(u)}class oc{constructor(l,u,g){this.type=l,this.credential=u,this.user=g}static _fromIdtoken(l,u){return new oc("enroll",l,u)}static _fromMfaPendingCredential(l){return new oc("signin",l)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(l){var u,g;if(l?.multiFactorSession){if(null!==(u=l.multiFactorSession)&&void 0!==u&&u.pendingCredential)return oc._fromMfaPendingCredential(l.multiFactorSession.pendingCredential);if(null!==(g=l.multiFactorSession)&&void 0!==g&&g.idToken)return oc._fromIdtoken(l.multiFactorSession.idToken)}return null}}class $_{constructor(l,u,g){this.session=l,this.hints=u,this.signInResolver=g}static _fromError(l,u){const g=Qt(l),v=u.customData._serverResponse,w=(v.mfaInfo||[]).map(W=>Tr._fromServerResponse(g,W));ge(v.mfaPendingCredential,g,"internal-error");const P=oc._fromMfaPendingCredential(v.mfaPendingCredential);return new $_(P,w,function(){var W=(0,C.A)(function*(le){const Re=yield le._process(g,P);delete v.mfaInfo,delete v.mfaPendingCredential;const ze=Object.assign(Object.assign({},v),{idToken:Re.idToken,refreshToken:Re.refreshToken});switch(u.operationType){case"signIn":const $e=yield Ui._fromIdTokenResponse(g,u.operationType,ze);return yield g._updateCurrentUser($e.user),$e;case"reauthenticate":return ge(u.user,g,"internal-error"),Ui._forOperation(u.user,u.operationType,ze);default:wt(g,"internal-error")}});return function(le){return W.apply(this,arguments)}}())}resolveSignIn(l){var u=this;return(0,C.A)(function*(){return u.signInResolver(l)})()}}class G_{constructor(l){this.user=l,this.enrolledFactors=[],l._onReload(u=>{u.mfaInfo&&(this.enrolledFactors=u.mfaInfo.map(g=>Tr._fromServerResponse(l.auth,g)))})}static _fromUser(l){return new G_(l)}getSession(){var l=this;return(0,C.A)(function*(){return oc._fromIdtoken(yield l.user.getIdToken(),l.user)})()}enroll(l,u){var g=this;return(0,C.A)(function*(){const v=l,w=yield g.getSession(),P=yield wi(g.user,v._process(g.user.auth,w,u));return yield g.user._updateTokensIfNecessary(P),g.user.reload()})()}unenroll(l){var u=this;return(0,C.A)(function*(){const g="string"==typeof l?l:l.uid,v=yield u.user.getIdToken();try{const w=yield wi(u.user,function AS(p,l){return te(p,"POST","/v2/accounts/mfaEnrollment:withdraw",z(p,l))}(u.user.auth,{idToken:v,mfaEnrollmentId:g}));u.enrolledFactors=u.enrolledFactors.filter(({uid:P})=>P!==g),yield u.user._updateTokensIfNecessary(w),yield u.user.reload()}catch(w){throw w}})()}}const ud=new WeakMap,op="__sak";class Tb{constructor(l,u){this.storageRetriever=l,this.type=u}_isAvailable(){try{return this.storage?(this.storage.setItem(op,"1"),this.storage.removeItem(op),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(l,u){return this.storage.setItem(l,JSON.stringify(u)),Promise.resolve()}_get(l){const u=this.storage.getItem(l);return Promise.resolve(u?JSON.parse(u):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const sp=(()=>{class p extends Tb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(u,g)=>this.onStorageEvent(u,g),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=X(),this._shouldAllowMigration=!0}forAllChangedKeys(u){for(const g of Object.keys(this.listeners)){const v=this.storage.getItem(g),w=this.localCache[g];v!==w&&u(g,w,v)}}onStorageEvent(u,g=!1){if(!u.key)return void this.forAllChangedKeys((W,le,Re)=>{this.notifyListeners(W,Re)});const v=u.key;g?this.detachListener():this.stopPolling();const w=()=>{const W=this.storage.getItem(v);!g&&this.localCache[v]===W||this.notifyListeners(v,W)},P=this.storage.getItem(v);!function F(){return(0,se.lT)()&&10===document.documentMode}()||P===u.newValue||u.newValue===u.oldValue?w():setTimeout(w,10)}notifyListeners(u,g){this.localCache[u]=g;const v=this.listeners[u];if(v)for(const w of Array.from(v))w(g&&JSON.parse(g))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((u,g,v)=>{this.onStorageEvent(new StorageEvent("storage",{key:u,oldValue:g,newValue:v}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(u,g){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[u]||(this.listeners[u]=new Set,this.localCache[u]=this.storage.getItem(u)),this.listeners[u].add(g)}_removeListener(u,g){this.listeners[u]&&(this.listeners[u].delete(g),0===this.listeners[u].size&&delete this.listeners[u]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(u,g){var v=()=>super._set,w=this;return(0,C.A)(function*(){yield v().call(w,u,g),w.localCache[u]=JSON.stringify(g)})()}_get(u){var g=()=>super._get,v=this;return(0,C.A)(function*(){const w=yield g().call(v,u);return v.localCache[u]=JSON.stringify(w),w})()}_remove(u){var g=()=>super._remove,v=this;return(0,C.A)(function*(){yield g().call(v,u),delete v.localCache[u]})()}}return p.type="LOCAL",p})(),xn=(()=>{class p extends Tb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(u,g){}_removeListener(u,g){}}return p.type="SESSION",p})();let ro=(()=>{class p{constructor(u){this.eventTarget=u,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(u){const g=this.receivers.find(w=>w.isListeningto(u));if(g)return g;const v=new p(u);return this.receivers.push(v),v}isListeningto(u){return this.eventTarget===u}handleEvent(u){var g=this;return(0,C.A)(function*(){const v=u,{eventId:w,eventType:P,data:W}=v.data,le=g.handlersMap[P];if(!le?.size)return;v.ports[0].postMessage({status:"ack",eventId:w,eventType:P});const Re=Array.from(le).map(function(){var $e=(0,C.A)(function*(Gn){return Gn(v.origin,W)});return function(Gn){return $e.apply(this,arguments)}}()),ze=yield function dd(p){return Promise.all(p.map(function(){var l=(0,C.A)(function*(u){try{return{fulfilled:!0,value:yield u}}catch(g){return{fulfilled:!1,reason:g}}});return function(u){return l.apply(this,arguments)}}()))}(Re);v.ports[0].postMessage({status:"done",eventId:w,eventType:P,response:ze})})()}_subscribe(u,g){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[u]||(this.handlersMap[u]=new Set),this.handlersMap[u].add(g)}_unsubscribe(u,g){this.handlersMap[u]&&g&&this.handlersMap[u].delete(g),(!g||0===this.handlersMap[u].size)&&delete this.handlersMap[u],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return p.receivers=[],p})();function sc(p="",l=10){let u="";for(let g=0;g<l;g++)u+=Math.floor(10*Math.random());return p+u}class W_{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,u,g=50){var v=this;return(0,C.A)(function*(){const w=typeof MessageChannel<"u"?new MessageChannel:null;if(!w)throw new Error("connection_unavailable");let P,W;return new Promise((le,Re)=>{const ze=sc("",20);w.port1.start();const $e=setTimeout(()=>{Re(new Error("unsupported_event"))},g);W={messageChannel:w,onMessage(Gn){const Eo=Gn;if(Eo.data.eventId===ze)switch(Eo.data.status){case"ack":clearTimeout($e),P=setTimeout(()=>{Re(new Error("timeout"))},3e3);break;case"done":clearTimeout(P),le(Eo.data.response);break;default:clearTimeout($e),clearTimeout(P),Re(new Error("invalid_response"))}}},v.handlers.add(W),w.port1.addEventListener("message",W.onMessage),v.target.postMessage({eventType:l,eventId:ze,data:u},[w.port2])}).finally(()=>{W&&v.removeMessageHandler(W)})})()}}function rr(){return window}function ml(){return typeof rr().WorkerGlobalScope<"u"&&"function"==typeof rr().importScripts}function _l(){return(_l=(0,C.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const cp="firebaseLocalStorageDb",da="firebaseLocalStorage",ac="fbase_key";class $o{constructor(l){this.request=l}toPromise(){return new Promise((l,u)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{u(this.request.error)})})}}function yl(p,l){return p.transaction([da],l?"readwrite":"readonly").objectStore(da)}function J_(){const p=indexedDB.open(cp,1);return new Promise((l,u)=>{p.addEventListener("error",()=>{u(p.error)}),p.addEventListener("upgradeneeded",()=>{const g=p.result;try{g.createObjectStore(da,{keyPath:ac})}catch(v){u(v)}}),p.addEventListener("success",(0,C.A)(function*(){const g=p.result;g.objectStoreNames.contains(da)?l(g):(g.close(),yield function RS(){const p=indexedDB.deleteDatabase(cp);return new $o(p).toPromise()}(),l(yield J_()))}))})}function Cb(p,l,u){return lp.apply(this,arguments)}function lp(){return(lp=(0,C.A)(function*(p,l,u){const g=yl(p,!0).put({[ac]:l,value:u});return new $o(g).toPromise()})).apply(this,arguments)}function Z_(){return(Z_=(0,C.A)(function*(p,l){const u=yl(p,!1).get(l),g=yield new $o(u).toPromise();return void 0===g?null:g.value})).apply(this,arguments)}function up(p,l){const u=yl(p,!0).delete(l);return new $o(u).toPromise()}const vl=(()=>{class p{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var u=this;return(0,C.A)(function*(){return u.db||(u.db=yield J_()),u.db})()}_withRetries(u){var g=this;return(0,C.A)(function*(){let v=0;for(;;)try{const w=yield g._openDb();return yield u(w)}catch(w){if(v++>3)throw w;g.db&&(g.db.close(),g.db=void 0)}})()}initializeServiceWorkerMessaging(){var u=this;return(0,C.A)(function*(){return ml()?u.initializeReceiver():u.initializeSender()})()}initializeReceiver(){var u=this;return(0,C.A)(function*(){u.receiver=ro._getInstance(function Q_(){return ml()?self:null}()),u.receiver._subscribe("keyChanged",function(){var g=(0,C.A)(function*(v,w){return{keyProcessed:(yield u._poll()).includes(w.key)}});return function(v,w){return g.apply(this,arguments)}}()),u.receiver._subscribe("ping",function(){var g=(0,C.A)(function*(v,w){return["keyChanged"]});return function(v,w){return g.apply(this,arguments)}}())})()}initializeSender(){var u=this;return(0,C.A)(function*(){var g,v;if(u.activeServiceWorker=yield function K_(){return _l.apply(this,arguments)}(),!u.activeServiceWorker)return;u.sender=new W_(u.activeServiceWorker);const w=yield u.sender._send("ping",{},800);w&&null!==(g=w[0])&&void 0!==g&&g.fulfilled&&null!==(v=w[0])&&void 0!==v&&v.value.includes("keyChanged")&&(u.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(u){var g=this;return(0,C.A)(function*(){if(g.sender&&g.activeServiceWorker&&function ap(){var p;return(null===(p=navigator?.serviceWorker)||void 0===p?void 0:p.controller)||null}()===g.activeServiceWorker)try{yield g.sender._send("keyChanged",{key:u},g.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,C.A)(function*(){try{if(!indexedDB)return!1;const u=yield J_();return yield Cb(u,op,"1"),yield up(u,op),!0}catch{}return!1})()}_withPendingWrite(u){var g=this;return(0,C.A)(function*(){g.pendingWrites++;try{yield u()}finally{g.pendingWrites--}})()}_set(u,g){var v=this;return(0,C.A)(function*(){return v._withPendingWrite((0,C.A)(function*(){return yield v._withRetries(w=>Cb(w,u,g)),v.localCache[u]=g,v.notifyServiceWorker(u)}))})()}_get(u){var g=this;return(0,C.A)(function*(){const v=yield g._withRetries(w=>function Db(p,l){return Z_.apply(this,arguments)}(w,u));return g.localCache[u]=v,v})()}_remove(u){var g=this;return(0,C.A)(function*(){return g._withPendingWrite((0,C.A)(function*(){return yield g._withRetries(v=>up(v,u)),delete g.localCache[u],g.notifyServiceWorker(u)}))})()}_poll(){var u=this;return(0,C.A)(function*(){const g=yield u._withRetries(P=>{const W=yl(P,!1).getAll();return new $o(W).toPromise()});if(!g)return[];if(0!==u.pendingWrites)return[];const v=[],w=new Set;if(0!==g.length)for(const{fbase_key:P,value:W}of g)w.add(P),JSON.stringify(u.localCache[P])!==JSON.stringify(W)&&(u.notifyListeners(P,W),v.push(P));for(const P of Object.keys(u.localCache))u.localCache[P]&&!w.has(P)&&(u.notifyListeners(P,null),v.push(P));return v})()}notifyListeners(u,g){this.localCache[u]=g;const v=this.listeners[u];if(v)for(const w of Array.from(v))w(g)}startPolling(){var u=this;this.stopPolling(),this.pollTimer=setInterval((0,C.A)(function*(){return u._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(u,g){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[u]||(this.listeners[u]=new Set,this._get(u)),this.listeners[u].add(g)}_removeListener(u,g){this.listeners[u]&&(this.listeners[u].delete(g),0===this.listeners[u].size&&delete this.listeners[u]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return p.type="LOCAL",p})(),hd=1e12;class Mb{constructor(l){this.auth=l,this.counter=hd,this._widgets=new Map}render(l,u){const g=this.counter;return this._widgets.set(g,new ny(l,this.auth.name,u||{})),this.counter++,g}reset(l){var u;const g=l||hd;null===(u=this._widgets.get(g))||void 0===u||u.delete(),this._widgets.delete(g)}getResponse(l){var u;return(null===(u=this._widgets.get(l||hd))||void 0===u?void 0:u.getResponse())||""}execute(l){var u=this;return(0,C.A)(function*(){var g;return null===(g=u._widgets.get(l||hd))||void 0===g||g.execute(),""})()}}class ny{constructor(l,u,g){this.params=g,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const v="string"==typeof l?document.getElementById(l):l;ge(v,"argument-error",{appName:u}),this.container=v,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Pb(p){const l=[],u="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<p;g++)l.push(u.charAt(Math.floor(62*Math.random())));return l.join("")}(50);const{callback:l,"expired-callback":u}=this.params;if(l)try{l(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,u)try{u()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const fd=C_("rcb"),Nb=new Xi(3e4,6e4);class PS{constructor(){var l;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(l=rr().grecaptcha)||void 0===l||!l.render)}load(l,u=""){return ge(function Ob(p){return p.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(p)}(u),l,"argument-error"),this.shouldResolveImmediately(u)&&U(rr().grecaptcha)?Promise.resolve(rr().grecaptcha):new Promise((g,v)=>{const w=rr().setTimeout(()=>{v(zt(l,"network-request-failed"))},Nb.get());rr()[fd]=()=>{rr().clearTimeout(w),delete rr()[fd];const W=rr().grecaptcha;if(!W||!U(W))return void v(zt(l,"internal-error"));const le=W.render;W.render=(Re,ze)=>{const $e=le(Re,ze);return this.counter++,$e},this.hostLanguage=u,g(W)},T_(`${function uS(){return ju.recaptchaV2Script}()}?${(0,se.Am)({onload:fd,render:"explicit",hl:u})}`).catch(()=>{clearTimeout(w),v(zt(l,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(l){var u;return!(null===(u=rr().grecaptcha)||void 0===u||!u.render)&&(l===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class kr{load(l){return(0,C.A)(function*(){return new Mb(l)})()}clearedOneInstance(){}}const hp="recaptcha",xb={theme:"light",type:"image"};class kb{constructor(l,u,g=Object.assign({},xb)){this.parameters=g,this.type=hp,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Qt(l),this.isInvisible="invisible"===this.parameters.size,ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const v="string"==typeof u?document.getElementById(u):u;ge(v,this.auth,"argument-error"),this.container=v,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new kr:new PS,this.validateStartingState()}verify(){var l=this;return(0,C.A)(function*(){l.assertNotDestroyed();const u=yield l.render(),g=l.getAssertedRecaptcha();return g.getResponse(u)||new Promise(w=>{const P=W=>{W&&(l.tokenChangeListeners.delete(P),w(W))};l.tokenChangeListeners.add(P),l.isInvisible&&g.execute(u)})})()}render(){try{this.assertNotDestroyed()}catch(l){return Promise.reject(l)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(l=>{throw this.renderPromise=null,l})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(l=>{this.container.removeChild(l)})}validateStartingState(){ge(!this.parameters.sitekey,this.auth,"argument-error"),ge(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(l){return u=>{if(this.tokenChangeListeners.forEach(g=>g(u)),"function"==typeof l)l(u);else if("string"==typeof l){const g=rr()[l];"function"==typeof g&&g(u)}}}assertNotDestroyed(){ge(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var l=this;return(0,C.A)(function*(){if(yield l.init(),!l.widgetId){let u=l.container;if(!l.isInvisible){const g=document.createElement("div");u.appendChild(g),u=g}l.widgetId=l.getAssertedRecaptcha().render(u,l.parameters)}return l.widgetId})()}init(){var l=this;return(0,C.A)(function*(){ge(bi()&&!ml(),l.auth,"internal-error"),yield function ry(){let p=null;return new Promise(l=>{"complete"!==document.readyState?(p=()=>l(),window.addEventListener("load",p)):l()}).catch(l=>{throw p&&window.removeEventListener("load",p),l})}(),l.recaptcha=yield l._recaptchaLoader.load(l.auth,l.auth.languageCode||void 0);const u=yield function Ce(p){return De.apply(this,arguments)}(l.auth);ge(u,l.auth,"internal-error"),l.parameters.sitekey=u})()}getAssertedRecaptcha(){return ge(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class pd{constructor(l,u){this.verificationId=l,this.onConfirmation=u}confirm(l){const u=bo._fromVerification(this.verificationId,l);return this.onConfirmation(u)}}function bl(){return(bl=(0,C.A)(function*(p,l,u){if((0,Ue._isFirebaseServerApp)(p.app))return Promise.reject(Ze(p));const g=Qt(p),v=yield tn(g,l,(0,se.Ku)(u));return new pd(v,w=>id(g,w))})).apply(this,arguments)}function io(){return(io=(0,C.A)(function*(p,l,u){const g=(0,se.Ku)(p);yield rd(!1,g,"phone");const v=yield tn(g.auth,l,(0,se.Ku)(u));return new pd(v,w=>En(g,w))})).apply(this,arguments)}function gd(){return(gd=(0,C.A)(function*(p,l,u){const g=(0,se.Ku)(p);if((0,Ue._isFirebaseServerApp)(g.auth.app))return Promise.reject(Ze(g.auth));const v=yield tn(g.auth,l,(0,se.Ku)(u));return new pd(v,w=>V_(g,w))})).apply(this,arguments)}function tn(p,l,u){return Il.apply(this,arguments)}function Il(){return Il=(0,C.A)(function*(p,l,u){var g;const v=yield u.verify();try{let w;if(ge("string"==typeof v,p,"argument-error"),ge(u.type===hp,p,"argument-error"),w="string"==typeof l?{phoneNumber:l}:l,"session"in w){const P=w.session;if("phoneNumber"in w)return ge("enroll"===P.type,p,"internal-error"),(yield function TS(p,l){return te(p,"POST","/v2/accounts/mfaEnrollment:start",z(p,l))}(p,{idToken:P.credential,phoneEnrollmentInfo:{phoneNumber:w.phoneNumber,recaptchaToken:v}})).phoneSessionInfo.sessionInfo;{ge("signin"===P.type,p,"internal-error");const W=(null===(g=w.multiFactorHint)||void 0===g?void 0:g.uid)||w.multiFactorUid;return ge(W,p,"missing-multi-factor-info"),(yield function MS(p,l){return te(p,"POST","/v2/accounts/mfaSignIn:start",z(p,l))}(p,{mfaPendingCredential:P.credential,mfaEnrollmentId:W,phoneSignInInfo:{recaptchaToken:v}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:P}=yield function Za(p,l){return $f.apply(this,arguments)}(p,{phoneNumber:w.phoneNumber,recaptchaToken:v});return P}}finally{u._reset()}}),Il.apply(this,arguments)}function zr(){return(zr=(0,C.A)(function*(p,l){const u=(0,se.Ku)(p);if((0,Ue._isFirebaseServerApp)(u.auth.app))return Promise.reject(Ze(u.auth));yield qf(u,l)})).apply(this,arguments)}let wl=(()=>{class p{constructor(u){this.providerId=p.PROVIDER_ID,this.auth=Qt(u)}verifyPhoneNumber(u,g){return tn(this.auth,u,(0,se.Ku)(g))}static credential(u,g){return bo._fromVerification(u,g)}static credentialFromResult(u){return p.credentialFromTaggedObject(u)}static credentialFromError(u){return p.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{phoneNumber:g,temporaryProof:v}=u;return g&&v?bo._fromTokenResponse(g,v):null}}return p.PROVIDER_ID="phone",p.PHONE_SIGN_IN_METHOD="phone",p})();function Os(p,l){return l?Ve(l):(ge(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}class xs extends ia{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return cs(l,this._buildIdpRequest())}_linkToIdToken(l,u){return cs(l,this._buildIdpRequest(u))}_getReauthenticationResolver(l){return cs(l,this._buildIdpRequest())}_buildIdpRequest(l){const u={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(u.idToken=l),u}}function Gi(p){return Yf(p.auth,new xs(p),p.bypassAuthState)}function Lb(p){const{auth:l,user:u}=p;return ge(u,l,"internal-error"),F_(u,new xs(p),p.bypassAuthState)}function Bb(p){return fp.apply(this,arguments)}function fp(){return(fp=(0,C.A)(function*(p){const{auth:l,user:u}=p;return ge(u,l,"internal-error"),qf(u,new xs(p),p.bypassAuthState)})).apply(this,arguments)}class us{constructor(l,u,g,v,w=!1){this.auth=l,this.resolver=g,this.user=v,this.bypassAuthState=w,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(u)?u:[u]}execute(){var l=this;return new Promise(function(){var u=(0,C.A)(function*(g,v){l.pendingPromise={resolve:g,reject:v};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch(w){l.reject(w)}});return function(g,v){return u.apply(this,arguments)}}())}onAuthEvent(l){var u=this;return(0,C.A)(function*(){const{urlResponse:g,sessionId:v,postBody:w,tenantId:P,error:W,type:le}=l;if(W)return void u.reject(W);const Re={auth:u.auth,requestUri:g,sessionId:v,tenantId:P||void 0,postBody:w||void 0,user:u.user,bypassAuthState:u.bypassAuthState};try{u.resolve(yield u.getIdpTask(le)(Re))}catch(ze){u.reject(ze)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return Gi;case"linkViaPopup":case"linkViaRedirect":return Bb;case"reauthViaPopup":case"reauthViaRedirect":return Lb;default:wt(this.auth,"internal-error")}}resolve(l){Zt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){Zt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const oy=new Xi(2e3,1e4);function _d(){return(_d=(0,C.A)(function*(p,l,u){if((0,Ue._isFirebaseServerApp)(p.app))return Promise.reject(zt(p,"operation-not-supported-in-this-environment"));const g=Qt(p);Un(p,l,_r);const v=Os(g,u);return new vd(g,"signInViaPopup",l,v).executeNotNull()})).apply(this,arguments)}function yd(){return(yd=(0,C.A)(function*(p,l,u){const g=(0,se.Ku)(p);if((0,Ue._isFirebaseServerApp)(g.auth.app))return Promise.reject(zt(g.auth,"operation-not-supported-in-this-environment"));Un(g.auth,l,_r);const v=Os(g.auth,u);return new vd(g.auth,"reauthViaPopup",l,v,g).executeNotNull()})).apply(this,arguments)}function ot(){return(ot=(0,C.A)(function*(p,l,u){const g=(0,se.Ku)(p);Un(g.auth,l,_r);const v=Os(g.auth,u);return new vd(g.auth,"linkViaPopup",l,v,g).executeNotNull()})).apply(this,arguments)}let vd=(()=>{class p extends us{constructor(u,g,v,w,P){super(u,g,w,P),this.provider=v,this.authWindow=null,this.pollId=null,p.currentPopupAction&&p.currentPopupAction.cancel(),p.currentPopupAction=this}executeNotNull(){var u=this;return(0,C.A)(function*(){const g=yield u.execute();return ge(g,u.auth,"internal-error"),g})()}onExecution(){var u=this;return(0,C.A)(function*(){Zt(1===u.filter.length,"Popup operations only handle one event");const g=sc();u.authWindow=yield u.resolver._openPopup(u.auth,u.provider,u.filter[0],g),u.authWindow.associatedEvent=g,u.resolver._originValidation(u.auth).catch(v=>{u.reject(v)}),u.resolver._isIframeWebStorageSupported(u.auth,v=>{v||u.reject(zt(u.auth,"web-storage-unsupported"))}),u.pollUserCancellation()})()}get eventId(){var u;return(null===(u=this.authWindow)||void 0===u?void 0:u.associatedEvent)||null}cancel(){this.reject(zt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,p.currentPopupAction=null}pollUserCancellation(){const u=()=>{var g,v;this.pollId=null!==(v=null===(g=this.authWindow)||void 0===g?void 0:g.window)&&void 0!==v&&v.closed?window.setTimeout(()=>{this.pollId=null,this.reject(zt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(u,oy.get())};u()}}return p.currentPopupAction=null,p})();const NS="pendingRedirect",El=new Map;class Hb extends us{constructor(l,u,g=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],u,void 0,g),this.eventId=null}execute(){var l=()=>super.execute,u=this;return(0,C.A)(function*(){let g=El.get(u.auth._key());if(!g){try{const w=(yield function $b(p,l){return bd.apply(this,arguments)}(u.resolver,u.auth))?yield l().call(u):null;g=()=>Promise.resolve(w)}catch(v){g=()=>Promise.reject(v)}El.set(u.auth._key(),g)}return u.bypassAuthState||El.set(u.auth._key(),()=>Promise.resolve(null)),g()})()}onAuthEvent(l){var u=()=>super.onAuthEvent,g=this;return(0,C.A)(function*(){if("signInViaRedirect"===l.type)return u().call(g,l);if("unknown"!==l.type){if(l.eventId){const v=yield g.auth._redirectUserForId(l.eventId);if(v)return g.user=v,u().call(g,l);g.resolve(null)}}else g.resolve(null)})()}onExecution(){return(0,C.A)(function*(){})()}cleanUp(){}}function bd(){return(bd=(0,C.A)(function*(p,l){const u=cy(l),g=ay(p);if(!(yield g._isAvailable()))return!1;const v="true"===(yield g._get(u));return yield g._remove(u),v})).apply(this,arguments)}function ks(p,l){return pp.apply(this,arguments)}function pp(){return(pp=(0,C.A)(function*(p,l){return ay(p)._set(cy(l),"true")})).apply(this,arguments)}function gp(p,l){El.set(p._key(),l)}function ay(p){return Ve(p._redirectPersistence)}function cy(p){return et(NS,p.config.apiKey,p.name)}function me(p,l,u){return function Bt(p,l,u){return Ar.apply(this,arguments)}(p,l,u)}function Ar(){return(Ar=(0,C.A)(function*(p,l,u){if((0,Ue._isFirebaseServerApp)(p.app))return Promise.reject(Ze(p));const g=Qt(p);Un(p,l,_r),yield g._initializationPromise;const v=Os(g,u);return yield ks(v,g),v._openRedirect(g,l,"signInViaRedirect")})).apply(this,arguments)}function Wr(p,l,u){return function Fr(p,l,u){return Id.apply(this,arguments)}(p,l,u)}function Id(){return(Id=(0,C.A)(function*(p,l,u){const g=(0,se.Ku)(p);if(Un(g.auth,l,_r),(0,Ue._isFirebaseServerApp)(g.auth.app))return Promise.reject(Ze(g.auth));yield g.auth._initializationPromise;const v=Os(g.auth,u);yield ks(v,g.auth);const w=yield qr(g);return v._openRedirect(g.auth,l,"reauthViaRedirect",w)})).apply(this,arguments)}function Tl(p,l,u){return function Go(p,l,u){return Cl.apply(this,arguments)}(p,l,u)}function Cl(){return(Cl=(0,C.A)(function*(p,l,u){const g=(0,se.Ku)(p);Un(g.auth,l,_r),yield g.auth._initializationPromise;const v=Os(g.auth,u);yield rd(!1,g,l.providerId),yield ks(v,g.auth);const w=yield qr(g);return v._openRedirect(g.auth,l,"linkViaRedirect",w)})).apply(this,arguments)}function _p(){return(_p=(0,C.A)(function*(p,l){return yield Qt(p)._initializationPromise,yp(p,l,!1)})).apply(this,arguments)}function yp(p,l){return wd.apply(this,arguments)}function wd(){return(wd=(0,C.A)(function*(p,l,u=!1){if((0,Ue._isFirebaseServerApp)(p.app))return Promise.reject(Ze(p));const g=Qt(p),v=Os(g,l),P=yield new Hb(g,v,u).execute();return P&&!u&&(delete P.user._redirectEventId,yield g._persistUserIfCurrent(P.user),yield g._setRedirectUser(null,l)),P})).apply(this,arguments)}function qr(p){return wo.apply(this,arguments)}function wo(){return(wo=(0,C.A)(function*(p){const l=sc(`${p.uid}:::`);return p._redirectEventId=l,yield p.auth._setRedirectUser(p),yield p.auth._persistUserIfCurrent(p),l})).apply(this,arguments)}class ha{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let u=!1;return this.consumers.forEach(g=>{this.isEventForConsumer(l,g)&&(u=!0,this.sendToConsumer(l,g),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function dy(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uy(p);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,u||(this.queuedRedirectEvent=l,u=!0)),u}sendToConsumer(l,u){var g;if(l.error&&!uy(l)){const v=(null===(g=l.error.code)||void 0===g?void 0:g.split("auth/")[1])||"internal-error";u.onError(zt(this.auth,v))}else u.onAuthEvent(l)}isEventForConsumer(l,u){const g=null===u.eventId||!!l.eventId&&l.eventId===u.eventId;return u.filter.includes(l.type)&&g}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zo(l))}saveEventToCache(l){this.cachedEventUids.add(zo(l)),this.lastProcessedEventTime=Date.now()}}function zo(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(l=>l).join("-")}function uy({type:p,error:l}){return"unknown"===p&&"auth/no-auth-event"===l?.code}function hy(p){return vp.apply(this,arguments)}function vp(){return(vp=(0,C.A)(function*(p,l={}){return te(p,"GET","/v1/projects",l)})).apply(this,arguments)}const bp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ip=/^https?/;function Dl(){return(Dl=(0,C.A)(function*(p){if(p.config.emulator)return;const{authorizedDomains:l}=yield hy(p);for(const u of l)try{if(zb(u))return}catch{}wt(p,"unauthorized-domain")})).apply(this,arguments)}function zb(p){const l=Gr(),{protocol:u,hostname:g}=new URL(l);if(p.startsWith("chrome-extension://")){const P=new URL(p);return""===P.hostname&&""===g?"chrome-extension:"===u&&p.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===u&&P.hostname===g}if(!Ip.test(u))return!1;if(bp.test(p))return g===p;const v=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+v+"|"+v+")$","i").test(g)}const py=new Xi(3e4,6e4);function Ed(){const p=rr().___jsl;if(p?.H)for(const l of Object.keys(p.H))if(p.H[l].r=p.H[l].r||[],p.H[l].L=p.H[l].L||[],p.H[l].r=[...p.H[l].L],p.CP)for(let u=0;u<p.CP.length;u++)p.CP[u]=null}let Al=null;const _y=new Xi(5e3,15e3),wp="__/auth/iframe",Wb="emulator/auth/iframe",qb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fa(p){const l=p.config;ge(l.authDomain,p,"auth-domain-config-required");const u=l.emulator?yo(l,Wb):`https://${p.config.authDomain}/${wp}`,g={apiKey:l.apiKey,appName:p.name,v:Ue.SDK_VERSION},v=oi.get(p.config.apiHost);v&&(g.eid=v);const w=p._getFrameworks();return w.length&&(g.fw=w.join(",")),`${u}?${(0,se.Am)(g).slice(1)}`}function Kr(){return Kr=(0,C.A)(function*(p){const l=yield function my(p){return Al=Al||function gy(p){return new Promise((l,u)=>{var g,v,w;function P(){Ed(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{Ed(),u(zt(p,"network-request-failed"))},timeout:py.get()})}if(null!==(v=null===(g=rr().gapi)||void 0===g?void 0:g.iframes)&&void 0!==v&&v.Iframe)l(gapi.iframes.getContext());else{if(null===(w=rr().gapi)||void 0===w||!w.load){const W=C_("iframefcb");return rr()[W]=()=>{gapi.load?P():u(zt(p,"network-request-failed"))},T_(`${function dS(){return ju.gapiScript}()}?onload=${W}`).catch(le=>u(le))}P()}}).catch(l=>{throw Al=null,l})}(p),Al}(p),u=rr().gapi;return ge(u,p,"internal-error"),l.open({where:document.body,url:fa(p),messageHandlersFilter:u.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qb,dontclear:!0},g=>new Promise(function(){var v=(0,C.A)(function*(w,P){yield g.restyle({setHideOnLeave:!1});const W=zt(p,"network-request-failed"),le=rr().setTimeout(()=>{P(W)},_y.get());function Re(){rr().clearTimeout(le),w(g)}g.ping(Re).then(Re,()=>{P(W)})});return function(w,P){return v.apply(this,arguments)}}()))}),Kr.apply(this,arguments)}const Kb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Sl{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Td="__/auth/handler",Cd="emulator/auth/handler",Dd=encodeURIComponent("fac");function Rl(p,l,u,g,v,w){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,C.A)(function*(p,l,u,g,v,w){ge(p.config.authDomain,p,"auth-domain-config-required"),ge(p.config.apiKey,p,"invalid-api-key");const P={apiKey:p.config.apiKey,appName:p.name,authType:u,redirectUrl:g,v:Ue.SDK_VERSION,eventId:v};if(l instanceof _r){l.setDefaultLanguage(p.languageCode),P.providerId=l.providerId||"",(0,se.Im)(l.getCustomParameters())||(P.customParameters=JSON.stringify(l.getCustomParameters()));for(const[ze,$e]of Object.entries(w||{}))P[ze]=$e}if(l instanceof ni){const ze=l.getScopes().filter($e=>""!==$e);ze.length>0&&(P.scopes=ze.join(","))}p.tenantId&&(P.tid=p.tenantId);const W=P;for(const ze of Object.keys(W))void 0===W[ze]&&delete W[ze];const le=yield p._getAppCheckToken(),Re=le?`#${Dd}=${encodeURIComponent(le)}`:"";return`${function by({config:p}){return p.emulator?yo(p,Cd):`https://${p.authDomain}/${Td}`}(p)}?${(0,se.Am)(W).slice(1)}${Re}`})).apply(this,arguments)}const Ep="webStorageSupport",lc=class cc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xn,this._completeRedirectFn=yp,this._overrideRedirectResult=gp}_openPopup(l,u,g,v){var w=this;return(0,C.A)(function*(){var P;Zt(null===(P=w.eventManagers[l._key()])||void 0===P?void 0:P.manager,"_initialize() not called before _openPopup()");const W=yield Rl(l,u,g,Gr(),v);return function Fs(p,l,u,g=500,v=600){const w=Math.max((window.screen.availHeight-v)/2,0).toString(),P=Math.max((window.screen.availWidth-g)/2,0).toString();let W="";const le=Object.assign(Object.assign({},Kb),{width:g.toString(),height:v.toString(),top:w,left:P}),Re=(0,se.ZQ)().toLowerCase();u&&(W=_t(Re)?"_blank":u),Or(Re)&&(l=l||"http://localhost",le.scrollbars="yes");const ze=Object.entries(le).reduce((Gn,[Eo,wa])=>`${Gn}${Eo}=${wa},`,"");if(function ne(p=(0,se.ZQ)()){var l;return as(p)&&!(null===(l=window.navigator)||void 0===l||!l.standalone)}(Re)&&"_self"!==W)return function Yb(p,l){const u=document.createElement("a");u.href=p,u.target=l;const g=document.createEvent("MouseEvent");g.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),u.dispatchEvent(g)}(l||"",W),new Sl(null);const $e=window.open(l||"",W,ze);ge($e,p,"popup-blocked");try{$e.focus()}catch{}return new Sl($e)}(l,W,sc())})()}_openRedirect(l,u,g,v){var w=this;return(0,C.A)(function*(){return yield w._originValidation(l),function q_(p){rr().location.href=p}(yield Rl(l,u,g,Gr(),v)),new Promise(()=>{})})()}_initialize(l){const u=l._key();if(this.eventManagers[u]){const{manager:v,promise:w}=this.eventManagers[u];return v?Promise.resolve(v):(Zt(w,"If manager is not set, promise should be"),w)}const g=this.initAndGetManager(l);return this.eventManagers[u]={promise:g},g.catch(()=>{delete this.eventManagers[u]}),g}initAndGetManager(l){var u=this;return(0,C.A)(function*(){const g=yield function Hn(p){return Kr.apply(this,arguments)}(l),v=new ha(l);return g.register("authEvent",w=>(ge(w?.authEvent,l,"invalid-auth-event"),{status:v.onEvent(w.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),u.eventManagers[l._key()]={manager:v},u.iframes[l._key()]=g,v})()}_isIframeWebStorageSupported(l,u){this.iframes[l._key()].send(Ep,{type:Ep},v=>{var w;const P=null===(w=v?.[0])||void 0===w?void 0:w[Ep];void 0!==P&&u(!!P),wt(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const u=l._key();return this.originValidationPromises[u]||(this.originValidationPromises[u]=function fy(p){return Dl.apply(this,arguments)}(l)),this.originValidationPromises[u]}get _shouldInitProactively(){return X()||ss()||as()}};class Iy{constructor(l){this.factorId=l}_process(l,u,g){switch(u.type){case"enroll":return this._finalizeEnroll(l,u.credential,g);case"signin":return this._finalizeSignIn(l,u.credential);default:return yn("unexpected MultiFactorSessionType")}}}class wy extends Iy{constructor(l){super("phone"),this.credential=l}static _fromCredential(l){return new wy(l)}_finalizeEnroll(l,u,g){return function CS(p,l){return te(p,"POST","/v2/accounts/mfaEnrollment:finalize",z(p,l))}(l,{idToken:u,displayName:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(l,u){return function Sb(p,l){return te(p,"POST","/v2/accounts/mfaSignIn:finalize",z(p,l))}(l,{mfaPendingCredential:u,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Tp=(()=>{class p{constructor(){}static assertion(u){return wy._fromCredential(u)}}return p.FACTOR_ID="phone",p})();var Jb="@firebase/auth";class Ml{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var u=this;return(0,C.A)(function*(){return u.assertAuthConfigured(),yield u.auth._initializationPromise,u.auth.currentUser?{accessToken:yield u.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const u=this.auth.onIdTokenChanged(g=>{l(g?.stsTokenManager.accessToken||null)});this.internalListeners.set(l,u),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const u=this.internalListeners.get(l);u&&(this.internalListeners.delete(l),u(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Qr(){return window}(0,se.XA)("authIdTokenMaxAge"),function lS(p){ju=p}({loadJS:p=>new Promise((l,u)=>{const g=document.createElement("script");g.setAttribute("src",p),g.onload=l,g.onerror=v=>{const w=zt("internal-error");w.customData=v,u(w)},g.type="text/javascript",g.charset="UTF-8",function tI(){var p,l;return null!==(l=null===(p=document.getElementsByTagName("head"))||void 0===p?void 0:p[0])&&void 0!==l?l:document}().appendChild(g)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Pl(p){(0,Ue._registerComponent)(new In.uA("auth",(l,{options:u})=>{const g=l.getProvider("app").getImmediate(),v=l.getProvider("heartbeat"),w=l.getProvider("app-check-internal"),{apiKey:P,authDomain:W}=g.options;ge(P&&!P.includes(":"),"invalid-api-key",{appName:g.name});const le={apiKey:P,authDomain:W,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ke(p)},Re=new Bi(g,v,w,le);return function _b(p,l){const u=l?.persistence||[],g=(Array.isArray(u)?u:[u]).map(Ve);l?.errorMap&&p._updateErrorMap(l.errorMap),p._initializeWithPersistence(g,l?.popupRedirectResolver)}(Re,u),Re},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,u,g)=>{l.getProvider("auth-internal").initialize()})),(0,Ue._registerComponent)(new In.uA("auth-internal",l=>{const u=Qt(l.getProvider("auth").getImmediate());return new Ml(u)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ue.registerVersion)(Jb,"1.7.9",function Zb(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(p)),(0,Ue.registerVersion)(Jb,"1.7.9","esm2017")}("Browser");function Nl(){return Nl=(0,C.A)(function*(p,l,u){var g;const{BuildInfo:v}=Qr();Zt(l.sessionId,"AuthEvent did not contain a session ID");const w=yield function Ay(p){return Nd.apply(this,arguments)}(l.sessionId),P={};return as()?P.ibi=v.packageName:Bo()?P.apn=v.packageName:wt(p,"operation-not-supported-in-this-environment"),v.displayName&&(P.appDisplayName=v.displayName),P.sessionId=w,Rl(p,u,l.type,void 0,null!==(g=l.eventId)&&void 0!==g?g:void 0,P)}),Nl.apply(this,arguments)}function uc(){return(uc=(0,C.A)(function*(p){const{BuildInfo:l}=Qr(),u={};as()?u.iosBundleId=l.packageName:Bo()?u.androidPackageName=l.packageName:wt(p,"operation-not-supported-in-this-environment"),yield hy(p,u)})).apply(this,arguments)}function Pd(){return(Pd=(0,C.A)(function*(p,l,u){const{cordova:g}=Qr();let v=()=>{};try{yield new Promise((w,P)=>{let W=null;function le(){var $e;w();const Gn=null===($e=g.plugins.browsertab)||void 0===$e?void 0:$e.close;"function"==typeof Gn&&Gn(),"function"==typeof u?.close&&u.close()}function Re(){W||(W=window.setTimeout(()=>{P(zt(p,"redirect-cancelled-by-user"))},2e3))}function ze(){"visible"===document?.visibilityState&&Re()}l.addPassiveListener(le),document.addEventListener("resume",Re,!1),Bo()&&document.addEventListener("visibilitychange",ze,!1),v=()=>{l.removePassiveListener(le),document.removeEventListener("resume",Re,!1),document.removeEventListener("visibilitychange",ze,!1),W&&window.clearTimeout(W)}})}finally{v()}})).apply(this,arguments)}function Nd(){return(Nd=(0,C.A)(function*(p){const l=function iI(p){if(Zt(/[0-9a-zA-Z]+/.test(p),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(p);const l=new ArrayBuffer(p.length),u=new Uint8Array(l);for(let g=0;g<p.length;g++)u[g]=p.charCodeAt(g);return u}(p),u=yield crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(u)).map(v=>v.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class pa extends ha{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(l=>{this.resolveInitialized=l})}addPassiveListener(l){this.passiveListeners.add(l)}removePassiveListener(l){this.passiveListeners.delete(l)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(l){return this.resolveInitialized(),this.passiveListeners.forEach(u=>u(l)),super.onEvent(l)}initialized(){var l=this;return(0,C.A)(function*(){yield l.initPromise})()}}function Rp(p){return ga.apply(this,arguments)}function ga(){return(ga=(0,C.A)(function*(p){const l=yield Mp()._get($n(p));return l&&(yield Mp()._remove($n(p))),l})).apply(this,arguments)}function si(){const p=[];for(let u=0;u<20;u++){const g=Math.floor(62*Math.random());p.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(g))}return p.join("")}function Mp(){return Ve(sp)}function $n(p){return et("authEvent",p.config.apiKey,p.name)}function Ol(p){if(!p?.includes("?"))return{};const[l,...u]=p.split("?");return(0,se.I9)(u.join("?"))}const hc=class dc{constructor(){this._redirectPersistence=xn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=yp,this._overrideRedirectResult=gp}_initialize(l){var u=this;return(0,C.A)(function*(){const g=l._key();let v=u.eventManagers.get(g);return v||(v=new pa(l),u.eventManagers.set(g,v),u.attachCallbackListeners(l,v)),v})()}_openPopup(l){wt(l,"operation-not-supported-in-this-environment")}_openRedirect(l,u,g,v){var w=this;return(0,C.A)(function*(){!function Dy(p){var l,u,g,v,w,P,W,le,Re,ze;const $e=Qr();ge("function"==typeof(null===(l=$e?.universalLinks)||void 0===l?void 0:l.subscribe),p,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ge(typeof(null===(u=$e?.BuildInfo)||void 0===u?void 0:u.packageName)<"u",p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ge("function"==typeof(null===(w=null===(v=null===(g=$e?.cordova)||void 0===g?void 0:g.plugins)||void 0===v?void 0:v.browsertab)||void 0===w?void 0:w.openUrl),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ge("function"==typeof(null===(le=null===(W=null===(P=$e?.cordova)||void 0===P?void 0:P.plugins)||void 0===W?void 0:W.browsertab)||void 0===le?void 0:le.isAvailable),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ge("function"==typeof(null===(ze=null===(Re=$e?.cordova)||void 0===Re?void 0:Re.InAppBrowser)||void 0===ze?void 0:ze.open),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(l);const P=yield w._initialize(l);yield P.initialized(),P.resetRedirect(),function Gb(){El.clear()}(),yield w._originValidation(l);const W=function oI(p,l,u=null){return{type:l,eventId:u,urlResponse:null,sessionId:si(),postBody:null,tenantId:p.tenantId,error:zt(p,"no-auth-event")}}(l,g,v);yield function Sy(p,l){return Mp()._set($n(p),l)}(l,W);const le=yield function Md(p,l,u){return Nl.apply(this,arguments)}(l,W,u),Re=yield function Sp(p){const{cordova:l}=Qr();return new Promise(u=>{l.plugins.browsertab.isAvailable(g=>{let v=null;g?l.plugins.browsertab.openUrl(p):v=l.InAppBrowser.open(p,function be(p=(0,se.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(p)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(p)}()?"_blank":"_system","location=yes"),u(v)})})}(le);return function rI(p,l,u){return Pd.apply(this,arguments)}(l,P,Re)})()}_isIframeWebStorageSupported(l,u){throw new Error("Method not implemented.")}_originValidation(l){const u=l._key();return this.originValidationPromises[u]||(this.originValidationPromises[u]=function Cy(p){return uc.apply(this,arguments)}(l)),this.originValidationPromises[u]}attachCallbackListeners(l,u){const{universalLinks:g,handleOpenURL:v,BuildInfo:w}=Qr(),P=setTimeout((0,C.A)(function*(){yield Rp(l),u.onEvent(_a())}),500),W=function(){var ze=(0,C.A)(function*($e){clearTimeout(P);const Gn=yield Rp(l);let Eo=null;Gn&&$e?.url&&(Eo=function sI(p,l){var u,g;const v=function aI(p){const l=Ol(p),u=l.link?decodeURIComponent(l.link):void 0,g=Ol(u).link,v=l.deep_link_id?decodeURIComponent(l.deep_link_id):void 0;return Ol(v).link||v||g||u||p}(l);if(v.includes("/__/auth/callback")){const w=Ol(v),P=w.firebaseError?function Pp(p){try{return JSON.parse(p)}catch{return null}}(decodeURIComponent(w.firebaseError)):null,W=null===(g=null===(u=P?.code)||void 0===u?void 0:u.split("auth/"))||void 0===g?void 0:g[1],le=W?zt(W):null;return le?{type:p.type,eventId:p.eventId,tenantId:p.tenantId,error:le,urlResponse:null,sessionId:null,postBody:null}:{type:p.type,eventId:p.eventId,tenantId:p.tenantId,sessionId:p.sessionId,urlResponse:v,postBody:null}}return null}(Gn,$e.url)),u.onEvent(Eo||_a())});return function(Gn){return ze.apply(this,arguments)}}();typeof g<"u"&&"function"==typeof g.subscribe&&g.subscribe(null,W);const le=v,Re=`${w.packageName.toLowerCase()}://`;Qr().handleOpenURL=function(){var ze=(0,C.A)(function*($e){if($e.toLowerCase().startsWith(Re)&&W({url:$e}),"function"==typeof le)try{le($e)}catch(Gn){console.error(Gn)}});return function($e){return ze.apply(this,arguments)}}()}};function _a(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:zt("no-auth-event")}}function xl(){var p;return(null===(p=self?.location)||void 0===p?void 0:p.protocol)||null}function cI(p=(0,se.ZQ)()){return!("file:"!==xl()&&"ionic:"!==xl()&&"capacitor:"!==xl()||!p.toLowerCase().match(/iphone|ipad|ipod|android/))}function ya(){try{const p=self.localStorage,l=sc();if(p)return p.setItem(l,"1"),p.removeItem(l),!function LS(p=(0,se.ZQ)()){return function FS(){return(0,se.lT)()&&11===document?.documentMode}()||function VS(p=(0,se.ZQ)()){return/Edge\/\d+/.test(p)}(p)}()||(0,se.zW)()}catch{return Op()&&(0,se.zW)()}return!1}function Op(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function xp(){return(function xS(){return"http:"===xl()||"https:"===xl()}()||(0,se.sr)()||cI())&&!function kS(){return(0,se.lV)()||(0,se.Ll)()}()&&ya()&&!Op()}function lr(){return cI()&&typeof document<"u"}function va(){return(va=(0,C.A)(function*(){return!!lr()&&new Promise(p=>{const l=setTimeout(()=>{p(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(l),p(!0)})})})).apply(this,arguments)}const kn={LOCAL:"local",NONE:"none",SESSION:"session"},Wo=ge,kp="persistence";function ba(p){return Fp.apply(this,arguments)}function Fp(){return(Fp=(0,C.A)(function*(p){yield p._initializationPromise;const l=My(),u=et(kp,p.config.apiKey,p.name);l&&l.setItem(u,p._getPersistence())})).apply(this,arguments)}function My(){var p;try{return(null===(p=function uI(){return typeof window<"u"?window:null}())||void 0===p?void 0:p.sessionStorage)||null}catch{return null}}const US=ge;class ur{constructor(){this.browserResolver=Ve(lc),this.cordovaResolver=Ve(hc),this.underlyingResolver=null,this._redirectPersistence=xn,this._completeRedirectFn=yp,this._overrideRedirectResult=gp}_initialize(l){var u=this;return(0,C.A)(function*(){return yield u.selectUnderlyingResolver(),u.assertedUnderlyingResolver._initialize(l)})()}_openPopup(l,u,g,v){var w=this;return(0,C.A)(function*(){return yield w.selectUnderlyingResolver(),w.assertedUnderlyingResolver._openPopup(l,u,g,v)})()}_openRedirect(l,u,g,v){var w=this;return(0,C.A)(function*(){return yield w.selectUnderlyingResolver(),w.assertedUnderlyingResolver._openRedirect(l,u,g,v)})()}_isIframeWebStorageSupported(l,u){this.assertedUnderlyingResolver._isIframeWebStorageSupported(l,u)}_originValidation(l){return this.assertedUnderlyingResolver._originValidation(l)}get _shouldInitProactively(){return lr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return US(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var l=this;return(0,C.A)(function*(){if(l.underlyingResolver)return;const u=yield function lI(){return va.apply(this,arguments)}();l.underlyingResolver=u?l.cordovaResolver:l.browserResolver})()}}function kd(p){return p.unwrap()}function jS(p){return Ny(p)}function Ny(p){const{_tokenResponse:l}=p instanceof se.g?p.customData:p;if(!l)return null;if(!(p instanceof se.g)&&"temporaryProof"in l&&"phoneNumber"in l)return wl.credentialFromResult(p);const u=l.providerId;if(!u||u===bt.PASSWORD)return null;let g;switch(u){case bt.GOOGLE:g=Yu;break;case bt.FACEBOOK:g=ll;break;case bt.GITHUB:g=Ju;break;case bt.TWITTER:g=zf;break;default:const{oauthIdToken:v,oauthAccessToken:w,oauthTokenSecret:P,pendingToken:W,nonce:le}=l;return w||P||v||W?W?u.startsWith("saml.")?Ci._create(u,W):vo._fromParams({providerId:u,signInMethod:u,pendingToken:W,idToken:v,accessToken:w}):new Rt(u).credential({idToken:v,accessToken:w,rawNonce:le}):null}return p instanceof se.g?g.credentialFromError(p):g.credentialFromResult(p)}function Ai(p,l){return l.catch(u=>{throw u instanceof se.g&&function Py(p,l){var u;const g=null===(u=l.customData)||void 0===u?void 0:u._tokenResponse;if("auth/multi-factor-auth-required"===l?.code)l.resolver=new dI(p,function ES(p,l){var u;const g=(0,se.Ku)(p),v=l;return ge(l.customData.operationType,g,"argument-error"),ge(null===(u=v.customData._serverResponse)||void 0===u?void 0:u.mfaPendingCredential,g,"argument-error"),$_._fromError(g,v)}(p,l));else if(g){const v=Ny(l),w=l;v&&(w.credential=v,w.tenantId=g.tenantId||void 0,w.email=g.email||void 0,w.phoneNumber=g.phoneNumber||void 0)}}(p,u),u}).then(u=>{const v=u.user;return{operationType:u.operationType,credential:jS(u),additionalUserInfo:ii(u),user:ds.getOrCreate(v)}})}function Vp(p,l){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,C.A)(function*(p,l){const u=yield l;return{verificationId:u.verificationId,confirm:g=>Ai(p,u.confirm(g))}})).apply(this,arguments)}class dI{constructor(l,u){this.resolver=u,this.auth=function pc(p){return p.wrapped()}(l)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(l){return Ai(kd(this.auth),this.resolver.resolveSignIn(l))}}class ds{constructor(l){this._delegate=l,this.multiFactor=function z_(p){const l=(0,se.Ku)(p);return ud.has(l)||ud.set(l,G_._fromUser(l)),ud.get(l)}(l)}static getOrCreate(l){return ds.USER_MAP.has(l)||ds.USER_MAP.set(l,new ds(l)),ds.USER_MAP.get(l)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(l){return this._delegate.getIdTokenResult(l)}getIdToken(l){return this._delegate.getIdToken(l)}linkAndRetrieveDataWithCredential(l){return this.linkWithCredential(l)}linkWithCredential(l){var u=this;return(0,C.A)(function*(){return Ai(u.auth,En(u._delegate,l))})()}linkWithPhoneNumber(l,u){var g=this;return(0,C.A)(function*(){return Vp(g.auth,function Vb(p,l,u){return io.apply(this,arguments)}(g._delegate,l,u))})()}linkWithPopup(l){var u=this;return(0,C.A)(function*(){return Ai(u.auth,function jb(p,l,u){return ot.apply(this,arguments)}(u._delegate,l,ur))})()}linkWithRedirect(l){var u=this;return(0,C.A)(function*(){return yield ba(Qt(u.auth)),Tl(u._delegate,l,ur)})()}reauthenticateAndRetrieveDataWithCredential(l){return this.reauthenticateWithCredential(l)}reauthenticateWithCredential(l){var u=this;return(0,C.A)(function*(){return Ai(u.auth,V_(u._delegate,l))})()}reauthenticateWithPhoneNumber(l,u){return Vp(this.auth,function iy(p,l,u){return gd.apply(this,arguments)}(this._delegate,l,u))}reauthenticateWithPopup(l){return Ai(this.auth,function sy(p,l,u){return yd.apply(this,arguments)}(this._delegate,l,ur))}reauthenticateWithRedirect(l){var u=this;return(0,C.A)(function*(){return yield ba(Qt(u.auth)),Wr(u._delegate,l,ur)})()}sendEmailVerification(l){return function rc(p,l){return no.apply(this,arguments)}(this._delegate,l)}unlink(l){var u=this;return(0,C.A)(function*(){return yield function Ib(p,l){return ji.apply(this,arguments)}(u._delegate,l),u})()}updateEmail(l){return function Mt(p,l){const u=(0,se.Ku)(p);return(0,Ue._isFirebaseServerApp)(u.auth.app)?Promise.reject(Ze(u.auth)):cd(u,l,null)}(this._delegate,l)}updatePassword(l){return function yS(p,l){return cd((0,se.Ku)(p),null,l)}(this._delegate,l)}updatePhoneNumber(l){return function md(p,l){return zr.apply(this,arguments)}(this._delegate,l)}updateProfile(l){return function pl(p,l){return aa.apply(this,arguments)}(this._delegate,l)}verifyBeforeUpdateEmail(l,u){return function fl(p,l,u){return ad.apply(this,arguments)}(this._delegate,l,u)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ds.USER_MAP=new WeakMap;const Ia=ge;let kl=(()=>{class p{constructor(u,g){if(this.app=u,g.isInitialized())return this._delegate=g.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:v}=u.options;Ia(v,"invalid-api-key",{appName:u.name}),Ia(v,"invalid-api-key",{appName:u.name});const w=typeof window<"u"?ur:void 0;this._delegate=g.initialize({options:{persistence:Fl(v,u.name),popupRedirectResolver:w}}),this._delegate._updateErrorMap(Bn),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ds.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(u){this._delegate.languageCode=u}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(u){this._delegate.tenantId=u}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(u,g){!function kf(p,l,u){const g=Qt(p);ge(g._canInitEmulator,g,"emulator-config-failed"),ge(/^https?:\/\//.test(l),g,"invalid-emulator-scheme");const v=!!u?.disableWarnings,w=A_(l),{host:P,port:W}=function Gu(p){const l=A_(p),u=/(\/\/)?([^?#/]+)/.exec(p.substr(l.length));if(!u)return{host:"",port:null};const g=u[2].split("@").pop()||"",v=/^(\[[^\]]+\])(:|$)/.exec(g);if(v){const w=v[1];return{host:w,port:rl(g.substr(w.length+1))}}{const[w,P]=g.split(":");return{host:w,port:rl(P)}}}(l);g.config.emulator={url:`${w}//${P}${null===W?"":`:${W}`}/`},g.settings.appVerificationDisabledForTesting=!0,g.emulatorConfig=Object.freeze({host:P,port:W,protocol:w.replace(":",""),options:Object.freeze({disableWarnings:v})}),v||function Ff(){function p(){const l=document.createElement("p"),u=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",u.position="fixed",u.width="100%",u.backgroundColor="#ffffff",u.border=".1em solid #000000",u.color="#b50000",u.bottom="0px",u.left="0px",u.margin="0px",u.zIndex="10000",u.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}()}(this._delegate,u,g)}applyActionCode(u){return function wb(p,l){return Nn.apply(this,arguments)}(this._delegate,u)}checkActionCode(u){return Le(this._delegate,u)}confirmPasswordReset(u,g){return function sd(p,l,u){return np.apply(this,arguments)}(this._delegate,u,g)}createUserWithEmailAndPassword(u,g){var v=this;return(0,C.A)(function*(){return Ai(v._delegate,function hl(p,l,u){return Dr.apply(this,arguments)}(v._delegate,u,g))})()}fetchProvidersForEmail(u){return this.fetchSignInMethodsForEmail(u)}fetchSignInMethodsForEmail(u){return function nr(p,l){return sa.apply(this,arguments)}(this._delegate,u)}isSignInWithEmailLink(u){return function nc(p,l){const u=cl.parseLink(l);return"EMAIL_SIGNIN"===u?.operation}(0,u)}getRedirectResult(){var u=this;return(0,C.A)(function*(){Ia(xp(),u._delegate,"operation-not-supported-in-this-environment");const g=yield function mp(p,l){return _p.apply(this,arguments)}(u._delegate,ur);return g?Ai(u._delegate,Promise.resolve(g)):{credential:null,user:null}})()}addFrameworkForLogging(u){!function Ry(p,l){Qt(p)._logFramework(l)}(this._delegate,u)}onAuthStateChanged(u,g,v){const{next:w,error:P,complete:W}=Oy(u,g,v);return this._delegate.onAuthStateChanged(w,P,W)}onIdTokenChanged(u,g,v){const{next:w,error:P,complete:W}=Oy(u,g,v);return this._delegate.onIdTokenChanged(w,P,W)}sendSignInLinkToEmail(u,g){return function tr(p,l,u){return jo.apply(this,arguments)}(this._delegate,u,g)}sendPasswordResetEmail(u,g){return function B_(p,l,u){return od.apply(this,arguments)}(this._delegate,u,g||void 0)}setPersistence(u){var g=this;return(0,C.A)(function*(){let v;switch(function xd(p,l){Wo(Object.values(kn).includes(l),p,"invalid-persistence-type"),(0,se.lV)()?Wo(l!==kn.SESSION,p,"unsupported-persistence-type"):(0,se.Ll)()?Wo(l===kn.NONE,p,"unsupported-persistence-type"):Op()?Wo(l===kn.NONE||l===kn.LOCAL&&(0,se.zW)(),p,"unsupported-persistence-type"):Wo(l===kn.NONE||ya(),p,"unsupported-persistence-type")}(g._delegate,u),u){case kn.SESSION:v=xn;break;case kn.LOCAL:v=(yield Ve(vl)._isAvailable())?vl:sp;break;case kn.NONE:v=cr;break;default:return wt("argument-error",{appName:g._delegate.name})}return g._delegate.setPersistence(v)})()}signInAndRetrieveDataWithCredential(u){return this.signInWithCredential(u)}signInAnonymously(){return Ai(this._delegate,function x_(p){return ed.apply(this,arguments)}(this._delegate))}signInWithCredential(u){return Ai(this._delegate,id(this._delegate,u))}signInWithCustomToken(u){return Ai(this._delegate,function L_(p,l){return Se.apply(this,arguments)}(this._delegate,u))}signInWithEmailAndPassword(u,g){return Ai(this._delegate,function tc(p,l,u){return(0,Ue._isFirebaseServerApp)(p.app)?Promise.reject(Ze(p)):id((0,se.Ku)(p),Xa.credential(l,u)).catch(function(){var g=(0,C.A)(function*(v){throw"auth/password-does-not-meet-requirements"===v.code&&Ms(p),v});return function(v){return g.apply(this,arguments)}}())}(this._delegate,u,g))}signInWithEmailLink(u,g){return Ai(this._delegate,function dt(p,l,u){return oa.apply(this,arguments)}(this._delegate,u,g))}signInWithPhoneNumber(u,g){return Vp(this._delegate,function Fb(p,l,u){return bl.apply(this,arguments)}(this._delegate,u,g))}signInWithPopup(u){var g=this;return(0,C.A)(function*(){return Ia(xp(),g._delegate,"operation-not-supported-in-this-environment"),Ai(g._delegate,function Ub(p,l,u){return _d.apply(this,arguments)}(g._delegate,u,ur))})()}signInWithRedirect(u){var g=this;return(0,C.A)(function*(){return Ia(xp(),g._delegate,"operation-not-supported-in-this-environment"),yield ba(g._delegate),me(g._delegate,u,ur)})()}updateCurrentUser(u){return this._delegate.updateCurrentUser(u)}verifyPasswordResetCode(u){return function On(p,l){return Hi.apply(this,arguments)}(this._delegate,u)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return p.Persistence=kn,p})();function Oy(p,l,u){let g=p;"function"!=typeof p&&({next:g,error:l,complete:u}=p);const v=g;return{next:P=>v(P&&ds.getOrCreate(P)),error:l,complete:u}}function Fl(p,l){const u=function BS(p,l){const u=My();if(!u)return[];const g=et(kp,p,l);switch(u.getItem(g)){case kn.NONE:return[cr];case kn.LOCAL:return[vl,xn];case kn.SESSION:return[xn];default:return[]}}(p,l);if(typeof self<"u"&&!u.includes(vl)&&u.push(vl),typeof window<"u")for(const g of[sp,xn])u.includes(g)||u.push(g);return u.includes(cr)||u.push(cr),u}class Bp{constructor(){this.providerId="phone",this._delegate=new wl(kd(Je.A.auth()))}static credential(l,u){return wl.credential(l,u)}verifyPhoneNumber(l,u){return this._delegate.verifyPhoneNumber(l,u)}unwrap(){return this._delegate}}Bp.PHONE_SIGN_IN_METHOD=wl.PHONE_SIGN_IN_METHOD,Bp.PROVIDER_ID=wl.PROVIDER_ID;const Fd=ge;class hI{constructor(l,u,g=Je.A.app()){var v;Fd(null===(v=g.options)||void 0===v?void 0:v.apiKey,"invalid-api-key",{appName:g.name}),this._delegate=new kb(g.auth(),l,u),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Up(p){p.INTERNAL.registerComponent(new In.uA("auth-compat",l=>{const u=l.getProvider("app-compat").getImmediate(),g=l.getProvider("auth");return new kl(u,g)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Xa,FacebookAuthProvider:ll,GithubAuthProvider:Ju,GoogleAuthProvider:Yu,OAuthProvider:Rt,SAMLAuthProvider:dl,PhoneAuthProvider:Bp,PhoneMultiFactorGenerator:Tp,RecaptchaVerifier:hI,TwitterAuthProvider:zf,Auth:kl,AuthCredential:ia,Error:se.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),p.registerVersion("@firebase/auth-compat","0.5.14")}(Je.A)},467:(Fi,gr,ct)=>{function C(Ue,se,St,Sn,In,mr,bt){try{var fe=Ue[mr](bt),Te=fe.value}catch(He){return void St(He)}fe.done?se(Te):Promise.resolve(Te).then(Sn,In)}function Je(Ue){return function(){var se=this,St=arguments;return new Promise(function(Sn,In){var mr=Ue.apply(se,St);function bt(Te){C(mr,Sn,In,bt,fe,"next",Te)}function fe(Te){C(mr,Sn,In,bt,fe,"throw",Te)}bt(void 0)})}}ct.d(gr,{A:()=>Je})},635:(Fi,gr,ct)=>{function se(G,oe){var ce={};for(var z in G)Object.prototype.hasOwnProperty.call(G,z)&&oe.indexOf(z)<0&&(ce[z]=G[z]);if(null!=G&&"function"==typeof Object.getOwnPropertySymbols){var te=0;for(z=Object.getOwnPropertySymbols(G);te<z.length;te++)oe.indexOf(z[te])<0&&Object.prototype.propertyIsEnumerable.call(G,z[te])&&(ce[z[te]]=G[z[te]])}return ce}function He(G,oe,ce,z){return new(ce||(ce=Promise))(function(we,ye){function vt(Nt){try{rt(z.next(Nt))}catch(Rn){ye(Rn)}}function Ht(Nt){try{rt(z.throw(Nt))}catch(Rn){ye(Rn)}}function rt(Nt){Nt.done?we(Nt.value):function te(we){return we instanceof ce?we:new ce(function(ye){ye(we)})}(Nt.value).then(vt,Ht)}rt((z=z.apply(G,oe||[])).next())})}function sn(G){return this instanceof sn?(this.v=G,this):new sn(G)}function wt(G,oe,ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,z=ce.apply(G,oe||[]),we=[];return te=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),vt("next"),vt("throw"),vt("return",function ye(B){return function(U){return Promise.resolve(U).then(B,Rn)}}),te[Symbol.asyncIterator]=function(){return this},te;function vt(B,U){z[B]&&(te[B]=function(ee){return new Promise(function(de,Ce){we.push([B,ee,de,Ce])>1||Ht(B,ee)})},U&&(te[B]=U(te[B])))}function Ht(B,U){try{!function rt(B){B.value instanceof sn?Promise.resolve(B.value.v).then(Nt,Rn):Ii(we[0][2],B)}(z[B](U))}catch(ee){Ii(we[0][3],ee)}}function Nt(B){Ht("next",B)}function Rn(B){Ht("throw",B)}function Ii(B,U){B(U),we.shift(),we.length&&Ht(we[0][0],we[0][1])}}function Mr(G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,oe=G[Symbol.asyncIterator];return oe?oe.call(G):(G=function Lt(G){var oe="function"==typeof Symbol&&Symbol.iterator,ce=oe&&G[oe],z=0;if(ce)return ce.call(G);if(G&&"number"==typeof G.length)return{next:function(){return G&&z>=G.length&&(G=void 0),{value:G&&G[z++],done:!G}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(G),ce={},z("next"),z("throw"),z("return"),ce[Symbol.asyncIterator]=function(){return this},ce);function z(we){ce[we]=G[we]&&function(ye){return new Promise(function(vt,Ht){!function te(we,ye,vt,Ht){Promise.resolve(Ht).then(function(rt){we({value:rt,done:vt})},ye)}(vt,Ht,(ye=G[we](ye)).done,ye.value)})}}}ct.d(gr,{AQ:()=>wt,N3:()=>sn,Tt:()=>se,sH:()=>He,xN:()=>Mr}),"function"==typeof SuppressedError&&SuppressedError}},Fi=>{var gr=C=>Fi(Fi.s=C);gr(73),gr(8)}]);